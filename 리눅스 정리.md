# 리눅스

작성일시: 2023년 9월 25일 오후 1:48
강의 번호: 대전대
유형: 강의
복습: No

## Ch. 1 리눅스 입문

- **리누스 베네딕트 토르발스**(Linus Benedict Torvals)가 **미닉스(MINIX)**라는 교육용 운영체제를 참조하여 처음 개발.
    
    

- **리눅스 = 리누스(개발자)** **+ 유닉스(기존 운영체제)**
    - 유닉스 : **어셈블리어**로 개발된 후 **C언어**로 재개발 되어 운영체제로 이식성이 높음**.**
    
    - 특징
        1. **공개 소프트웨어이며 무료로 사용**
        2. **유닉스(Unix)와 완벽한 호환성을 유지**
        3. **서버용 운영체제로 많이 사용**
        
    - 구조
        1. **커널(Kernel): 리눅스의 핵심**
            1. **프로세스** **관리, 메모리** **관리, 파일 시스템 관리, 장치 관리**
            2. 컴퓨터의 모든 자원 초기화 및 제어 기능
        2. **셸(Shell): 사용자 인터페이스**
            1. 명령 해석, 간단한 프로그래밍 기능, 기본 셸(Bash Shell)
        3. **응용 프로그램**
            1. 각종 프로그래밍 개발 도구, 문서 편집 도구, 네트워크 관련 도구 등
                
                ![리눅스 구조.jpg](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EB%25A6%25AC%25EB%2588%2585%25EC%258A%25A4_%25EA%25B5%25AC%25EC%25A1%25B0.jpg)
                

- **리눅스 배포판 = 리눅스 커널 + 응용 프로그램**
    - **레드햇(Red** **hat) 계열, 데비안(Debian) 계열, 슬랙웨어(Slackare) 계열**

- 리눅스 명령 사용
    - 프롬프트 : **사용자의 명령 입력을 기다리는 표시**
        - 셸(Shell)에 따라 다르게 나타남 (**배시 셸의 경우 $로, 시스템 관리자는 #로 표시됨**)
    - 홈 디렉터리
        - **터미널 창의 기본 디렉터리는 사용자(user1)의 홈 디렉터리에 위치**
        - **사용자의 홈 디렉터리는 사용자 계정을 등록할 때 지정**
        - **사용자는 홈 디렉터리 아래에 자신이 원하는 파일이나 디렉터리를 생성**
    - 명령 행 편집
        - **프롬프트 다음에 명령을 입력**
        - **한 문자 지우기: 백스페이스키나 Delete키를 사용**
        - 한 단어 지우기: Ctrl+w (단어는 공백 문자로 구분)
        - 전체 문장 지우기: Ctrl+u
        
    - 기초 명령
        - **date** : **현재 날짜와 시간을 출력**
            
            ![date.jpg](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/date.jpg)
            
        
        - **clear** : **현재 보이는 화면을 지우고 커서를 화면 좌측 상단으로 이동**
            
            ![clear.jpg](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/clear.jpg)
            
        
        - **man [명령]** : **리눅스가 제공하는 각종 명령의 사용법 제시**
            
            ![man.jpg](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/man.jpg)
            
        
        - **passwd  : 사용자 계정의 비밀번호 변경**
            
            ![passwd.jpg](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/passwd.jpg)
            
        
        - exit : **사용자의 터미널 접속 종료**
        - **Ctrl+d : 사용한 사용자의 접속 종료**

---

## Ch. 2 디렉터리와 파일

- 리눅스 파일의 종류와 특징
    - 파일의 종류
        
        
        | 파일 종류 | 설명 |
        | --- | --- |
        | 일반 파일(Regular File) | 데이터를 저장하는 데 사용
        
        텍스트 파일 : 문서 편집기를 사용하여 보기 및 편집 가능
        실행 파일 :  바이너리 파일이라고 함
        이미지 파일 : 해당 파일의 내용을 확인할 수 있는 특정 응용 프로그램 필요 |
        | 디렉터리(Directory) | 파일이나 하위 디렉터리 정보를 저장
        일종의 파일이며, 윈도우 폴더와 비슷함 |
        | 심벌릭 링크(Symbolic Link) | 원본파일 대신 다른 이름으로 파일명을 지정한 것
        윈도우 바로가기 파일과 유사함 |
        | 장치 파일(Device File) | 리눅스 시스템에 부착된 장치 관리를 위한 특수 파일
        하드디스크나 키보드 장치도 파일로 취급 |
    - 디렉터리 계층 구조
        
        ![디렉터리 계층 구조.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EB%2594%2594%25EB%25A0%2589%25ED%2584%25B0%25EB%25A6%25AC_%25EA%25B3%2584%25EC%25B8%25B5_%25EA%25B5%25AC%25EC%25A1%25B0.png)
        
        - **루트 디렉터리** : 모든 디렉터리의 출발점, **‘ / ’**
        - **하위 디렉터리(서브 디렉터리)** : 현재 디렉터리 아래에 있는 디렉터리
        - **상위 디렉터리(부모 디렉터리)** : 현재 디렉터리 위에 있는 디렉터리, **‘ .. ‘**
        - **작업 디렉터리(현재 디렉터리)** : 현재 작업 중인 디렉터리, **‘ . ‘**
            - pwd 명령으로 확인 가능
        - **홈 디렉터리** : 각 사용자에게 할당된 디렉터리로 처음 사용자 계정을 만들 때 지정, **‘ ~ ‘**
        
        | 주요 디렉터리 내용 | 설명 | 예시 |
        | --- | --- | --- |
        | /bin | 필수적인 실행 명령어 포함 | ls, pwd, ln, cat, cp, mv, rm, mkdir, more, echo, date, chmod, rm, sh, su, kill, vi |
        | /boot | 리눅스 부팅에 필요한 커널 파일 포함 |  |
        | /dev | 각종 장치 파일 | hda(IDE 하드디스크)
        sda(SCSI 하드디스크)
        cdrom(CD-ROM) |
        | /home | 사용자의 모든 홈 디렉터리 |  |
        | /etc | 리눅스 설정을 위한 각종 파일 | passwd, group |
        | /usr | 대부분의 응용 프로그램 |  |
        
        ![주요 디렉터리 내용.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%25A3%25BC%25EC%259A%2594_%25EB%2594%2594%25EB%25A0%2589%25ED%2584%25B0%25EB%25A6%25AC_%25EB%2582%25B4%25EC%259A%25A9.png)
        
    - 절대, 상대 경로 명
        1. 절대 경로 명 : 루트 디렉터리 기준
        2. 상대 경로 명 : 현재 디렉터리 기준
        - 현**재 작업** **디렉터리가 user1** **일 때**
            - “user1” 디렉터리의 절대 경로 명 : **/home/user1**
            - “user1” 아래(하위) “다운로드” 디렉터리의 절대 경로 명 : **/home/user1/다운로드**
            - “user1” 디렉터리에서 “다운로드” 디렉터리의 상대 경로 명 : **다운로드** 또는 **./다운로드**
            - “user1” 디렉터리에서 “hosts” 파일의 상대 경로 명 : **../../etc/hosts**
        
        ![경로명.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EA%25B2%25BD%25EB%25A1%259C%25EB%25AA%2585.png)
        
    - 파일과 디렉터리 이름 규칙
        1. [ 공백 문자, *, |, ‘, ‘’,  @, #, $, %, ^, &, / 등 ] 사용 불가
        2. [ 알파벳, 숫자, -(붙임표), _(밑줄), .(마침표), ,(반점) ] 사용 가능
        3. 대문자와 소문자 구별
        4. .으로 시작하면 숨김 파일로 간주
- 디렉터리 사용 명령
    - 현재 디렉터리 확인
        - pwd : 현재 디렉터리 위치(절대 경로명) 출력
        
        ```bash
        user1@myubuntu:~$ pwd
        /home/user1
        ```
        
    - 디렉터리 이동
        - cd [디렉터리] : [디렉터리]에 **절대 경로명** 또는 **상대 경로명**으로 이동할 디렉터리 지정
        
        ```bash
        user1@myubuntu:~$ cd /tmp
        user1@myubuntu:/tmp$ cd ../usr/lib
        user1@myubuntu:/usr/lib$
        ```
        
        - 홈 디렉터리로 이동
        
        ```bash
        user1@myubuntu:/usr/lib$ cd ~ # 홈 디렉터리 기호 ~ 사용
        user1@myubuntu:~$ cd          # 목적지 지정 X
        user1@myubuntu:~$ cd /home/user1 # 절대 경로명 사용
        user1@myubuntu:~$
        ```
        
    - 디렉터리 내용 보기
        - ls [옵션] [디렉터리] : 디렉터리의 내용을 출력
        
        ![ls.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/ls.png)
        
        ```bash
        user1@myubuntu:~$ ls # 옵션 지정하지 않고 확인
        linux_ex  temp  다운로드  바탕화면  사진  템플릿
        snap      공개  문서      비디오    음악
        ```
        
        ```python
        user1@myubuntu:~$ ls -a # -a 옵션으로 .으로 시작하는 숨김 파일 확인
        .              .bashrc  .lesshst                   linux_ex  다운로드  사진
        ..             .cache   .local                     snap      문서      음악
        .bash_history  .config  .profile                   temp      바탕화면  템플릿
        .bash_logout   .exrc    .sudo_as_admin_successful  공개      비디오
        ```
        
        ```python
        user1@myubuntu:~$ ls -d # -d 옵션은 디렉토리 자체를 나타내는 항목만 출력 / 경로를 지정해줘야 뜸
        .
        ```
        
        ```python
        user1@myubuntu:~$ ls -i # -i 옵션은 inode 번호를 출력
        1052025 linux_ex  1051987 공개      1051984 바탕화면  1051989 음악
        1051892 snap      1051985 다운로드  1051991 비디오    1051986 템플릿
        1051895 temp      1051988 문서      1051990 사진
        ```
        
        ```python
        user1@myubuntu:~$ ls -l # -l 옵션은 디렉터리에 있는 파일의 상세 정보 출력
        합계 44
        drwxrwxr-x 5 user1 user1 4096 10월 17 09:32 linux_ex
        drwx------ 4 user1 user1 4096  9월 11 17:23 snap
        drwxrwxr-x 3 user1 user1 4096  9월 12 10:39 temp
        drwxr-xr-x 2 user1 user1 4096  9월  7 21:05 공개
        drwxr-xr-x 2 user1 user1 4096  9월  7 21:05 다운로드
        drwxr-xr-x 2 user1 user1 4096  9월  7 21:05 문서
        drwxr-xr-x 2 user1 user1 4096  9월  7 21:05 바탕화면
        drwxr-xr-x 2 user1 user1 4096  9월  7 21:05 비디오
        drwxr-xr-x 2 user1 user1 4096  9월  7 21:05 사진
        drwxr-xr-x 2 user1 user1 4096  9월  7 21:05 음악
        drwxr-xr-x 2 user1 user1 4096  9월  7 21:05 템플릿
        ```
        
        ```python
        user1@myubuntu:~$ ls -A # -A 옵션은 '.' (현재 디렉토리)와 '..' (부모 디렉토리)는 제외하고 출력
        .bash_history  .config   .profile                   temp      바탕화면  템플릿
        .bash_logout   .exrc     .sudo_as_admin_successful  공개      비디오
        .bashrc        .lesshst  linux_ex                   다운로드  사진
        .cache         .local    snap                       문서      음악
        ```
        
        ```python
        user1@myubuntu:~$ ls -L # -L 옵션은 심벌릭 링크 파일이 있을 경우 원본까지 출력
        linux_ex  temp  다운로드  바탕화면  사진  템플릿
        snap      공개  문서      비디오    음악
        ```
        
        ```python
        user1@myubuntu:~$ ls -F # -F 옵션으로 파일 종류 구분
        linux_ex/  temp/  다운로드/  바탕화면/  사진/  템플릿/
        snap/      공개/  문서/      비디오/    음악/ 
        # / (디렉터리), @(심벌릭 링크), *(실행파일), 표시 없음(일반파일)
        ```
        
        ```python
        user1@myubuntu:~$ ls -R # -R 옵션은 하위 디렉터리 목록까지 출력
        .:
        linux_ex  temp  다운로드  바탕화면  사진  템플릿
        snap      공개  문서      비디오    음악
        
        ./linux_ex:
        ch2  ch4  ch5  exec.txt  test.txt  test1.txt  test3.txt  text.txt
        
        ./linux_ex/ch2:
        data   data1.hl   data1.sl  datb  temp2    test.hl2  test.sl  tmp
        data1  data1.hl2  data2     temp  test.hl  test.org  three    twe
        
        ./linux_ex/ch2/temp:
        data1  data2  hosts  services  temp  temp3  text1
        
        ./linux_ex/ch2/temp/temp3:
        hosts  services  temp  text1
        
        ./linux_ex/ch2/temp/temp3/temp:
        hosts  services  text1
        
        ./linux_ex/ch2/temp2:
        data1  data2  hosts  services  temp  temp3  text1
        
        ./linux_ex/ch2/temp2/temp3:
        hosts  services  temp  text1
        
        ./linux_ex/ch2/temp2/temp3/temp:
        hosts  services  text1
        
        ./linux_ex/ch2/three:
        
        ./linux_ex/ch2/twe:
        
        ./linux_ex/ch4:
        exec2.txt  out1   out2  out4  out7  out9    temp2.jaba  test.txt    test24.txt
        exec3.txt  out10  out3  out6  out8  temp.c  temp2.java  test12.txt
        
        ./linux_ex/ch5:
        set  temp2
        
        ./linux_ex/ch5/temp2:
        
        ./snap:
        firefox  snapd-desktop-integration
        
        ./snap/firefox:
        3131  3252  common  current
        
        ./snap/firefox/3131:
        
        ./snap/firefox/3252:
        
        ./snap/firefox/common:
        
        ./snap/snapd-desktop-integration:
        83  common  current
        
        ./snap/snapd-desktop-integration/83:
        공개  다운로드  문서  바탕화면  비디오  사진  음악  템플릿
        
        ./snap/snapd-desktop-integration/83/공개:
        
        ./snap/snapd-desktop-integration/83/다운로드:
        
        ./snap/snapd-desktop-integration/83/문서:
        
        ./snap/snapd-desktop-integration/83/바탕화면:
        
        ./snap/snapd-desktop-integration/83/비디오:
        
        ./snap/snapd-desktop-integration/83/사진:
        
        ./snap/snapd-desktop-integration/83/음악:
        
        ./snap/snapd-desktop-integration/83/템플릿:
        
        ./snap/snapd-desktop-integration/common:
        
        ./temp:
        test
        
        ./temp/test:
        kill
        
        ./temp/test/kill:
        
        ./공개:
        
        ./다운로드:
        
        ./문서:
        
        ./바탕화면:
        
        ./비디오:
        
        ./사진:
        
        ./음악:
        
        ./템플릿:
        ```
        
        - ls [파일 이름] : 파일 존재 확인
        
        ```bash
        user1@myubuntu:~$ ls .bashrc
        .bashrc
        user1@myubuntu:~$ ls game
        ls: 'game'에 접근할 수 없음: 그런 파일이나 디렉터리가 없습니다
        ```
        
    - 디렉터리 생성/삭제
        - mkdir [옵션] 디렉터리 : 디렉터리 생성
            
            ![mkdir.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/mkdir.png)
            
            ```bash
            user1@myubuntu:~$ mkdir temp # 옵션 없이 생성하려는 디렉터리 명 한개 지정 / 디렉터리 명은 상대, 절대 경로명 지정
            mkdir: 'temp' 디렉터리를 만들 수 없습니다: 파일이 있습니다
            
            user1@myubuntu:~$ mkdir tmp1 tmp2 tmp3 # 옵션 없이 여러 개 디렉터리 명을 지정 / 공백 문자로 구분
            user1@myubuntu:~$ ls
            linux_ex  temp  tmp2  공개      문서      비디오  음악
            snap      tmp1  tmp3  다운로드  바탕화면  사진    템플릿
            
            user1@myubuntu:~$ mkdir temp/mid/han
            mkdir: `temp/mid/han' 디렉터리를 만들 수 없습니다: 그런 파일이나 디렉터리가 없습니다
            user1@myubuntu:~$ mkdir -p temp/mid/han # -p 옵션 사용 시 중간 단계 디렉터리 자동 생성 후 최종 디렉터리 생성
            user1@myubuntu:~$ ls -R temp
            temp:
            mid  test
            
            temp/mid:
            han
            
            temp/mid/han:
            
            temp/test:
            kill
            
            temp/test/kill:
            ```
            
        - rmdir [옵션] 디렉터리 : 디렉터리 삭제
            
            ![rmdir.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/rmdir.png)
            
            ```bash
            user1@myubuntu:~$ rmdir temp # 디렉터리가 비어 있지 않으면 삭제 불가 -> rm 명령으로 삭제 가능
            rmdir: 'temp' 제거 실패: 디렉터리가 비어있지 않음
            
            user1@myubuntu:~$ rmdir tmp3
            user1@myubuntu:~$ ls
            linux_ex  temp  tmp2  다운로드  바탕화면  사진  템플릿
            snap      tmp1  공개  문서      비디오    음악
            ```
            
- 파일 사용 명령
    - 파일 내용 보기
        - 파일 내용 연속 출력(cat)
            - cat [옵션] 파일 : 텍스트 파일 내용 확인
                
                ![cat.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/cat.png)
                
                ```bash
                user1@myubuntu:~/linux_ex/ch2$ cat /etc/hosts
                127.0.0.1	localhost
                127.0.1.1	myubuntu
                
                # The following lines are desirable for IPv6 capable hosts
                ::1     ip6-localhost ip6-loopback
                fe00::0 ip6-localnet
                ff00::0 ip6-mcastprefix
                ff02::1 ip6-allnodes
                ff02::2 ip6-allrouters
                
                user1@myubuntu:~/linux_ex/ch2$ cat -n /etc/hosts # -n 옵션으로 행 번호도 출력
                     1	127.0.0.1	localhost
                     2	127.0.1.1	myubuntu
                     3	
                     4	# The following lines are desirable for IPv6 capable hosts
                     5	::1     ip6-localhost ip6-loopback
                     6	fe00::0 ip6-localnet
                     7	ff00::0 ip6-mcastprefix
                     8	ff02::1 ip6-allnodes
                     9	ff02::2 ip6-allrouters
                ```
                
        - 화면 단위 파일 내용 출력(more)
            - more [옵션] 파일 : cat 명령에서 내용이 많아 스크롤이 되는 경우를 보완
                - Space Bar : 다음 화면 이동
                - Enter : 한 줄씩 이동
                - /문자열 : 현재 화면부터 문자열 검색
                - n : 다음 문자열 검색
                - q : 명령 종료
                
                ![more.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/more.png)
                
                ```bash
                user1@myubuntu:~/linux_ex/ch2$ more /etc/services
                # Network services, Internet style
                #
                # Updated from https://www.iana.org/assignments/service-names-port-numbers/servi
                ce-names-port-numbers.xhtml .
                #
                # New ports will be added on request if they have been officially assigned
                # by IANA and used in the real-world or are needed by a debian package.
                # If you need a huge list of used numbers please install the nmap package.
                
                tcpmux		1/tcp				# TCP port service multiplexer
                echo		7/tcp
                echo		7/udp
                discard		9/tcp		sink null
                discard		9/udp		sink null
                systat		11/tcp		users
                daytime		13/tcp
                daytime		13/udp
                netstat		15/tcp
                qotd		17/tcp		quote
                chargen		19/tcp		ttytst source
                chargen		19/udp		ttytst source
                ftp-data	20/tcp
                ftp		21/tcp
                --More--(5%)
                ```
                
        - 개선된 화면 단위 파일 내용 출력(less)
            - less 파일 : 스크롤 되어도 이전 내용도 확인 가능
                - j : 한 줄씩 다음 행 스크롤
                - k : 한 줄씩 이전 행 스크롤
                - Space Bar / Ctrl + f : 다음 화면 이동
                - Ctrl + b : 이전 화면 이동
                - /문자열 : 현재 화면부터 문자열 검색
                - n : 다음 문자열 검색
                - q : 명령 종료
                
                ![less.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/less.png)
                
                ```bash
                user1@myubuntu:~/linux_ex/ch2$ less /etc/services
                # Network services, Internet style
                #
                # Updated from https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml .
                #
                # New ports will be added on request if they have been officially assigned
                # by IANA and used in the real-world or are needed by a debian package.
                # If you need a huge list of used numbers please install the nmap package.
                
                tcpmux          1/tcp                           # TCP port service multiplexer
                echo            7/tcp
                echo            7/udp
                discard         9/tcp           sink null
                discard         9/udp           sink null
                systat          11/tcp          users
                daytime         13/tcp
                daytime         13/udp
                netstat         15/tcp
                qotd            17/tcp          quote
                chargen         19/tcp          ttytst source
                chargen         19/udp          ttytst source
                ftp-data        20/tcp
                ftp             21/tcp
                /etc/services
                ```
                
        - 파일 뒷부분 출력(tail)
            - tail [옵션] 파일 : 파일의 마지막 10행 출력
                - 옵션을 통해 행의 수 지정
                
                ![tail.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/tail.png)
                
                ```bash
                user1@myubuntu:~/linux_ex/ch2$ tail /etc/services
                sgi-cad		17004/tcp			# Cluster Admin daemon
                binkp		24554/tcp			# binkp fidonet protocol
                asp		27374/tcp			# Address Search Protocol
                asp		27374/udp
                csync2		30865/tcp			# cluster synchronization tool
                dircproxy	57000/tcp			# Detachable IRC Proxy
                tfido		60177/tcp			# fidonet EMSI over telnet
                fido		60179/tcp			# fidonet EMSI over TCP
                
                # Local services
                
                user1@myubuntu:~/linux_ex/ch2$ tail -7 /etc/services # 마지막 7행 출력
                asp		27374/udp
                csync2		30865/tcp			# cluster synchronization tool
                dircproxy	57000/tcp			# Detachable IRC Proxy
                tfido		60177/tcp			# fidonet EMSI over telnet
                fido		60179/tcp			# fidonet EMSI over TCP
                
                # Local services
                
                user1@myubuntu:~/linux_ex/ch2$ tail -f /etc/services # 종료하지 않고 주기적으로 반복 출력
                sgi-cad		17004/tcp			# Cluster Admin daemon
                binkp		24554/tcp			# binkp fidonet protocol
                asp		27374/tcp			# Address Search Protocol
                asp		27374/udp
                csync2		30865/tcp			# cluster synchronization tool
                dircproxy	57000/tcp			# Detachable IRC Proxy
                tfido		60177/tcp			# fidonet EMSI over telnet
                fido		60179/tcp			# fidonet EMSI over TCP
                
                # Local services
                q                
                ^Z
                [1]+  멈춤                  tail -f /etc/services
                ```
                
    - 파일 복사/이동/삭제
        - 파일(디렉터리 복사)
            - cp [옵션] 파일1(디렉터리1) 파일2(디렉터리2)
                - 파일1(디렉터리1) : 원본 파일명(디렉터리명)
                - 파일2(디렉터리2) : 목적지 파일명(디렉터리명)
                
                ![cp.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/cp.png)
                
                ```bash
                # 두 인자가 모두 파일인 경우 : 원본 파일을 목적지 파일에 복사(없으면 생성)
                user1@myubuntu:~/linux_ex/ch2$ cp /etc/hosts text1
                user1@myubuntu:~/linux_ex/ch2$ ls
                data   data1.hl   data1.sl  datb  temp2    test.hl2  test.sl  three  twe
                data1  data1.hl2  data2     temp  test.hl  test.org  **text1**    tmp
                
                # 두번쨰 인자가 디렉터리인 경우 : 파일을 디렉터리 아래에 복사
                user1@myubuntu:~/linux_ex/ch2$ cp text1 temp
                user1@myubuntu:~/linux_ex/ch2$ ls temp
                data1  data2  hosts  services  temp  temp3  **text1**
                
                # 디렉터리 내 원본 파일과 다른 이름으로 복사
                user1@myubuntu:~/linux_ex/ch2$ cp text1 temp/text2
                user1@myubuntu:~/linux_ex/ch2$ ls temp
                data1  data2  hosts  services  temp  temp3  **text1  text2**
                
                # 쓰기 권한 없는 디렉토리에는 불가
                user1@myubuntu:~/linux_ex/ch2$ cp text1 /etc
                cp: 일반 파일 '/etc/text1'을(를) 생성할 수 없음: 허가 거부
                
                # 여러 개 파일 한번에 복사
                # 첫 번째 인자에 파일명을 여러 개 지정 가능, 두 번째 인자는 무조건 디렉터리
                user1@myubuntu:~/linux_ex/ch2$ cp **/etc/hosts /etc/services** temp
                user1@myubuntu:~/linux_ex/ch2$ ls temp
                data1  data2  hosts  services  temp  temp3  text1  text2
                
                # -i 옵션 사용
                # 이미 존재하는 경우 덮어쓸 것인지 물어봄
                user1@myubuntu:~/linux_ex/ch2$ cp -i /etc/hosts text1
                cp: 'text1'을(를) 덮어쓸까요?
                
                # -r 옵션 사용
                # 디렉터리 간 복사 / 두 번째 인자가 존재하지 않을 시 새로 생성
                user1@myubuntu:~/linux_ex/ch2$ cp -r temp temp2
                user1@myubuntu:~/linux_ex/ch2$ ls
                data   data1.hl   data1.sl  datb  **temp2**    test.hl2  test.sl  three  twe
                data1  data1.hl2  data2     temp  test.hl  test.org  text1    tmp
                ```
                
        - 파일 이동 후 이름 바꾸기
            - **mv [옵션] 파일1(디렉터리1) 파일2(디렉터리2)**
                - 파일1(디렉터리1) : 원본 파일명(디렉터리명)
                - 파일2(디렉터리2) : 목적지 파일명(디렉터리명)
                
                ![mv.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/mv.png)
                
                ```bash
                # 다른 파일로 이동(= 파일명 바꾸기)
                # 두 번째 인자가 이미 존재하는 파일명이면 -> 원본 파일 내용을 덮어쓰고 기존 내용 삭제
                user1@myubuntu:~/linux_ex/ch2$ mv text1 data1
                user1@myubuntu:~/linux_ex/ch2$ ls
                data   data1.hl   data1.sl  datb  temp2    test.hl2  test.sl  tmp
                data1  data1.hl2  data2     temp  test.hl  test.org  three    twe
                
                # 파일을 다른 디렉터리로 이동
                # 두 번째 인자를 디렉터리 지정
                user1@myubuntu:~/linux_ex/ch2$ mv data1 temp
                user1@myubuntu:~/linux_ex/ch2$ ls temp
                data1  data2  hosts  services  temp  temp3  text1  text2
                
                # 두 번째 인자를 디렉터리, 파일명 지정
                user1@myubuntu:~/linux_ex/ch2$ cp temp/data1 text1
                user1@myubuntu:~/linux_ex/ch2$ mv text1 temp/data2
                user1@myubuntu:~/linux_ex/ch2$ ls temp
                data1  data2  hosts  services  temp  temp3  text1  text2
                
                # 파일 여러 개를 디렉터리로 이동
                # 두 번째 인자는 무조건 디렉터리
                user1@myubuntu:~/linux_ex/ch2$ mv temp/data1 temp/data2 .
                user1@myubuntu:~/linux_ex/ch2$ ls
                data   data1.hl   data1.sl  datb  temp2    test.hl2  test.sl  tmp
                data1  data1.hl2  data2     temp  test.hl  test.org  three    twe
                
                # -i 옵션 사용
                # 두 번째 인자 파일명이 있을 경우 덮어쓰기 물어봄
                user1@myubuntu:~/linux_ex/ch2$ mv -i data1 data2
                mv: 'data2'을(를) 덮어쓸까요?
                
                # 디렉터리를 디렉터리로 이동(= 디렉터리명 바꾸기)
                user1@myubuntu:~/linux_ex/ch2$ mv temp2 temp3
                user1@myubuntu:~/linux_ex/ch2$ ls
                data   data1.hl   data1.sl  datb  temp3    test.hl2  test.sl  tmp
                data1  data1.hl2  data2     temp  test.hl  test.org  three    twe
                
                # 두 번째 인자가 이미 있는 경우 하위 디렉터리로 이동
                user1@myubuntu:~/linux_ex/ch2$ mv temp3 temp
                user1@myubuntu:~/linux_ex/ch2$ ls temp
                hosts  services  temp  temp3  text1  text2
                ```
                
        - 파일 삭제
            - rm [옵션] 파일(디렉터리)
                - 삭제 시 복구 불가
            
            ![rm.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/rm.png)
            
            ```bash
            # 파일 삭제
            user1@myubuntu:~/linux_ex/ch2$ rm data2
            user1@myubuntu:~/linux_ex/ch2$ ls
            data   data1.hl   data1.sl  temp     test.hl2  test.sl  tmp
            data1  data1.hl2  datb      test.hl  test.org  three    twe
            
            # -i 옵션 사용
            # 삭제할 것인지 물어봄
            user1@myubuntu:~/linux_ex/ch2$ rm -i data1
            rm: 일반 파일 'data1'를 제거할까요?
            
            # 디렉터리 삭제
            # -r 옵션을 사용해야 삭제 가능
            user1@myubuntu:~/linux_ex/ch2$ mkdir temp3
            user1@myubuntu:~/linux_ex/ch2$ rm temp3
            rm: 'temp3'을(를) 제거할 수 없습니다: 디렉터리입니다
            user1@myubuntu:~/linux_ex/ch2$ rm -r temp3
            user1@myubuntu:~/linux_ex/ch2$
            ```
            
            - rm과 rmdir의 차이점
                - rmdir은 삭제 디렉터리가 비어있지 않으면 삭제 불가
                - rm은 -r 옵션을 통해 비어있지 않아도 삭제 가능
    - 리눅스 파일 구성
        - 파일 구성 = 파일명 + inode 테이블 + 데이터 블록
            - 파일명 : 사용자가 파일에 접근할 때 사용하는 파일 이름
            - inode 테이블 : 파일에 대한 정보를 가지는 구조체(inode 번호, 파일 종류, 크기, 소유자, 파일 변경 시간 등의 파일 상세 정보와 데이터 블록 주소 저장)
            - inode 번호는 ls -i 명령으로 확인
            
            ```bash
            user1@myubuntu:~/linux_ex/ch2$ ls -i
            1052334 data       1052324 data1.sl  1052338 test.hl2  1052370 tmp
            1052129 data1      1052389 datb      1052338 test.org  1052037 twe
            1052213 data1.hl   1051979 temp      1054092 test.sl
            1052213 data1.hl2  1052338 test.hl   1052088 three
            ```
            
            ![파일 시스템.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258C%258C%25EC%259D%25BC_%25EC%258B%259C%25EC%258A%25A4%25ED%2585%259C.png)
            
            ![inode 테이블.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/inode_%25ED%2585%258C%25EC%259D%25B4%25EB%25B8%2594.png)
            
    - 하드/심벌릭 링크 생성
        
        ![ln.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/ln.png)
        
        - 하드 링크 : 기존 파일에 새로운 파일명을 추가 생성
            - 한 파일에 여러 개의 이름을 붙일 수 있음
            
            ```bash
            user1@myubuntu:~/linux_ex/ch2$ ln data1 data1.hl
            user1@myubuntu:~/linux_ex/ch2$ ls -l
            합계 64
            -rw-r--r-- 1 user1 user1 12813 10월 18 20:01 data
            -rw-r--r-- 2 user1 user1   223 10월 18 19:44 data1
            -rw-r--r-- 2 user1 user1   223 10월 18 19:44 data1.hl
            -rw-rw-r-- 2 user1 user1     0  9월 19 09:28 data1.hl2
            -rw-r--r-- 1 user1 user1 12813  9월 19 10:19 datb
            drwxrwxr-x 3 user1 user1  4096 10월 18 19:49 temp
            -rw-rw-r-- 4 user1 user1   223  9월 19 09:43 test.hl
            -rw-rw-r-- 4 user1 user1   223  9월 19 09:43 test.hl2
            -rw-rw-r-- 4 user1 user1   223  9월 19 09:43 test.org
            lrwxrwxrwx 1 user1 user1     8  9월 19 09:46 test.sl -> test.org
            drwxrwxr-x 2 user1 user1  4096  9월 12 10:47 three
            lrwxrwxrwx 1 user1 user1     4  9월 19 10:06 tmp -> temp
            drwxrwxr-x 2 user1 user1  4096  9월 12 10:47 twe
            
            # inode 번호 확인
            user1@myubuntu:~/linux_ex/ch2$ ls -il
            1052129 -rw-r--r-- 2 user1 user1   223 10월 18 19:44 data1
            1052129 -rw-r--r-- 2 user1 user1   223 10월 18 19:44 data1.hl
            
            # 파일 내용 비교
            user1@myubuntu:~/linux_ex/ch2$ cat data1
            127.0.0.1	localhost
            127.0.1.1	myubuntu
            
            # The following lines are desirable for IPv6 capable hosts
            ::1     ip6-localhost ip6-loopback
            fe00::0 ip6-localnet
            ff00::0 ip6-mcastprefix
            ff02::1 ip6-allnodes
            ff02::2 ip6-allrouters
            
            user1@myubuntu:~/linux_ex/ch2$ cat data1.hl
            127.0.0.1	localhost
            127.0.1.1	myubuntu
            
            # The following lines are desirable for IPv6 capable hosts
            ::1     ip6-localhost ip6-loopback
            fe00::0 ip6-localnet
            ff00::0 ip6-mcastprefix
            ff02::1 ip6-allnodes
            ff02::2 ip6-allrouters
            ```
            
            - ln과 cp의 차이점
                - 하드 링크는 이름만 다른 같은 파일 생성, cp는 내용만 동일한 다른 파일 생성
        - 심벌릭 링크 : 원본 파일을 가리키는 새로운 파일 생성(윈도우 바로가기)
            - -s 옵션을 사용해서 심벌릭 링크 생성
            
            ```bash
            # ln -s
            user1@myubuntu:~/linux_ex/ch2$ ln -s data1 data1.sl
            user1@myubuntu:~/linux_ex/ch2$ ls -il
            1052129 -rw-r--r-- 2 user1 user1   223 10월 18 19:44 data1
            1052130 lrwxrwxrwx 1 user1 user1     5 10월 18 21:20 data1.sl -> data1
            ```
            
            - 특징
                - 파일 종류가 l(소문자 L)로 표시됨 (lrwsrwsrws)
                하드 링크의 개수가 증가하지 않음
                파일명 뒤에 원본 파일명이 표시됨 ([data1.sl](http://data1.sl/) -> data1)
                inode 번호가 원본 파일과 다름 (원본 파일과 심벌릭 링크 파일은 다른 파일임)
                data1이 수정되면 data1.sl도 반영됨 (반대도 마찬가지임)
                디렉터리에도 심벌릭 링크 생성 가능 (하드 링크는 불가능)
                원본 파일(data1)이 삭제되면 심벌릭 링크로 연결 불가능 ([data1.sl](http://data1.sl/) 사용 불가능)
    - 파일 내용 검색
        - grep [옵션] 패턴파일
        
        ![grep.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/grep.png)
        
        ```bash
        # NNTP 포함한 행 검색
        user1@myubuntu:~/linux_ex/ch2$ cp /etc/services data
        user1@myubuntu:~/linux_ex/ch2$ grep NNTP data
        nntps		563/tcp		snntp		# NNTP over SSL
        
        # NNTP 포함한 행 줄 번호도 검색
        user1@myubuntu:~/linux_ex/ch2$ grep -n NNTP data
        121:nntps		563/tcp		snntp		# NNTP over SSL
        
        # NNTP 대소문자 구분 없이 검색
        user1@myubuntu:~/linux_ex/ch2$ grep -i NNTP data
        nntp		119/tcp		readnews untp	# USENET News Transfer Protocol
        nntps		563/tcp		snntp		# NNTP over SSL
        ```
        
    - 파일 검색
        - find [경로 검색 조건] [옵션] [동작]
            - 파일 생성 일자와 이름, 소유자 등 다양한 조건에 맞는 파일을 검색
        
        ![find.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/find.png)
        
        ```bash
        # /bin 디렉터리에서 -name 옵션을 사용해서 ls 파일 위치 검색
        user1@myubuntu:~/linux_ex/ch2$ find /usr/bin -name ls
        /usr/bin/ls
        
        # 특정 사용자 계정이 소유자인 파일 찾을 때 -user 옵션 사용
        user1@myubuntu:~/linux_ex$ find ch2 -user user1
        ch2
        ch2/data1.hl2
        ch2/datb
        ch2/twe
        ch2/test.sl
        ch2/data1.sl
        ch2/test.org
        ch2/data1.hl
        ch2/test.hl
        ch2/tmp
        ch2/test.hl2
        ch2/data
        ch2/three
        ch2/data1
        ch2/temp
        ch2/temp/text2
        ch2/temp/temp3
        ch2/temp/temp3/text2
        ch2/temp/temp3/temp3
        ch2/temp/temp3/temp3/services
        ch2/temp/temp3/temp3/text1
        ch2/temp/temp3/temp3/hosts
        ch2/temp/temp3/temp3/temp
        ch2/temp/temp3/temp3/temp/services
        ch2/temp/temp3/temp3/temp/text1
        ch2/temp/temp3/temp3/temp/hosts
        ch2/temp/temp3/services
        ch2/temp/temp3/text1
        ch2/temp/temp3/hosts
        ch2/temp/temp3/data1
        ch2/temp/temp3/temp
        ch2/temp/temp3/data2
        ch2/temp/services
        ch2/temp/text1
        ch2/temp/hosts
        ch2/temp/temp
        
        # 현재 디렉터리에서 data라는 파일을 찾음
        user1@myubuntu:~/linux_ex$ find . -name data
        ./ch2/data
        
        user1@myubuntu:~/linux_ex$ find . -name 'data?' # ? : 한글자 대체
        ./ch2/data1
        ./ch2/temp/temp3/data1
        ./ch2/temp/temp3/data2
        
        user1@myubuntu:~/linux_ex$ find . -name 'data*' # * : 글자 수 상관없이 대체
        ./ch2/data1.hl2
        ./ch2/data1.sl
        ./ch2/data1.hl
        ./ch2/data
        ./ch2/data1
        ./ch2/temp/temp3/data1
        ./ch2/temp/temp3/data2
        
        # 작업 수행
        # {} 부분에 절대 경로명
        user1@myubuntu:~/linux_ex/ch2$ find /tmp -user user1 -exec rm {} #;
        user1@myubuntu:~/linux_ex/ch2$ find /tmp -user user1 -ok rm {} #;
        ```
        

---

## Ch. 3 문서 편집

- 리눅스 문서 편집기
    - 리눅스 편집기 종류
        1. 행 단위 편집기(라인 편집기) - Unix부터 사용
            1. ed : 유닉스 초기 행 편집기
            2. ex : vi를 더욱 강력하게 하는 기능 제공
            3. sed : 스트림 편집기로 지시된 명령에 따라 파일 내용 일괄적으로 바꿔 출력
        2. 화면 단위 편집기
            1. vi(vim) : 리눅스(유닉스)에서 일반적으로 사용하는 화면 편집기
            2. emacs : 가장 강력한 기능 제공, But 사용법이 어렵고 별도 설치 필요
            3. nano : vi나 emacs보다 매우 편리(윈도우 메모장)
            4. gedit : 리눅스 GUI 기반 편집기, 마우스 사용 가능
    - 모드/비모드형 편집기
        1. 모드형 편집기(vi)
            1. 입력 모드 : 텍스트 입력 가능 모드
            2. 명령 모드 : 텍스트 수정, 삭제, 복사, 붙이기 등 편집 명령 모드
        2. 비모드형 편집기(nano, gedit, 한글, 워드, 메모장)
            1. 입력, 명령 모드가 구분 X
            2. 편집 명령 시 Ctrl이나 Alt 같은 특수 키 이용
- vi 사용법
    - vi 동작 모드
        
        ![vi 동작 모드.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/vi_%25EB%258F%2599%25EC%259E%2591_%25EB%25AA%25A8%25EB%2593%259C.png)
        
    - vi 시작과 종료
        - vi 시작
            1. 파일 이름 지정 시 : 파일이 있으면 열리고 없으면 빈 파일 열림
            2. 파일 이름 지정 X 시 : 그냥 빈 파일 열림
            
            ```bash
            user1@myubuntu:~/linux_ex/ch3$ vi test.txt
            user1@myubuntu:~/linux_ex/ch3$ vi
            ```
            
            ![vi.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/vi.png)
            
        - vi 종료
            - 명령 모드나 마지막 행 모드에서 저장하고 종료 가능
            
            ![vi 종ㄹ.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/vi_%25EC%25A2%2585%25E3%2584%25B9.png)
            
    - 모드 전환 방법
        - 입력 모드로 전환
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | i | 현재 커서 자리에 입력(커서 앞 부분에 입력) |
            | a | 현재 커서 다음 자리에 입력(커서 뒷 부분에 입력) |
            | o | 커서가 위치한 행의 다음 행에 입력 |
            | I | 커서가 위치한 행의 첫 칼럼(단어의 첫 글자)로 이동하여 입력 |
            | A | 커서가 위치한 행의 마지막 칼럼(단어 뒤)로 이동하여 입력 |
            | O | 커서가 위치한 행의 이전 행에 입력(이전 행에 새로운 행이 추가됨) |
            - ESC를 누르면 다시 명령 모드로 전환(커서가 글자 위로 이동)
            - 다음 행 이동은 Enter
    - 커서/화면 이동, 수정, 삭제
        - 커서 이동
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | k | 한 행 위로 이동 |
            | j | 한 행 아래로 이동 |
            | l | 한 글자 오른쪽으로 이동 |
            | h | 한 글자 왼쪽으로 이동 |
            | ^ 또는 0(숫자) | 현재 행의 처음으로 이동 |
            | $ | 현재 행의 마지막으로 이동 |
            | - | 앞 행 처음으로 이동 |
            | + 또는 Enter | 다음 행 처음으로 이동 |
            | H | 화면 맨 윗행으로 이동 |
            | M | 화면 중간 행으로 이동 |
            | L | 화면 맨 아랫행으로 이동 |
            | w | 다음 단어의 첫 글자로 이동 |
            | b | 앞 단어 첫글자로 이동 |
            | e | 현재 단어 마지막 글자로 이동 |
            
            ![커서 이동 명령.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%25BB%25A4%25EC%2584%259C_%25EC%259D%25B4%25EB%258F%2599_%25EB%25AA%2585%25EB%25A0%25B9.png)
            
            - 초기 유닉스 vi는 화살표 키, Home, End 키로 커서 이동 불가
            
            ![커서 이동.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%25BB%25A4%25EC%2584%259C_%25EC%259D%25B4%25EB%258F%2599.png)
            
        - 화면 이동
            - 파일 크기가 화면 크기보다 클 경우 사용
            
            | 명령 키 | 기능 | 추가 명령 키 |
            | --- | --- | --- |
            | Ctrl + u | 화면 반정도 크기만큼 위로 이동 |  |
            | Ctrl + d | 화면 반정도 크기만큼 아래로 이동 |  |
            | Ctrl + b | 화면 크기만큼 위로 이동 | Page Up |
            | Ctrl + f | 화면 크기만큼 아래로 이동 | Page Down |
            | Ctrl + y | 한 행 위로 이동 |  |
            | Ctrl + e | 한 행 아래로 이동 |  |
        - 특정 행 이동
            - 원하는 행 처음으로 커서 바로 이동
            
            | 명령 키 | 기능 |
            | --- | --- |
            | G | 파일의 마지막 행으로 이동 |
            | (행 번호)G | 지정한 행 번호로 이동 |
            | :(행 번호) | 지정한 행 번호로 이동(마지막 행 모드) |
            | :$ | 파일의 마지막 행으로 이동(마지막 행 모드) |
        
        ---
        
        - 내용 수정하기
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | r | 커서가 위치한 글자를 다른 글자로 수정 |
            | cw 또는 #cw | cw : 현재 커서 위치부터 현재 위치한 단어 끝까지 수정
            #cw : #은 단어 수, 현재 커서 위치부터 #개 단어를 수정 |
            | s 또는 #s | s : 현재 커서 위치부터 Esc(명령 모드) 누르기 전까지 수정
            #s : #는 글자 수, 현재 커서 위치부터 #개 글자 수만큼 수정 |
            | cc | 현재 위치한 행 내용 모두 수정(현재 행을 모두 지움, 행은 그대로) |
            | C | 커서 위치부터 행 끝까지 수정 |
            
            ![r.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/r.png)
            
            ![cw.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/cw.png)
            
        - 내용 삭제하기
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | x 또는 #x | x :  커서 위치 글자 삭제
            #x : #는 삭제할 글자 수 |
            | dw 또는 #dw | dw : 커서 위치 단어 삭제
            #dw : #는 삭제할 단어 수 |
            | dd 또는 #dd | dd : 커서 위치 행 삭제(잘라내기 - 버퍼에 남아 있음)
            #dd : #는 삭제할 행 수 |
            | D | 커서 위치부터 행 끝까지 삭제 |
            
            ![x.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/x.png)
            
            ![3x.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/3x.png)
            
            ![dd.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/dd.png)
            
        
        ---
        
        - 명령 취소하기
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | u | 명령 취소 |
            | U | 해당 행에 한 명령 취소 |
            | :e! | 마지막 저장 내용 이후 것 버리고 새로 작업 |
    - 복사/잘라내기/붙이기/검색/바꾸기
        - 복사하기(잘라서 붙이기) - 명령 모드
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | yy 또는 #yy | yy : 커서가 위치한 행을 복사
            #yy : #는 복사할 행의 수 지정 |
            | p | 커서가 위치한 행 아래쪽에 붙임 |
            | P | 커서가 위치한 행 위쪽에 붙임 |
            | dd 또는 #dd | dd : 커서가 위치한 행을 잘라둠
            #dd : #은 잘라둘 행 수 지정 |
            - 복사나 잘라내기 시 **임시 버퍼**에 행이 저장됨
            
            ![dd2.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/dd2.png)
            
            ![yy.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/yy.png)
            
        - 복사하기(잘라서 붙이기) - 마지막 행 모드
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | 1,$ 또는 1,% | 1행부터 마지막 행까지 지정 |
            | 1,.(반점 마침표) | 1행부터 현재 행까지 지정 |
            | .,$(반점 마침표) | 현재 행부터 마지막 행까지 지정 |
            | .,-3(반점 마침표) | 현재 행부터 이전 3개 행까지 지정 |
            | 10,20(반점) | 10행부터 20행까지 지정 |
            
            | 명령 키 | 기능 |
            | --- | --- |
            | :<범위>y | 범위로 지정된 행을 복사 |
            | :<범위>d | 범위로 지정된 행을 잘라냄 |
            | :pu | 현재 행 다음에 버퍼 내용을 붙임 |
            | :#pu | #로 지정된 행 다음에 버퍼 내용을 붙임 |
        - 네임드 버퍼
            1. 언네임드 버퍼(이름 붙지 않는 버퍼)
                - yy로 복사, dd로 잘라낼 경우 버퍼에 저장
                - 버퍼에 내용 하나만 저장 가능
            2. 네임드 버퍼(이름 붙인 버퍼, 명령 모드만 가능)
                - <버퍼 이름>yy 또는 dd로 저장, 버퍼 이름은 한 글자만 지정
                - <버퍼 이름>p로 붙여넣기
                
                ![네임드 버퍼.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EB%2584%25A4%25EC%259E%2584%25EB%2593%259C_%25EB%25B2%2584%25ED%258D%25BC.png)
                
        - 검색하기
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | /문자열 | 문자열 아래 방향으로 검색 |
            | ?문자열 | 문자열 위 방향으로 검색 |
            | n | 원래 찾던 방향으로 다음 문자열 검색 |
            | N | 반대 방향으로 다음 문자열 검색 |
            - 마지막 행에 도달하면 BOTTOM, continuing at TOP 메시지가 뜨며 맨 위로 올라가 해당 문자열 검색
        - 바꾸기 - 마지막 행 모드
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | :s/문자열1/문자열2 | 커서가 위치한 행에서 첫 번째로 나오는 문자열 1을 문자열 2로 바꿈 |
            | :%s/문자열1/문자열2/g | 파일 전체에서 모든 문자열 1을 문자열 2로 바꿈 |
            | :<범위>s/문자열1/문자열2 | 범위 내 모든 각 행에서 첫 번째로 나오는 문자열 1을 문자열 2로 바꿈 |
            | :<범위>s/문자열1/문자열2/g | 범위 내 모든 각 행에서 모든 문자열 1을 문자열 2로 바꿈 |
            | :<범위>s/문자열1/문자열2/gc | 범위 내 모든 각 행에서 모든 문자열 1을 문자열 2로 바꿀 때 수정 여부 물어봄 |
            - 커서 위치의 문자열만 바꿀 수도 있고, 파일 전체나 특정 범위 내에서 해당하는 문자열을 모두 바꿀 수도 있음
            - g : 범위 행 내 모든 문자열 대상
            - c : 수정 여부 묻기
    - 기타 명령
        - 파일 읽어오기/여러 파일 편집하기
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | :r 파일 | 지정한 파일을 읽어 현재 커서 위치에 삽입 |
            | :e 파일 | 현재 작업 중인 파일을 작업을 마치고 지정한 파일로 전환
            :w로 저장한 뒤 실행 |
            | :n | vi 시작 시 여러 파일 지정했을 경우 다음 파일로 작업 이동 |
            
            ![파일 불러오기.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258C%258C%25EC%259D%25BC_%25EB%25B6%2588%25EB%259F%25AC%25EC%2598%25A4%25EA%25B8%25B0.png)
            
            ![파일 편집 후 다른 파일 편집.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258C%258C%25EC%259D%25BC_%25ED%258E%25B8%25EC%25A7%2591_%25ED%259B%2584_%25EB%258B%25A4%25EB%25A5%25B8_%25ED%258C%258C%25EC%259D%25BC_%25ED%258E%25B8%25EC%25A7%2591.png)
            
            ![여러 파일 편집.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%2597%25AC%25EB%259F%25AC_%25ED%258C%258C%25EC%259D%25BC_%25ED%258E%25B8%25EC%25A7%2591.png)
            
        - vi에서 셸 명령 사용하기
            
            
            | 명령 키 | 기능 |
            | --- | --- |
            | :! <셀 명령> | vi 작업을 잠시 중단하고 셸 명령 실행
            vi로 돌아올 시 Enter |
            | :sh | vi를 잠시 빠져나가서 셸 명령 실행
            vi로 돌아올 시 exit |
            
            ![vi 셸 명령.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/vi_%25EC%2585%25B8_%25EB%25AA%2585%25EB%25A0%25B9.png)
            
            ![vi 셸 명령2.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/vi_%25EC%2585%25B8_%25EB%25AA%2585%25EB%25A0%25B92.png)
            
- vi 환경 설정
    - 환경 설정 방법
        1. vi의 마지막 행 모드에서 명령으로 설정(vi 종료 시 설정 해제)
        2. 사용자 홈 디렉터리에 .exrc 파일로 저장
        3. 환경 변수 EXTINIT에 지정
    - set 명령
        
        
        | set 명령과 옵션 | 기능 |
        | --- | --- |
        | set nu | 파일 내용의 각 행에 행 번호 표시 |
        | set nonu | 행 번호 감춤 |
        | set list | 눈에 보이지 않는 특수 문자 표시 |
        | set nolist | 특수 문자  감춤 |
        | set showmode | 현재 모드 표시 |
        | set noshowmode | 현재 모드 감춤 |
        | set | set으로 설정한 모든 vi 환경 설정 값 출력 |
        | set all | 모든 vi 환경 변수와 현재 값 출력 |
        
        ![set nu.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/set_nu.png)
        
        ![set list.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/set_list.png)
        
        ![set showmode.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/set_showmode.png)
        
    - .exrc 파일에 설정
        - 사용자 홈 디렉터리에 .exrc 파일을 생성하여 설정을 저장함
        - 파일에는 set 명령, 옵션만 지정
        - 해당 파일이 존재할 경우 vi 시작할 때마다 적용
    - EXINIT 환경 변수 설정
        - 환경 변수로 EXINT 설정
        
        ```bash
        user1@myubuntu:~/linux_ex$ EXINIT='set nu list'
        user1@myubuntu:~/linux_ex$ export EXINIT
        ```
        

---

## Ch. 4 셸

- 셀의 기능
    1. 명령어 해석 기능
        - 사용자와 커널 사이에서 명령을 해석하여 전달하는 **해석기(interpreter) 및 번역기(translator)** 기능
        - 사용자가 로그인하면 셸이 자동으로 실행되어 사용자가 명령을 입력하기를 기다리는 로그인 셸
            - /etc/passwd 파일에 사용자별로 지정
    2. 프로그래밍 기능
        - 반복적으로 수행하는 작업을 하나의 프로그램으로 작성 가능(**셸 스크립트)**
    3. 사용자 환경 설정 기능
        - **사용자 환경을 설정**할 수 있도록 초기화 파일 기능을 제공
        - 초기화 파일에는 **명령어 경로를 설정**하거나, **파일과 디렉터리를 생성할 때의 기본 권한을 설정**하거나, **다양한 환경변수 등을 설정**
    

---

- 셸의 종류
    1. 본 셸**(Bourne shell)**
        - 초기에 본 셸은 단순하고 처리 속도가 빨라서 많이 사용
        - 지금도 시스템 관리 작업을 수행하는 많은 셸 스크립트는 본 셸을 기반
            
            → **히스토리, 에일리어스, 작업제어 등 사용자의 편의를 위한 기능을 제공하지 않아서** 다른 셸들이 등장
            
        - 명령어 ‘sh’
        
    2. 콘 셸**(Korn shell)**
        - C 셸과 달리 본 셸과의 호환성을 유지하며 히스토리, 에일리어스 기능 등과 C 셸의 특징도 모두 제공하면서 처리 속도도 빠름
        - 명령어 ‘**ksh’**
        
    3. C 셸**(C shell)**
        - 본 셸에는 없던 에일리어스나 히스토리 같은 사용자 편의 기능을 포함
        - 셸 스크립트(셸 프로그래밍) 작성을 위한 구문 형식이 C 언어와 같음
        - 명령어 ‘csh’
        
    4. **배시 셸(bash shell)**
        - 본 셸과 호환성을 유지하면서 C 셸, 콘 셸의 편리한 기능도 포함(본 셸 기반)
        - 모든 버전은 GPL(라이선스)에 의거하여 자유롭게 사용 가능
        - 리눅스의 기본 셸로 제공되고 있음
        - 명령어 ‘bash’
        
    5. 대시 셸**(dash shell)**
        - 우분투 6.10부터는 본 셸(sh)을 실행시키면 대시 셸이 실행(본 셸 기반)
        - 우분투에서 본 셸 실행파일인 /bin/sh를 보면 dash로 심벌릭 링크
        
        ![대쉬 셸.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EB%258C%2580%25EC%2589%25AC_%25EC%2585%25B8.png)
        
    

---

- 셸 기본 사용
    1. 기본 셸
        1. 현재 사용하고 있는 기본 셸 확인 가능
            - **본 셸, 배시 셸, 콘 셸의 기본 프롬프트 : $**
            - **C 셸의 기본 프롬프트 : %**
    2. 사용자 정보 확인, **/etc/passwd 파일을 확인**하여 기본 셸 확인 가능
        - **사용자 정보의 가장 마지막에 나온 /bin/bash가 기본 셸**
        
        ```bash
        user1@myubuntu:~$ grep user1 /etc/passwd
        ```
        
        ![기본 셸.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EA%25B8%25B0%25EB%25B3%25B8_%25EC%2585%25B8.png)
        
        ---
        
    3. 기본 셸 바꾸기
        1. 로그인 셸 변경
            
            
            ![기본 셸 변경.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EA%25B8%25B0%25EB%25B3%25B8_%25EC%2585%25B8_%25EB%25B3%2580%25EA%25B2%25BD.png)
            
            ```bash
            user1@myubuntu:~$ chsh –s /bin/sh user1
            # 바꾸려는 셸은 절대 경로로 지정
            
            user1@myubuntu:~$ grep user1 /etc/passwd
            # user1 로그아웃 후, 다시 로그인 하면 shell이 본셸로 바뀌어 있음
            ```
            
            ---
            
            ```bash
            user1@myubuntu:~$ cat /etc/shells
            # 지원되는 모든 로그인 셸 이름 정보를 유지
            ```
            
            ![셸 확인.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%2585%25B8_%25ED%2599%2595%25EC%259D%25B8.png)
            
            ---
            
        2. 서브 셸 : 프롬프트에서 임의로 다른 셸 실행
            
            
            ![서브셸.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%2584%259C%25EB%25B8%258C%25EC%2585%25B8.png)
            
            ---
            
            - 서브 셸은 다른 셸 생성 가능
            - 셸 명령어(sh, csh, ksh, bash)로 실행
            - Ctrl + d 나 exit로 종료하고 이전 셸로 복귀
            
    4. 배시 셸 출력 명령
        - echo -n  [문자열]
        
        ![echo 명령.PNG](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/echo_%25EB%25AA%2585%25EB%25A0%25B9.png)
        
        ```bash
        user1@myubuntu:~$ echo “linux ubuntu”
        “linux ubuntu”
        
        user1@myubuntu:~$ echo -n "hi"
        hiuser1@myubuntu:~$
        # -n 사용 시 줄바꿈 X
        
        user1@myubuntu:~$ echo $SHELL
        /bin/bash
        # 현재 사용자의 로그인 쉘을 출력
        ```
        
        ---
        
    5. 특수 문자
        - 사용자가 더욱 편리하게 명령을 입력하고 실행하도록 다양한 특수 문자 제공
        - **특수 문자 (*)**
            - **임의의 문자열을 나타내는 특수문자로 0개 이상의 모든 문자로 대체 가능**
            
            ![특수문자(별).png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258A%25B9%25EC%2588%2598%25EB%25AC%25B8%25EC%259E%2590(%25EB%25B3%2584).png)
            
        - **특수 문자 (?,** **[ ])**
            - ? : 한 문자
            - [ ]  : 괄호 안 문자 중 하나
            
            ![특수문자(물음표,괄호).png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258A%25B9%25EC%2588%2598%25EB%25AC%25B8%25EC%259E%2590(%25EB%25AC%25BC%25EC%259D%258C%25ED%2591%259C%25EA%25B4%2584%25ED%2598%25B8).png)
            
        - **특수 문자 (~,** **–)**
            - 디렉터리를 나타내는 특수 문자
            
            ```bash
            user1@myubuntu:~$ cd ~
            # 현재 작업 중인 사용자의 홈 디렉터리를 표시
            
            user1@myubuntu:~$ cd ~user1
            # 현재 사용자의 홈 디렉터리를 표시
            
            user1@myubuntu:~/linux_ex$ cd -
            /home/user1
            user1@myubuntu:~$
            # cd 명령으로 디렉터리를 이전하기 직전의 작업 디렉터리 표시
            ```
            
            ![특수문자(물결표, -).png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258A%25B9%25EC%2588%2598%25EB%25AC%25B8%25EC%259E%2590(%25EB%25AC%25BC%25EA%25B2%25B0%25ED%2591%259C_-).png)
            
        - **특수 문자 (;,** **|)**
            - 명령과 명령을 연결함
            - ;  : 연결된 명령을 왼쪽부터 차례로 실행
            - |  : 왼쪽 명령의 결과를 오른쪽 명령의 입력으로 사용
            
            ![특수문자(따옴표,짝대기).png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258A%25B9%25EC%2588%2598%25EB%25AC%25B8%25EC%259E%2590(%25EB%2594%25B0%25EC%2598%25B4%25ED%2591%259C%25EC%25A7%259D%25EB%258C%2580%25EA%25B8%25B0).png)
            
        - **특수 문자 (‘ ’,** **“ ”)**
            - **문자를 감싸서 문자열로 만들어주고, 문자열 안에 사용된 특수문자의 기능을 없앰**
            - ‘ ‘ : 모든 특수 문자를 문자로 만듦
            - “ “ : **$, ``, \을 제외한 모든 특수 문자를 문자로 만듦**
            
            ![특수문자(따옴표).png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258A%25B9%25EC%2588%2598%25EB%25AC%25B8%25EC%259E%2590(%25EB%2594%25B0%25EC%2598%25B4%25ED%2591%259C).png)
            
        - **특수 문자 (>,>>, <)**
            - 입출력 방향을 바꿈
            
            ![특수문자(부등호).png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258A%25B9%25EC%2588%2598%25EB%25AC%25B8%25EC%259E%2590(%25EB%25B6%2580%25EB%2593%25B1%25ED%2598%25B8).png)
            
    
    ---
    

---

- 입출력 방향 설정
    1. 표준 입출력 장치
        1. **표준 입력 장치** : 셸이 작업하는데 필요한 장치 → **키보드**
        2. **표준 출력 장치** : 실행 결과를 내보내는 장치 → **모니터**
        3. **표준 오류 장치** : 오류 메시지를 내보내는 장치 → **모니터**
        
        → 표준 입출력 장치를 파일로 바꾸는 것 : **리다이렉션(Redirection)**
        
    2. 파일 디스크립터
        - 파일 관리에서 명령의 **표준 입력, 출력, 오류를 편리하게 사용하기 위하여 붙이는 일련 번호 (0, 1, 2)**
        - 입출력 장치 변경 시  사용
        
        ![파일 디스크립터.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258C%258C%25EC%259D%25BC_%25EB%2594%2594%25EC%258A%25A4%25ED%2581%25AC%25EB%25A6%25BD%25ED%2584%25B0.png)
        
        ---
        
        1. 모니터에서 파일로 표준 출력 리다이렉션
            - 명령어의 수행 결과를 모니터에서 파일로 출력을 변경
                - **> : 기존 파일이** **존재하면 기존 내용을 삭제하고 새로 결과를 저장함**
                - **>> : 기존 파일의 내용 뒤에 새로운 출력 결과를 추가함**
            - **파일 디스크립터 번호 1 이용 (1 생략 가능)**
            
            ```bash
             	user1@myubuntu:~/linux_ex/ch4$ ls –al > out1
            	user1@myubuntu:~/linux_ex/ch4$ cat out1
            	user1@myubuntu:~/linux_ex/ch4$ date > out1
            	user1@myubuntu:~/linux_ex/ch4$ cat out1
            
            	user1@myubuntu:~/linux_ex/ch4$ ls –al > out2
            	user1@myubuntu:~/linux_ex/ch4$ cat out2
            	user1@myubuntu:~/linux_ex/ch4$ date >> out2
            	user1@myubuntu:~/linux_ex/ch4$ cat out2
            ```
            
            ---
            
        2. 모니터에서 파일로 표준 오류 리다이렉션
            - **명령어 수행의 오류를 모니터에서 파일로 출력을 변경**
            - **파일 디스크립터 번호 2 이용**
            
            ```bash
              user1@myubuntu:~/linux_ex/ch4$ ls /abc > out3
            	user1@myubuntu:~/linux_ex/ch4$ cat out3
            	user1@myubuntu:~/linux_ex/ch4$ ls /abc 2> out3
            	user1@myubuntu:~/linux_ex/ch4$ cat out3
            ```
            
            ---
            
        3. 표준 출력과 표준 오류를 각각 다른 파일로 리다이렉션
            
            ```bash
              user1@myubuntu:~/linux_ex/ch4$ ls . /abc > out6 2> out7
            ```
            
            ---
            
        4. 표준 출력과 표준 오류를 한 파일로 리다이렉션
            
            ```bash
              user1@myubuntu:~/linux_ex/ch4$ ls . /abc >> out8 2> out8
              user1@myubuntu:~/linux_ex/ch4$ ls . /abc 2> out8 1>> out8
              user1@myubuntu:~/linux_ex/ch4$ ls . /abc 1> out8 2>&1 # 2>&1은 오류 내용을 출력 내용으로 리다이렉션
            # .(현재 디렉터리) 내용을 out8에 추가, 오류 내용을 out8에 추가
            # 그 다음 /abc의 디렉터리 내용을 out8에 추가하는데 이때 경로가 없으면 1>이나 1>>이 아닌 2> 2>>가 실행되고, 2>나 2>> 또 실행됨
            ```
            
            - **항상 오류를 먼저 출력하고 내용 추가**
            
            ```bash
              user1@myubuntu:~/linux_ex/ch4$ ls . /abc 1> out8 2>> out8 (X)
            ```
            

---

- 배시 셸 환경 설정
    1. **셸 변수** : 현재 셸에만 적용되고 서브 셸에는 적용되지 않음 (지역변수)
    2. **환경 변수**: 현재 셸뿐만 아니라 서브 셸에도 적용됨 (전역변수)
    
    ![변수.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EB%25B3%2580%25EC%2588%2598.png)
    
    - 각 셸에 적용되는 모든 변수 수가 환경 변수 수보다 많음
    
    - **set : 현재 설정되어 있는 셸 변수와 환경 변수 모두 출력**
        - 변수뿐만 아니라, 함수로 정의된 것도 출력
        
        ```bash
        user1@myubuntu:~/linux_ex/ch4$ set
        ```
        
        ---
        
        - 현재 설정되어 있는 **환경 변수만** 출력 (**env**)
        
        ```bash
        user1@myubuntu:~/linux_ex/ch4$ env
        ```
        
        ---
        
    
    - 주요 셸 환경 변수
        
        ![주요 셸 환경 변수.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%25A3%25BC%25EC%259A%2594_%25EC%2585%25B8_%25ED%2599%2598%25EA%25B2%25BD_%25EB%25B3%2580%25EC%2588%2598.png)
        
        - **echo**
            - 변수의 값을 출력할 때는 변수 이름 앞에 특수문자 **$**를 붙임
            
            ```bash
              user1@myubuntu:~/linux_ex/ch4$ echo $SHELL
            	user1@myubuntu:~/linux_ex/ch4$ echo $HOME
            	user1@myubuntu:~/linux_ex/ch4$ echo $PATH
            ```
            
            ![echo.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/echo.png)
            
            ---
            
            - 셀 변수 설정 : **변수명=문자열**
            
            ```bash
              user1@myubuntu:~/linux_ex/ch4$ SOME1=test1
            	user1@myubuntu:~/linux_ex/ch4$ echo $SOME1
            ```
            
            ---
            
            - 환경 변수 설정
            
            ```bash
              user1@myubuntu:~/linux_ex/ch4$ export SOME1
            	user1@myubuntu:~/linux_ex/ch4$ env | grep SOME
            
            # 셸 변수를 설정하면서 export 명령을 사용하여 한 번에 환경 변수로 전환
              user1@myubuntu:~/linux_ex/ch4$ export SOME2=test2
            	user1@myubuntu:~/linux_ex/ch4$ env | grep SOME
            ```
            
            ---
            
            - 환경 변수를 다시 셸 변수로 바꾸기
            
            ```bash
              user1@myubuntu:~/linux_ex/ch4$ export –n SOME1
            	user1@myubuntu:~/linux_ex/ch4$ env | grep SOME
            ```
            
            ---
            
            - 변수 해제하기 (unset)
            
            ```bash
              user1@myubuntu:~/linux_ex/ch4$ unset SOME1
            	user1@myubuntu:~/linux_ex/ch4$ unset SOME2
            ```
            
            ---
            
    
    - **에일리어스(Alias)**
        - 기존의 명령어를 대신하여 다른 이름(별명)을 붙일 수 있도록 하는 기능
        - **긴 명령 대신 짧은 명령**을 만들어 사용 가능
        **여러 명령을 연결하여 하나의 명령**으로 만들 수 있음
        **자주 사용하는 옵션을 포함**하여 새로운 이름을 붙여서 사용 가능
        
        ```bash
        # 현재 설정되어 있는 alias가 출력
          user1@myubuntu:~/linux_ex/ch4$ alias
        
        # alias 설정
          user1@myubuntu:~/linux_ex/ch4$ alias ls=‘ls –l’
          user1@myubuntu:~/linux_ex/ch4$ alias rm=‘rm -i’
        
        # alias 해제
          user1@myubuntu:~/linux_ex/ch4$ unalias ls
        	user1@myubuntu:~/linux_ex/ch4$ unalias rm
        ```
        
    - **히스토리(History)**
        - 사용자가 이전에 입력한 명령을 다시 불러 사용 가능함
        - 셸 변수 **HISTSIZE(기본 1000)**에 저장된 숫자만큼 이전에 입력한 명령을 저장
        
        ```bash
        # 직전 명령 재실행 (!!)
        user1@myubuntu:~/linux_ex/ch4$ ls
        exec2.txt  out1   out2	out4  out7  out9    temp2.jaba	test.txt    test24.txt
        exec3.txt  out10  out3	out6  out8  temp.c  temp2.java	test12.txt
        user1@myubuntu:~/linux_ex/ch4$ !!
        ls
        exec2.txt  out1   out2	out4  out7  out9    temp2.jaba	test.txt    test24.txt
        exec3.txt  out10  out3	out6  out8  temp.c  temp2.java	test12.txt
        
        # history 번호로 명령 재실행 (!94)
        user1@myubuntu:~/linux_ex/ch4$ !485
        ls
        exec2.txt  out1   out2	out4  out7  out9    temp2.jaba	test.txt    test24.txt
        exec3.txt  out10  out3	out6  out8  temp.c  temp2.java	test12.txt
        
        # history에서 해당되는 문자열로 시작하는 마지막 명령 재실행 (!ls)
        user1@myubuntu:~/linux_ex/ch4$ !ls
        ls
        exec2.txt  out1   out2	out4  out7  out9    temp2.jaba	test.txt    test24.txt
        exec3.txt  out10  out3	out6  out8  temp.c  temp2.java	test12.txt
        ```
        
        - 화살표 키(↑)를 사용하여 오류가 난 명령을 다시 프롬프트로 불러내서 수정하여 재실행 가능
        - history는 로그 아웃할 때 홈 디렉터리 아래의 숨김 파일인 **.bash_history에 저장**됨
    - **프롬프트 설정**
        
        ![프롬프트에서 사용 가능 문자.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%2594%2584%25EB%25A1%25AC%25ED%2594%2584%25ED%258A%25B8%25EC%2597%2590%25EC%2584%259C_%25EC%2582%25AC%25EC%259A%25A9_%25EA%25B0%2580%25EB%258A%25A5_%25EB%25AC%25B8%25EC%259E%2590.png)
        
        - bash 셸은 셸변수 PS1에 현재 사용자가 사용하는 프롬프트가 설정되어 있음
        
        ```bash
        # 현재 프롬프트 설정 내용 확인
        user1@myubuntu:~/linux_ex/ch4$ echo $PS1
        \u@\h:\w$
        
        # 현재 프롬프트 설정 내용을 다른 셸변수로 저장
        user1@myubuntu:~/linux_ex/ch4$ MYPROMPT=$PS1
        
        # PS1 변수에 새로운 프롬프트를 설정
        user1@myubuntu:~/linux_ex/ch4$ PS1='[$PWD]'
        [/home/user1/linux_ex/ch4]
        
        [/home/user1/linux_ex/ch4]PS1='[\u@\t $PWD]'
        [user1@17:41:31 /home/user1/linux_ex/ch4]
        
        # PS1 변수에 원래 프롬프트으로 할당해서 원래대로 돌아옴
        [user1@17:41:31 /home/user1/linux_ex/ch4]PS1=$MYPROMPT
        user1@myubuntu:~/linux_ex/ch4$
        ```
        

---

## Ch. 5 파일 접근 권한 관리

- 파일 속성
    1. 파일 접근 권한 보호
        - 리눅스는 **파일에 무단으로 접근하는 것을 방지하고 보호**하는 기능을 제공
        - 다른 사용자가 접근해도 되는 것과 그렇지 않은 것을 구분하여 **접근 권한을 제한할 수 있음**
        
        ```bash
        user1@myubuntu:~$ ls -l /etc/hosts
        -rw-r--r-- 1 root root 223  9월  7 20:41 /etc/hosts
        ```
        
        ![파일 속성.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258C%258C%25EC%259D%25BC_%25EC%2586%258D%25EC%2584%25B1.png)
        
        ![파일 종류.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258C%258C%25EC%259D%25BC_%25EC%25A2%2585%25EB%25A5%2598.png)
        
        1. 파일의 종류 : 파일 속성의 첫 번째 항목은 파일의 종류
            - **-는 일반 파일, d는 디렉터리, l은 심벌릭 링크 파일**
            - 파일의 종류를 알려주는 명령 (file 파일이름)
            
            ```bash
              user1@myubuntu:$ file /etc/hosts
            	user1@myubuntu:$ file /home/user1
            ```
            
            ```bash
            **-**rw-r--r-- 1 root root 223 11월 8 23:13 /etc/hosts
            ```
            
        2. 파일의 접근 권한 표시
            - 파일 소유자와 그룹이나 기타 사용자들이 파일에 대해 가지는 접근 권한 표시
            - rw- : 파일 소유자, r-- : 그룹, r-- : 기타(모든) 사용자
            - r(Read), w(Write), x(execute)
            
            ```bash
            -**rw-r--r--** 1 root root 223 11월 8 23:13 /etc/hosts
            ```
            
        3. 하드 링크 개수
            - 디렉터리의 경우는 해당 디렉터리 내의 디렉터리 개수
            
            ```bash
            -rw-r--r-- **1** root root 223 11월 8 23:13 /etc/hosts
            ```
            
        4. 파일 소유자의 로그인 ID
            - 리눅스에서 모든 파일은 소유자가 있음
            
            ```bash
            -rw-r--r-- 1 **root** root 223 11월 8 23:13 /etc/hosts
            ```
            
        5. 파일 소유자의 그룹 이름
            - ls -l 명령에서 출력되는 그룹명은 **파일이 속한 그룹**
            - 사용자가 속한 기본 그룹은 시스템 관리자가 사용자를 등록할 때 결정
            - **groups [사용자명]**
            
            ```bash
            -rw-r--r-- 1 root **root** 223 11월 8 23:13 /etc/hosts
            ```
            
        6. 파일의 크기 (바이트 단위)
            
            ```bash
            -rw-r--r-- 1 root root **223** 11월 8 23:13 /etc/hosts
            ```
            
        7. 파일이 마지막으로 수정된 날짜
            
            ```bash
            -rw-r--r-- 1 root root 223 **11월 8 23:13** /etc/hosts
            ```
            
        8. 파일명
            
            ```bash
            -rw-r--r-- 1 root root 223 11월 8 23:13 **/etc/hosts**
            ```
            
        
- 파일 접근 권한
    1. 접근 권한 목록
        
        ![파일 권한.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25ED%258C%258C%25EC%259D%25BC_%25EA%25B6%258C%25ED%2595%259C.png)
        
        ![접근 권한 조합.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%25A0%2591%25EA%25B7%25BC_%25EA%25B6%258C%25ED%2595%259C_%25EC%25A1%25B0%25ED%2595%25A9.png)
        
    2. 접근 권한 변경
        
        
        ![chmod.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/chmod.png)
        
        - **chmod [-R] 접근권한모드 파일** or **디렉터리**
        
        ```bash
        user1@myubuntu:$ chmod a+rwx test.txt
        user1@myubuntu:$ chmod 777 test.txt
        ```
        
        ---
        
        - **기호 모드** : 접근 권한을 변경하기 위해 **문자와 기호를 사용**
            
            
            ![기호모드.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EA%25B8%25B0%25ED%2598%25B8%25EB%25AA%25A8%25EB%2593%259C.png)
            
            ![사용자 카테고리 문자.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%2582%25AC%25EC%259A%25A9%25EC%259E%2590_%25EC%25B9%25B4%25ED%2585%258C%25EA%25B3%25A0%25EB%25A6%25AC_%25EB%25AC%25B8%25EC%259E%2590.png)
            
            ![기호 모드 접근 권한.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EA%25B8%25B0%25ED%2598%25B8_%25EB%25AA%25A8%25EB%2593%259C_%25EC%25A0%2591%25EA%25B7%25BC_%25EA%25B6%258C%25ED%2595%259C.png)
            
            ```bash
            # 현재 접근 권한 확인 (rw-rw-r--)
               user1@myubuntu:~/linux_ex/ch4$ ls –l test.txt
            
            # 소유자의 쓰기 권한 제거 (u-w)
               user1@myubuntu:~/linux_ex/ch4$ chmod u-w test.txt
            ```
            
        
        ---
        
        - **숫자 모드** : 접근 권한을 변경하기 위해 **숫자를 사용**
            
            
            ![숫자 모드.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%2588%25AB%25EC%259E%2590_%25EB%25AA%25A8%25EB%2593%259C.png)
            
            ![숫자 모드 권한.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%2588%25AB%25EC%259E%2590_%25EB%25AA%25A8%25EB%2593%259C_%25EA%25B6%258C%25ED%2595%259C.png)
            
            ```bash
            # 현재 접근 권한 확인: (rw-rw-r--) 664
                user1@myubuntu:~/linux_ex/ch5$ ls –l test2.txt
            
            # 소유자의 쓰기 권한 제거: (r--r--r--) 444
                user1@myubuntu:~/linux_ex/ch5$ chmod 444 test2.txt ; ls –l test2.txt
            
            # 그룹에 쓰기와 실행 권한 부여: (r--rwxr--) 474
                user1@myubuntu:~/linux_ex/ch5$ chmod 474 test2.txt ; ls –l test2.txt
            ```
            
            ![숫자 모드 환산.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%2588%25AB%25EC%259E%2590_%25EB%25AA%25A8%25EB%2593%259C_%25ED%2599%2598%25EC%2582%25B0.png)
            
        
        ---
        
    
- 기본 접근 권한
    - 파일이나 디렉터리를 생성할 때 **기본 접근 권한이 자동적으로 설정**
        - **일반파일의 경우 rw-rw-r-- (664)**로 기본 접근 권한이 설정됨
        - **디렉터리의 경우 rwxrwxr-x (775)**로 기본 접근 권한이 설정됨
        
    1. **마스크 값 : 파일이나 디렉터리 생성 시 부여하지 않을 권한을 지정해 놓은 것**
        - 기본 값 : 002 (**--- --- -w-)**
        - **실행파일이 아닌 일반파일의 최대 접근 권한은 666 이며, 디렉터리의 최대 접근 권한은 777** **임**
        
        ```bash
        # 현재 기본 마스크 값 출력 명령 (부여하지 않는 권한을 숫자로 출력)
            user1@myubuntu:~/linux_ex/ch5$ umask
            (결과) 0002
        # 현재 기본 마스크 값 출력 명령 (부여하는 권한을 문자로 출력)
            user1@myubuntu:~/linux_ex/ch5$ umask –S
            (결과) u=rwx, g=rx, o=rx
        ```
        
        ![마스크 값.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EB%25A7%2588%25EC%258A%25A4%25ED%2581%25AC_%25EA%25B0%2592.png)
        
        ---
        
        - 마스크 값을 바꾸면 파일이나 디렉터리를 생성할 때 적용되는 기본 접근 권한이 변경
        
        ```bash
        user1@myubuntu:~/linux_ex/ch5$ umask 077
        	. 일반파일의 경우 사용자, 그룹, 기타 사용자에게 600의 기본 접근 권한 부여
        	. 디렉터리의 경우 사용자, 그룹, 기타 사용자에게 700의 기본 접근 권한 부여
        ```
        
- 특수 접근 권한
    - 접근 권한은 **원래 4자리이나 맨 앞자리는 특수 접근 권한으로 일반적으로 생략됨**
    - **맨 앞자리 숫자가 1, 2, 4이면 특수 접근 권한이 설정된 것**
    
    1. **맨 앞자리가 4 일 때, SetUID가 설정됨**
        - **SetUID가 설정된 파일을 실행하면 해당 파일이 파일의 사용자 권한이 아니라, 파일의 소유자 권한으로 실행됨**
        - 실행 파일만 가능
        - **rwxrwxrwx -> rwsrwxrwx**
        
        ```bash
          user1@myubuntu:~/linux_ex/ch5$ touch set           (임의의 공백의 set 파일 생성)
        	user1@myubuntu:~/linux_ex/ch5$ chmod 755 set    (모두에게 실행권한 부여)
        	user1@myubuntu:~/linux_ex/ch5$ ls –l set              (set 권한 확인)
        	user1@myubuntu:~/linux_ex/ch5$ chmod 4755 set   (SetUID 권한 부여)
        	user1@myubuntu:~/linux_ex/ch5$ ls –l set               (set 권한 다시 확인)
          -rw**s**r-xr-x  1  user1 user1 0 10월 29일 18:50 set
        ```
        
        ```bash
        passwd 명령은 원래, root 사용자만 수행이 가능함
        passwd 명령은 SetUID가 설정되어 있기 때문에 user1 사용자가 자신의 비밀 번호를 수정할 때, passwd 명령이 소유자인 root 권한으로 실행되어 암호 변경이 가능해짐
        
          user1@myubuntu:~/linux_ex/ch5$ ls –l /usr/bin/passwd
          -rw**s**r-xr-x  1  root  root  59460 1월 26 2018  /usr/bin/passwd
        ```
        
        ---
        
    2. **맨 앞자리가 2 일 때, SetGID가 설정됨**
        - **SetGID(2)가 설정된 파일을 실행하면 해당 파일이 파일의 사용자 권한이 아니라, 파일의 소유 그룹 권한으로 실행**
        - 실행 파일만 가능
        - **rwxrwxrwx -> rwxrwsrwx**
        
        ---
        
    3. **맨 앞자리가 1일 때, 스티키 비트(sticky bit)가 설정됨**
        - 디렉터리에서 스티키 비트 설정
        - 설정 시 **해당 디렉터리에 누구나 파일 생성 가능**
        - **rwxrwxrwx -> rwsrwxrwt**
        
        ```bash
        /tmp 디렉터리가 대표적으로 스티키 비트가 설정된 디렉터리
        
        user1@myubuntu:~/linux_ex/ch5$  ls -ld /tmp
        drwxrwxrwt 22 root root 4096 10월 17 10:26 /tmp
        ```
        
    

---

## ch. 6 프로세스 관리

- 프로세스
    1. 프로세스 : 현재 시스템에서 실행 중인 프로그램
        - ex) 사용자 프로세스, 시스템 프로세스
    2. 부모 - 자식 관계
        
        
        ![부모 자식.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EB%25B6%2580%25EB%25AA%25A8_%25EC%259E%2590%25EC%258B%259D.png)
        
        - 프로세스는 부모 - 자식 관계를 가짐
        - 부모 →(생성) 자식 →(생성) 자식
        - 부모 ←(종료) 자식 ←(종료) 자식
        
    3. 프로세스 번호(PID, Process ID Number)
        - 각 프로세스는 고유한 번호를 가지고 있음
        - ex) systemd(System Daemon) 또는 init 프로세스 (PID: 1), kthreadd(Kernel Thread Daemon) (PID: 2)
        
        | 데몬 프로세스(Daemon Process) | 운영체제에서 부팅 시 자동으로 켜져, 백그라운드에서 계속 실행되는 프로세스
        특정 서비스를 제공하기 위해 존재하며, 리눅스 커널에 자동 실행되는 경우가 많음
        평소 대기 상태로 존재하다가, 서비스 요청이 들어오면 서비스를 제공함
        
        ex) sshd (원격 접속 서비스 데몬), httpd (웹 서비스 데몬), smtpd (메일 전송 데몬) |
        | --- | --- |
        | 고아 프로세스 | 자식 프로세스가 실행 중인데 부모 프로세스가 먼저 종료된 자식 프로세스
        1번 프로세스(systemd 또는 init)가 새로운 부모 프로세스가 됨 |
        | 좀비 프로세스 | 프로세스가 실행을 종료했는데도 프로세스 테이블의 목록에 남아 있는 경우
        좀비 프로세스가 증가하면 프로세스 테이블의 용량이 부족해서 일반 프로세스가 실행되지 않을 수도 있음 |
    
- 프로세스 관리 명령
    - 현재 실행 중인 프로세스 목록(ps)
        
        [[리눅스, 유닉스] ps 프로세스 명령어 완벽정리, 프로세스 관리, 계열에 따른 옵션 차이, 조건에 맞게 프로세스 정보 추출하기](https://jhnyang.tistory.com/268)
        
        <aside>
        💡 ps [옵션]
        
        </aside>
        
        ```bash
        # 현재 사용자 프로세스에 대한 정보 출력 -> -u 옵션과 다르게 현재 셸에서 실행한 프로세스
        user1@myubuntu:~$ ps
            PID TTY          TIME CMD
           2320 pts/0    00:00:00 bash
           2331 pts/0    00:00:00 ps
        ```
        
        ![ps.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/ps.png)
        
        - 현재 사용자 프로세스 포함, 실행 중인 모든 프로세스 정보 출력 (-e 옵션)
            
            ```bash
            # 현재 사용자 프로세스 포함, 실행 중인 모든 프로세스 정보 출력
            user1@myubuntu:~$ ps -e
                PID TTY          TIME CMD
                  1 ?        00:00:08 systemd
                  2 ?        00:00:00 kthreadd
                  3 ?        00:00:00 rcu_gp
                  4 ?        00:00:00 rcu_par_gp
                  5 ?        00:00:00 slub_flushwq
                  6 ?        00:00:00 netns
                  7 ?        00:00:00 kworker/0:0-cgwb_release
                  8 ?        00:00:00 kworker/0:0H-events_highpri
                  9 ?        00:00:00 kworker/u256:0-events_unbound
                 10 ?        00:00:00 mm_percpu_wq
                 11 ?        00:00:00 rcu_tasks_kthread
                 12 ?        00:00:00 rcu_tasks_rude_kthread
                 13 ?        00:00:00 rcu_tasks_trace_kthread
                 14 ?        00:00:00 ksoftirqd/0
                 15 ?        00:00:00 rcu_preempt
                 16 ?        00:00:00 migration/0
                 17 ?        00:00:00 idle_inject/0
                 18 ?        00:00:00 kworker/0:1-cgroup_destroy
                 19 ?        00:00:00 cpuhp/0
                 20 ?        00:00:00 cpuhp/1
                 21 ?        00:00:00 idle_inject/1
                 22 ?        00:00:00 migration/1
                 23 ?        00:00:00 ksoftirqd/1
                 24 ?        00:00:00 kworker/1:0-rcu_gp
                 25 ?        00:00:00 kworker/1:0H-kblockd
                 26 ?        00:00:00 kdevtmpfs
                 27 ?        00:00:00 inet_frag_wq
                 28 ?        00:00:00 kauditd
                 29 ?        00:00:00 kworker/0:2-cgroup_destroy
                 30 ?        00:00:00 khungtaskd
                 31 ?        00:00:04 kworker/u256:1-events_unbound
                 32 ?        00:00:00 oom_reaper
                 33 ?        00:00:00 kworker/u256:2-events_unbound
                 34 ?        00:00:00 writeback
                 35 ?        00:00:00 kcompactd0
                 36 ?        00:00:00 ksmd
                 37 ?        00:00:00 kworker/1:1-cgroup_destroy
                 38 ?        00:00:00 kworker/1:2-rcu_par_gp
                 39 ?        00:00:00 khugepaged
                 40 ?        00:00:00 kintegrityd
                 41 ?        00:00:00 kblockd
                 42 ?        00:00:00 blkcg_punt_bio
                 43 ?        00:00:00 tpm_dev_wq
                 44 ?        00:00:00 ata_sff
                 45 ?        00:00:00 md
                 46 ?        00:00:00 edac-poller
                 47 ?        00:00:00 devfreq_wq
                 48 ?        00:00:00 watchdogd
                 49 ?        00:00:00 kworker/0:1H-kblockd
                 50 ?        00:00:00 kswapd0
                 51 ?        00:00:00 ecryptfs-kthread
                 52 ?        00:00:00 kthrotld
                 53 ?        00:00:00 irq/24-pciehp
                 54 ?        00:00:00 irq/25-pciehp
                 55 ?        00:00:00 irq/26-pciehp
                 56 ?        00:00:00 irq/27-pciehp
                 57 ?        00:00:00 irq/28-pciehp
                 58 ?        00:00:00 irq/29-pciehp
                 59 ?        00:00:00 irq/30-pciehp
                 60 ?        00:00:00 irq/31-pciehp
                 61 ?        00:00:00 irq/32-pciehp
                 62 ?        00:00:00 irq/33-pciehp
                 63 ?        00:00:00 irq/34-pciehp
                 64 ?        00:00:00 irq/35-pciehp
                 65 ?        00:00:00 irq/36-pciehp
                 66 ?        00:00:00 irq/37-pciehp
                 67 ?        00:00:00 irq/38-pciehp
                 68 ?        00:00:00 irq/39-pciehp
                 69 ?        00:00:00 irq/40-pciehp
                 70 ?        00:00:00 irq/41-pciehp
                 71 ?        00:00:00 irq/42-pciehp
                 72 ?        00:00:00 irq/43-pciehp
                 73 ?        00:00:00 irq/44-pciehp
                 74 ?        00:00:00 irq/45-pciehp
                 75 ?        00:00:00 irq/46-pciehp
                 76 ?        00:00:00 irq/47-pciehp
                 77 ?        00:00:00 irq/48-pciehp
                 78 ?        00:00:00 irq/49-pciehp
                 79 ?        00:00:00 irq/50-pciehp
                 80 ?        00:00:00 irq/51-pciehp
                 81 ?        00:00:00 irq/52-pciehp
                 82 ?        00:00:00 irq/53-pciehp
                 83 ?        00:00:00 irq/54-pciehp
                 84 ?        00:00:00 irq/55-pciehp
                 85 ?        00:00:00 acpi_thermal_pm
                 86 ?        00:00:00 xenbus_probe
                 87 ?        00:00:00 scsi_eh_0
                 88 ?        00:00:00 scsi_tmf_0
                 89 ?        00:00:00 scsi_eh_1
                 90 ?        00:00:00 scsi_tmf_1
                 91 ?        00:00:00 kworker/u256:3-events_unbound
                 92 ?        00:00:00 kworker/u256:4-events_unbound
                 93 ?        00:00:00 kworker/u256:5-events_unbound
                 94 ?        00:00:00 mld
                 95 ?        00:00:00 kworker/1:1H-kblockd
                 96 ?        00:00:00 ipv6_addrconf
                103 ?        00:00:00 kstrp
                105 ?        00:00:00 zswap-shrink
                106 ?        00:00:00 kworker/u257:0
                110 ?        00:00:00 charger_manager
                149 ?        00:00:00 scsi_eh_2
                150 ?        00:00:00 scsi_tmf_2
                151 ?        00:00:00 scsi_eh_3
                152 ?        00:00:00 mpt_poll_0
                153 ?        00:00:00 mpt/0
                154 ?        00:00:00 scsi_tmf_3
                155 ?        00:00:00 scsi_eh_4
                156 ?        00:00:00 scsi_tmf_4
                157 ?        00:00:00 scsi_eh_5
                158 ?        00:00:00 scsi_tmf_5
                159 ?        00:00:00 scsi_eh_6
                160 ?        00:00:00 scsi_tmf_6
                161 ?        00:00:00 scsi_eh_7
                162 ?        00:00:00 scsi_tmf_7
                163 ?        00:00:00 scsi_eh_8
                164 ?        00:00:00 scsi_tmf_8
                165 ?        00:00:00 scsi_eh_9
                166 ?        00:00:00 scsi_tmf_9
                167 ?        00:00:00 scsi_eh_10
                168 ?        00:00:00 scsi_tmf_10
                169 ?        00:00:00 scsi_eh_11
                170 ?        00:00:00 scsi_tmf_11
                171 ?        00:00:00 scsi_eh_12
                172 ?        00:00:00 scsi_tmf_12
                173 ?        00:00:00 scsi_eh_13
                174 ?        00:00:00 scsi_tmf_13
                175 ?        00:00:00 scsi_eh_14
                176 ?        00:00:00 scsi_tmf_14
                177 ?        00:00:00 scsi_eh_15
                178 ?        00:00:00 scsi_tmf_15
                179 ?        00:00:00 scsi_eh_16
                180 ?        00:00:00 scsi_tmf_16
                181 ?        00:00:00 scsi_eh_17
                182 ?        00:00:00 scsi_tmf_17
                183 ?        00:00:00 scsi_eh_18
                184 ?        00:00:00 scsi_tmf_18
                185 ?        00:00:00 scsi_eh_19
                186 ?        00:00:00 scsi_tmf_19
                187 ?        00:00:00 scsi_eh_20
                188 ?        00:00:00 scsi_tmf_20
                189 ?        00:00:00 scsi_eh_21
                190 ?        00:00:00 scsi_tmf_21
                191 ?        00:00:00 scsi_eh_22
                192 ?        00:00:00 scsi_tmf_22
                193 ?        00:00:00 scsi_eh_23
                194 ?        00:00:00 scsi_tmf_23
                195 ?        00:00:00 scsi_eh_24
                196 ?        00:00:00 scsi_tmf_24
                197 ?        00:00:00 scsi_eh_25
                198 ?        00:00:00 scsi_tmf_25
                199 ?        00:00:00 scsi_eh_26
                200 ?        00:00:00 scsi_tmf_26
                201 ?        00:00:00 scsi_eh_27
                202 ?        00:00:00 scsi_tmf_27
                203 ?        00:00:00 scsi_eh_28
                204 ?        00:00:00 scsi_tmf_28
                205 ?        00:00:00 scsi_eh_29
                206 ?        00:00:00 scsi_tmf_29
                207 ?        00:00:00 scsi_eh_30
                208 ?        00:00:00 scsi_tmf_30
                209 ?        00:00:00 scsi_eh_31
                210 ?        00:00:00 scsi_tmf_31
                211 ?        00:00:00 kworker/u256:6-events_unbound
                212 ?        00:00:00 kworker/u256:7-events_unbound
                213 ?        00:00:00 kworker/u256:8-events_unbound
                214 ?        00:00:00 kworker/u256:9-events_unbound
                215 ?        00:00:00 kworker/u256:10-events_unbound
                216 ?        00:00:00 kworker/u256:11-events_unbound
                217 ?        00:00:00 kworker/u256:12-events_unbound
                218 ?        00:00:00 kworker/u256:13-events_unbound
                219 ?        00:00:00 kworker/u256:14-events_unbound
                220 ?        00:00:00 kworker/u256:15-events_unbound
                221 ?        00:00:00 kworker/u256:16-events_unbound
                222 ?        00:00:00 kworker/u256:17-events_unbound
                223 ?        00:00:00 kworker/u256:18-events_unbound
                224 ?        00:00:00 kworker/u256:19-events_unbound
                225 ?        00:00:00 kworker/u256:20-events_unbound
                227 ?        00:00:00 kworker/u256:21-events_unbound
                229 ?        00:00:00 kworker/u256:22-events_unbound
                230 ?        00:00:00 kworker/u256:23-events_unbound
                231 ?        00:00:00 kworker/u256:24-events_unbound
                232 ?        00:00:00 kworker/u256:25-events_unbound
                233 ?        00:00:00 kworker/u256:26-events_unbound
                234 ?        00:00:00 kworker/u256:27-events_unbound
                235 ?        00:00:00 kworker/u256:28-ext4-rsv-conversion
                237 ?        00:00:00 kworker/u256:29-events_power_efficient
                238 ?        00:00:00 kworker/u256:30-events_unbound
                239 ?        00:00:00 kworker/u256:31-events_unbound
                245 ?        00:00:00 scsi_eh_32
                246 ?        00:00:00 scsi_tmf_32
                269 ?        00:00:00 jbd2/sda3-8
                270 ?        00:00:00 ext4-rsv-conver
                310 ?        00:00:01 systemd-journal
                338 ?        00:00:00 kworker/1:3-events
                343 ?        00:00:00 kworker/0:3-events
                344 ?        00:00:00 irq/16-vmwgfx
                345 ?        00:00:00 vmware-vmblock-
                366 ?        00:00:00 systemd-udevd
                443 ?        00:00:00 irq/57-vmw_vmci
                444 ?        00:00:00 irq/58-vmw_vmci
                446 ?        00:00:00 irq/59-vmw_vmci
                538 ?        00:00:00 systemd-oomd
                540 ?        00:00:00 systemd-resolve
                542 ?        00:00:00 systemd-timesyn
                556 ?        00:00:00 cryptd
                561 ?        00:00:00 VGAuthService
                563 ?        00:00:00 vmtoolsd
                631 ?        00:00:00 accounts-daemon
                633 ?        00:00:00 acpid
                641 ?        00:00:00 avahi-daemon
                649 ?        00:00:00 cron
                652 ?        00:00:01 dbus-daemon
                657 ?        00:00:01 NetworkManager
                664 ?        00:00:00 irqbalance
                667 ?        00:00:00 networkd-dispat
                668 ?        00:00:04 polkitd
                670 ?        00:00:00 power-profiles-
                673 ?        00:00:00 rsyslogd
                681 ?        00:00:05 snapd
                686 ?        00:00:00 switcheroo-cont
                691 ?        00:00:00 systemd-logind
                693 ?        00:00:00 udisksd
                696 ?        00:00:00 wpa_supplicant
                715 ?        00:00:00 avahi-daemon
                740 ?        00:00:00 ModemManager
                743 ?        00:00:00 cupsd
                777 ?        00:00:00 unattended-upgr
                787 ?        00:00:00 gdm3
                897 ?        00:00:00 cups-browsed
                909 ?        00:00:00 kerneloops
                920 ?        00:00:00 kerneloops
               1034 ?        00:00:00 rtkit-daemon
               1219 ?        00:00:00 upowerd
               1285 ?        00:00:00 packagekitd
               1436 ?        00:00:00 colord
               1498 ?        00:00:00 gdm-session-wor
               1511 ?        00:00:01 systemd
               1512 ?        00:00:00 (sd-pam)
               1518 ?        00:00:00 pipewire
               1520 ?        00:00:00 pipewire-media-
               1521 ?        00:00:01 pulseaudio
               1525 ?        00:00:00 gnome-keyring-d
               1533 ?        00:00:01 dbus-daemon
               1535 ?        00:00:00 gvfsd
               1546 ?        00:00:00 gvfsd-fuse
               1547 tty2     00:00:00 gdm-wayland-ses
               1557 tty2     00:00:00 gnome-session-b
               1572 ?        00:00:00 xdg-document-po
               1582 ?        00:00:00 xdg-permission-
               1592 ?        00:00:00 fusermount3
               1613 ?        00:00:02 tracker-miner-f
               1635 ?        00:00:00 gnome-session-c
               1649 ?        00:00:00 gnome-session-b
               1656 ?        00:00:00 gvfs-udisks2-vo
               1663 ?        00:00:00 gvfs-afc-volume
               1674 ?        00:00:00 gvfs-goa-volume
               1675 ?        00:00:00 at-spi-bus-laun
               1683 ?        00:00:00 goa-daemon
               1684 ?        00:00:17 gnome-shell
               1699 ?        00:00:00 dbus-daemon
               1710 ?        00:00:00 goa-identity-se
               1716 ?        00:00:00 gvfs-gphoto2-vo
               1727 ?        00:00:00 gvfs-mtp-volume
               1778 ?        00:00:00 gnome-shell-cal
               1785 ?        00:00:00 evolution-sourc
               1793 ?        00:00:00 dconf-service
               1798 ?        00:00:00 evolution-calen
               1801 ?        00:00:00 snapd-desktop-i
               1820 ?        00:00:00 evolution-addre
               1887 ?        00:00:00 gvfsd-trash
               1894 ?        00:00:00 snapd-desktop-i
               1901 ?        00:00:00 xdg-desktop-por
               1903 ?        00:00:00 at-spi2-registr
               1905 ?        00:00:00 gjs
               1914 ?        00:00:00 xdg-desktop-por
               1924 ?        00:00:00 ibus-daemon
               1927 ?        00:00:00 gsd-a11y-settin
               1930 ?        00:00:00 gsd-color
               1937 ?        00:00:00 gsd-datetime
               1942 ?        00:00:00 gsd-housekeepin
               1944 ?        00:00:00 gsd-keyboard
               1951 ?        00:00:00 gsd-media-keys
               1953 ?        00:00:00 gsd-power
               1954 ?        00:00:00 gsd-print-notif
               1956 ?        00:00:00 gsd-disk-utilit
               1957 ?        00:00:00 gsd-rfkill
               1960 ?        00:00:00 gsd-screensaver
               1971 ?        00:00:00 gsd-sharing
               1980 ?        00:00:00 gsd-smartcard
               1982 ?        00:00:01 evolution-alarm
               1986 ?        00:00:00 gsd-sound
               1991 ?        00:00:00 gsd-wacom
               1995 ?        00:00:00 ibus-memconf
               2003 ?        00:00:04 ibus-extension-
               2014 ?        00:00:00 ibus-portal
               2049 ?        00:00:00 vmtoolsd
               2051 ?        00:00:00 gsd-printer
               2087 ?        00:00:00 gvfsd-metadata
               2108 ?        00:00:00 ibus-engine-han
               2109 ?        00:00:00 Xwayland
               2138 ?        00:00:00 gjs
               2141 ?        00:00:00 xdg-desktop-por
               2188 ?        00:00:01 gjs
               2194 ?        00:00:00 gsd-xsettings
               2232 ?        00:00:00 ibus-x11
               2276 ?        00:00:00 kworker/1:2H
               2294 ?        00:00:01 gnome-terminal-
               2320 pts/0    00:00:00 bash
               2341 ?        00:00:00 update-notifier
               2397 ?        00:00:00 deja-dup-monito
               2406 pts/0    00:00:00 ps
            ```
            
        - 프로세스의 상세한 정보 출력(-f 옵션)
            
            ```bash
            # 프로세스의 상세한 정보 출력
            user1@myubuntu:~$ ps -f
            UID          PID    PPID  C STIME TTY          TIME CMD
            user1       2320    2294  0 09:48 pts/0    00:00:00 bash
            user1       2408    2320  0 09:51 pts/0    00:00:00 ps -f
            ```
            
        - 모든 프로세스 상세한 정보 출력(-ef 옵션)
            
            ```bash
            # 모든 프로세스 상세한 정보 출력
            user1@myubuntu:~$ ps -ef
            UID          PID    PPID  C STIME TTY          TIME CMD
            root           1       0  1 09:46 ?        00:00:08 /sbin/init splash
            root           2       0  0 09:46 ?        00:00:00 [kthreadd]
            root           3       2  0 09:46 ?        00:00:00 [rcu_gp]
            root           4       2  0 09:46 ?        00:00:00 [rcu_par_gp]
            root           5       2  0 09:46 ?        00:00:00 [slub_flushwq]
            root           6       2  0 09:46 ?        00:00:00 [netns]
            root           7       2  0 09:46 ?        00:00:00 [kworker/0:0-cgroup_destroy]
            root           8       2  0 09:46 ?        00:00:00 [kworker/0:0H-events_highpri
            root          10       2  0 09:46 ?        00:00:00 [mm_percpu_wq]
            root          11       2  0 09:46 ?        00:00:00 [rcu_tasks_kthread]
            root          12       2  0 09:46 ?        00:00:00 [rcu_tasks_rude_kthread]
            root          13       2  0 09:46 ?        00:00:00 [rcu_tasks_trace_kthread]
            root          14       2  0 09:46 ?        00:00:00 [ksoftirqd/0]
            root          15       2  0 09:46 ?        00:00:00 [rcu_preempt]
            root          16       2  0 09:46 ?        00:00:00 [migration/0]
            root          17       2  0 09:46 ?        00:00:00 [idle_inject/0]
            root          19       2  0 09:46 ?        00:00:00 [cpuhp/0]
            root          20       2  0 09:46 ?        00:00:00 [cpuhp/1]
            root          21       2  0 09:46 ?        00:00:00 [idle_inject/1]
            root          22       2  0 09:46 ?        00:00:00 [migration/1]
            root          23       2  0 09:46 ?        00:00:00 [ksoftirqd/1]
            root          26       2  0 09:46 ?        00:00:00 [kdevtmpfs]
            root          27       2  0 09:46 ?        00:00:00 [inet_frag_wq]
            root          28       2  0 09:46 ?        00:00:00 [kauditd]
            root          30       2  0 09:46 ?        00:00:00 [khungtaskd]
            root          32       2  0 09:46 ?        00:00:00 [oom_reaper]
            root          34       2  0 09:46 ?        00:00:00 [writeback]
            root          35       2  0 09:46 ?        00:00:00 [kcompactd0]
            root          36       2  0 09:46 ?        00:00:00 [ksmd]
            root          37       2  0 09:46 ?        00:00:00 [kworker/1:1-rcu_par_gp]
            root          39       2  0 09:46 ?        00:00:00 [khugepaged]
            root          40       2  0 09:46 ?        00:00:00 [kintegrityd]
            root          41       2  0 09:46 ?        00:00:00 [kblockd]
            root          42       2  0 09:46 ?        00:00:00 [blkcg_punt_bio]
            root          43       2  0 09:46 ?        00:00:00 [tpm_dev_wq]
            root          44       2  0 09:46 ?        00:00:00 [ata_sff]
            root          45       2  0 09:46 ?        00:00:00 [md]
            root          46       2  0 09:46 ?        00:00:00 [edac-poller]
            root          47       2  0 09:46 ?        00:00:00 [devfreq_wq]
            root          48       2  0 09:46 ?        00:00:00 [watchdogd]
            root          49       2  0 09:46 ?        00:00:00 [kworker/0:1H-kblockd]
            root          50       2  0 09:46 ?        00:00:00 [kswapd0]
            root          51       2  0 09:46 ?        00:00:00 [ecryptfs-kthread]
            root          52       2  0 09:46 ?        00:00:00 [kthrotld]
            root          53       2  0 09:46 ?        00:00:00 [irq/24-pciehp]
            root          54       2  0 09:46 ?        00:00:00 [irq/25-pciehp]
            root          55       2  0 09:46 ?        00:00:00 [irq/26-pciehp]
            root          56       2  0 09:46 ?        00:00:00 [irq/27-pciehp]
            root          57       2  0 09:46 ?        00:00:00 [irq/28-pciehp]
            root          58       2  0 09:46 ?        00:00:00 [irq/29-pciehp]
            root          59       2  0 09:46 ?        00:00:00 [irq/30-pciehp]
            root          60       2  0 09:46 ?        00:00:00 [irq/31-pciehp]
            root          61       2  0 09:46 ?        00:00:00 [irq/32-pciehp]
            root          62       2  0 09:46 ?        00:00:00 [irq/33-pciehp]
            root          63       2  0 09:46 ?        00:00:00 [irq/34-pciehp]
            root          64       2  0 09:46 ?        00:00:00 [irq/35-pciehp]
            root          65       2  0 09:46 ?        00:00:00 [irq/36-pciehp]
            root          66       2  0 09:46 ?        00:00:00 [irq/37-pciehp]
            root          67       2  0 09:46 ?        00:00:00 [irq/38-pciehp]
            root          68       2  0 09:46 ?        00:00:00 [irq/39-pciehp]
            root          69       2  0 09:46 ?        00:00:00 [irq/40-pciehp]
            root          70       2  0 09:46 ?        00:00:00 [irq/41-pciehp]
            root          71       2  0 09:46 ?        00:00:00 [irq/42-pciehp]
            root          72       2  0 09:46 ?        00:00:00 [irq/43-pciehp]
            root          73       2  0 09:46 ?        00:00:00 [irq/44-pciehp]
            root          74       2  0 09:46 ?        00:00:00 [irq/45-pciehp]
            root          75       2  0 09:46 ?        00:00:00 [irq/46-pciehp]
            root          76       2  0 09:46 ?        00:00:00 [irq/47-pciehp]
            root          77       2  0 09:46 ?        00:00:00 [irq/48-pciehp]
            root          78       2  0 09:46 ?        00:00:00 [irq/49-pciehp]
            root          79       2  0 09:46 ?        00:00:00 [irq/50-pciehp]
            root          80       2  0 09:46 ?        00:00:00 [irq/51-pciehp]
            root          81       2  0 09:46 ?        00:00:00 [irq/52-pciehp]
            root          82       2  0 09:46 ?        00:00:00 [irq/53-pciehp]
            root          83       2  0 09:46 ?        00:00:00 [irq/54-pciehp]
            root          84       2  0 09:46 ?        00:00:00 [irq/55-pciehp]
            root          85       2  0 09:46 ?        00:00:00 [acpi_thermal_pm]
            root          86       2  0 09:46 ?        00:00:00 [xenbus_probe]
            root          87       2  0 09:46 ?        00:00:00 [scsi_eh_0]
            root          88       2  0 09:46 ?        00:00:00 [scsi_tmf_0]
            root          89       2  0 09:46 ?        00:00:00 [scsi_eh_1]
            root          90       2  0 09:46 ?        00:00:00 [scsi_tmf_1]
            root          94       2  0 09:46 ?        00:00:00 [mld]
            root          95       2  0 09:46 ?        00:00:00 [kworker/1:1H-kblockd]
            root          96       2  0 09:46 ?        00:00:00 [ipv6_addrconf]
            root         103       2  0 09:46 ?        00:00:00 [kstrp]
            root         105       2  0 09:46 ?        00:00:00 [zswap-shrink]
            root         106       2  0 09:46 ?        00:00:00 [kworker/u257:0]
            root         110       2  0 09:46 ?        00:00:00 [charger_manager]
            root         149       2  0 09:46 ?        00:00:00 [scsi_eh_2]
            root         150       2  0 09:46 ?        00:00:00 [scsi_tmf_2]
            root         151       2  0 09:46 ?        00:00:00 [scsi_eh_3]
            root         152       2  0 09:46 ?        00:00:00 [mpt_poll_0]
            root         153       2  0 09:46 ?        00:00:00 [mpt/0]
            root         154       2  0 09:46 ?        00:00:00 [scsi_tmf_3]
            root         155       2  0 09:46 ?        00:00:00 [scsi_eh_4]
            root         156       2  0 09:46 ?        00:00:00 [scsi_tmf_4]
            root         157       2  0 09:46 ?        00:00:00 [scsi_eh_5]
            root         158       2  0 09:46 ?        00:00:00 [scsi_tmf_5]
            root         159       2  0 09:46 ?        00:00:00 [scsi_eh_6]
            root         160       2  0 09:46 ?        00:00:00 [scsi_tmf_6]
            root         161       2  0 09:46 ?        00:00:00 [scsi_eh_7]
            root         162       2  0 09:46 ?        00:00:00 [scsi_tmf_7]
            root         163       2  0 09:46 ?        00:00:00 [scsi_eh_8]
            root         164       2  0 09:46 ?        00:00:00 [scsi_tmf_8]
            root         165       2  0 09:46 ?        00:00:00 [scsi_eh_9]
            root         166       2  0 09:46 ?        00:00:00 [scsi_tmf_9]
            root         167       2  0 09:46 ?        00:00:00 [scsi_eh_10]
            root         168       2  0 09:46 ?        00:00:00 [scsi_tmf_10]
            root         169       2  0 09:46 ?        00:00:00 [scsi_eh_11]
            root         170       2  0 09:46 ?        00:00:00 [scsi_tmf_11]
            root         171       2  0 09:46 ?        00:00:00 [scsi_eh_12]
            root         172       2  0 09:46 ?        00:00:00 [scsi_tmf_12]
            root         173       2  0 09:46 ?        00:00:00 [scsi_eh_13]
            root         174       2  0 09:46 ?        00:00:00 [scsi_tmf_13]
            root         175       2  0 09:46 ?        00:00:00 [scsi_eh_14]
            root         176       2  0 09:46 ?        00:00:00 [scsi_tmf_14]
            root         177       2  0 09:46 ?        00:00:00 [scsi_eh_15]
            root         178       2  0 09:46 ?        00:00:00 [scsi_tmf_15]
            root         179       2  0 09:46 ?        00:00:00 [scsi_eh_16]
            root         180       2  0 09:46 ?        00:00:00 [scsi_tmf_16]
            root         181       2  0 09:46 ?        00:00:00 [scsi_eh_17]
            root         182       2  0 09:46 ?        00:00:00 [scsi_tmf_17]
            root         183       2  0 09:46 ?        00:00:00 [scsi_eh_18]
            root         184       2  0 09:46 ?        00:00:00 [scsi_tmf_18]
            root         185       2  0 09:46 ?        00:00:00 [scsi_eh_19]
            root         186       2  0 09:46 ?        00:00:00 [scsi_tmf_19]
            root         187       2  0 09:46 ?        00:00:00 [scsi_eh_20]
            root         188       2  0 09:46 ?        00:00:00 [scsi_tmf_20]
            root         189       2  0 09:46 ?        00:00:00 [scsi_eh_21]
            root         190       2  0 09:46 ?        00:00:00 [scsi_tmf_21]
            root         191       2  0 09:46 ?        00:00:00 [scsi_eh_22]
            root         192       2  0 09:46 ?        00:00:00 [scsi_tmf_22]
            root         193       2  0 09:46 ?        00:00:00 [scsi_eh_23]
            root         194       2  0 09:46 ?        00:00:00 [scsi_tmf_23]
            root         195       2  0 09:46 ?        00:00:00 [scsi_eh_24]
            root         196       2  0 09:46 ?        00:00:00 [scsi_tmf_24]
            root         197       2  0 09:46 ?        00:00:00 [scsi_eh_25]
            root         198       2  0 09:46 ?        00:00:00 [scsi_tmf_25]
            root         199       2  0 09:46 ?        00:00:00 [scsi_eh_26]
            root         200       2  0 09:46 ?        00:00:00 [scsi_tmf_26]
            root         201       2  0 09:46 ?        00:00:00 [scsi_eh_27]
            root         202       2  0 09:46 ?        00:00:00 [scsi_tmf_27]
            root         203       2  0 09:46 ?        00:00:00 [scsi_eh_28]
            root         204       2  0 09:46 ?        00:00:00 [scsi_tmf_28]
            root         205       2  0 09:46 ?        00:00:00 [scsi_eh_29]
            root         206       2  0 09:46 ?        00:00:00 [scsi_tmf_29]
            root         207       2  0 09:46 ?        00:00:00 [scsi_eh_30]
            root         208       2  0 09:46 ?        00:00:00 [scsi_tmf_30]
            root         209       2  0 09:46 ?        00:00:00 [scsi_eh_31]
            root         210       2  0 09:46 ?        00:00:00 [scsi_tmf_31]
            root         224       2  0 09:46 ?        00:00:00 [kworker/u256:19-events_unbo
            root         234       2  0 09:46 ?        00:00:00 [kworker/u256:27-events_unbo
            root         237       2  0 09:46 ?        00:00:00 [kworker/u256:29-flush-8:0]
            root         245       2  0 09:46 ?        00:00:00 [scsi_eh_32]
            root         246       2  0 09:46 ?        00:00:00 [scsi_tmf_32]
            root         269       2  0 09:46 ?        00:00:00 [jbd2/sda3-8]
            root         270       2  0 09:46 ?        00:00:00 [ext4-rsv-conver]
            root         310       1  0 09:46 ?        00:00:01 /lib/systemd/systemd-journal
            root         338       2  0 09:46 ?        00:00:00 [kworker/1:3-events]
            root         343       2  0 09:46 ?        00:00:01 [kworker/0:3-events]
            root         344       2  0 09:46 ?        00:00:00 [irq/16-vmwgfx]
            root         345       1  0 09:46 ?        00:00:00 vmware-vmblock-fuse /run/vmb
            root         366       1  0 09:46 ?        00:00:00 /lib/systemd/systemd-udevd
            root         443       2  0 09:46 ?        00:00:00 [irq/57-vmw_vmci]
            root         444       2  0 09:46 ?        00:00:00 [irq/58-vmw_vmci]
            root         446       2  0 09:46 ?        00:00:00 [irq/59-vmw_vmci]
            systemd+     538       1  0 09:46 ?        00:00:01 /lib/systemd/systemd-oomd
            systemd+     540       1  0 09:46 ?        00:00:00 /lib/systemd/systemd-resolve
            systemd+     542       1  0 09:46 ?        00:00:00 /lib/systemd/systemd-timesyn
            root         556       2  0 09:46 ?        00:00:00 [cryptd]
            root         561       1  0 09:46 ?        00:00:00 /usr/bin/VGAuthService
            root         563       1  0 09:47 ?        00:00:01 /usr/bin/vmtoolsd
            root         631       1  0 09:47 ?        00:00:00 /usr/libexec/accounts-daemon
            root         633       1  0 09:47 ?        00:00:00 /usr/sbin/acpid
            avahi        641       1  0 09:47 ?        00:00:00 avahi-daemon: running [myubu
            root         649       1  0 09:47 ?        00:00:00 /usr/sbin/cron -f -P
            message+     652       1  0 09:47 ?        00:00:02 @dbus-daemon --system --addr
            root         657       1  0 09:47 ?        00:00:01 /usr/sbin/NetworkManager --n
            root         664       1  0 09:47 ?        00:00:00 /usr/sbin/irqbalance --foreg
            root         667       1  0 09:47 ?        00:00:00 /usr/bin/python3 /usr/bin/ne
            root         668       1  1 09:47 ?        00:00:04 /usr/libexec/polkitd --no-de
            root         670       1  0 09:47 ?        00:00:00 /usr/libexec/power-profiles-
            syslog       673       1  0 09:47 ?        00:00:00 /usr/sbin/rsyslogd -n -iNONE
            root         681       1  1 09:47 ?        00:00:05 /usr/lib/snapd/snapd
            root         686       1  0 09:47 ?        00:00:00 /usr/libexec/switcheroo-cont
            root         691       1  0 09:47 ?        00:00:00 /lib/systemd/systemd-logind
            root         693       1  0 09:47 ?        00:00:00 /usr/libexec/udisks2/udisksd
            root         696       1  0 09:47 ?        00:00:00 /sbin/wpa_supplicant -u -s -
            avahi        715     641  0 09:47 ?        00:00:00 avahi-daemon: chroot helper
            root         740       1  0 09:47 ?        00:00:00 /usr/sbin/ModemManager
            root         743       1  0 09:47 ?        00:00:00 /usr/sbin/cupsd -l
            root         777       1  0 09:47 ?        00:00:00 /usr/bin/python3 /usr/share/
            root         787       1  0 09:47 ?        00:00:00 /usr/sbin/gdm3
            root         897       1  0 09:47 ?        00:00:00 /usr/sbin/cups-browsed
            kernoops     909       1  0 09:47 ?        00:00:00 /usr/sbin/kerneloops --test
            kernoops     920       1  0 09:47 ?        00:00:00 /usr/sbin/kerneloops
            rtkit       1034       1  0 09:47 ?        00:00:00 /usr/libexec/rtkit-daemon
            root        1219       1  0 09:47 ?        00:00:00 /usr/libexec/upowerd
            root        1285       1  0 09:47 ?        00:00:00 /usr/libexec/packagekitd
            colord      1436       1  0 09:47 ?        00:00:00 /usr/libexec/colord
            root        1498     787  0 09:47 ?        00:00:00 gdm-session-worker [pam/gdm-
            user1       1511       1  0 09:47 ?        00:00:01 /lib/systemd/systemd --user
            user1       1512    1511  0 09:47 ?        00:00:00 (sd-pam)
            user1       1518    1511  0 09:47 ?        00:00:00 /usr/bin/pipewire
            user1       1520    1511  0 09:47 ?        00:00:00 /usr/bin/pipewire-media-sess
            user1       1521    1511  0 09:47 ?        00:00:02 /usr/bin/pulseaudio --daemon
            user1       1525       1  0 09:47 ?        00:00:00 /usr/bin/gnome-keyring-daemo
            user1       1533    1511  0 09:47 ?        00:00:01 /usr/bin/dbus-daemon --sessi
            user1       1535    1511  0 09:47 ?        00:00:00 /usr/libexec/gvfsd
            user1       1546    1511  0 09:47 ?        00:00:00 /usr/libexec/gvfsd-fuse /run
            user1       1547    1498  0 09:47 tty2     00:00:00 /usr/libexec/gdm-wayland-ses
            user1       1557    1547  0 09:47 tty2     00:00:00 /usr/libexec/gnome-session-b
            user1       1572    1511  0 09:47 ?        00:00:00 /usr/libexec/xdg-document-po
            user1       1582    1511  0 09:47 ?        00:00:00 /usr/libexec/xdg-permission-
            root        1592    1572  0 09:47 ?        00:00:00 fusermount3 -o rw,nosuid,nod
            user1       1613    1511  0 09:47 ?        00:00:02 /usr/libexec/tracker-miner-f
            user1       1635    1511  0 09:47 ?        00:00:00 /usr/libexec/gnome-session-c
            user1       1649    1511  0 09:47 ?        00:00:00 /usr/libexec/gnome-session-b
            user1       1656    1511  0 09:47 ?        00:00:00 /usr/libexec/gvfs-udisks2-vo
            user1       1663    1511  0 09:47 ?        00:00:00 /usr/libexec/gvfs-afc-volume
            user1       1674    1511  0 09:47 ?        00:00:00 /usr/libexec/gvfs-goa-volume
            user1       1675    1649  0 09:47 ?        00:00:00 /usr/libexec/at-spi-bus-laun
            user1       1683    1511  0 09:47 ?        00:00:00 /usr/libexec/goa-daemon
            user1       1684    1511  7 09:47 ?        00:00:25 /usr/bin/gnome-shell
            user1       1699    1675  0 09:47 ?        00:00:00 /usr/bin/dbus-daemon --confi
            user1       1710    1511  0 09:47 ?        00:00:00 /usr/libexec/goa-identity-se
            user1       1716    1511  0 09:47 ?        00:00:00 /usr/libexec/gvfs-gphoto2-vo
            user1       1727    1511  0 09:47 ?        00:00:00 /usr/libexec/gvfs-mtp-volume
            user1       1778    1511  0 09:47 ?        00:00:00 /usr/libexec/gnome-shell-cal
            user1       1785    1511  0 09:48 ?        00:00:00 /usr/libexec/evolution-sourc
            user1       1793    1511  0 09:48 ?        00:00:00 /usr/libexec/dconf-service
            user1       1798    1511  0 09:48 ?        00:00:00 /usr/libexec/evolution-calen
            user1       1801    1511  0 09:48 ?        00:00:00 /snap/snapd-desktop-integrat
            user1       1820    1511  0 09:48 ?        00:00:00 /usr/libexec/evolution-addre
            user1       1887    1535  0 09:48 ?        00:00:00 /usr/libexec/gvfsd-trash --s
            user1       1894    1801  0 09:48 ?        00:00:00 /snap/snapd-desktop-integrat
            user1       1901    1511  0 09:48 ?        00:00:00 /usr/libexec/xdg-desktop-por
            user1       1903    1511  0 09:48 ?        00:00:00 /usr/libexec/at-spi2-registr
            user1       1905    1511  0 09:48 ?        00:00:00 /usr/bin/gjs /usr/share/gnom
            user1       1914    1511  0 09:48 ?        00:00:00 /usr/libexec/xdg-desktop-por
            user1       1924    1511  0 09:48 ?        00:00:01 /usr/bin/ibus-daemon --panel
            user1       1927    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-a11y-settin
            user1       1930    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-color
            user1       1937    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-datetime
            user1       1942    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-housekeepin
            user1       1944    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-keyboard
            user1       1951    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-media-keys
            user1       1953    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-power
            user1       1954    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-print-notif
            user1       1956    1649  0 09:48 ?        00:00:00 /usr/libexec/gsd-disk-utilit
            user1       1957    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-rfkill
            user1       1960    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-screensaver
            user1       1971    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-sharing
            user1       1980    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-smartcard
            user1       1982    1649  0 09:48 ?        00:00:01 /usr/libexec/evolution-data-
            user1       1986    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-sound
            user1       1991    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-wacom
            user1       1995    1924  0 09:48 ?        00:00:00 /usr/libexec/ibus-memconf
            user1       2003    1924  1 09:48 ?        00:00:04 /usr/libexec/ibus-extension-
            user1       2014    1511  0 09:48 ?        00:00:00 /usr/libexec/ibus-portal
            user1       2049    1511  0 09:48 ?        00:00:01 /usr/bin/vmtoolsd -n vmusr -
            user1       2051    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-printer
            user1       2087    1511  0 09:48 ?        00:00:00 /usr/libexec/gvfsd-metadata
            user1       2108    1924  0 09:48 ?        00:00:00 /usr/libexec/ibus-engine-han
            user1       2109    1684  0 09:48 ?        00:00:00 /usr/bin/Xwayland :0 -rootle
            user1       2138    1511  0 09:48 ?        00:00:00 /usr/bin/gjs /usr/share/gnom
            user1       2141    1511  0 09:48 ?        00:00:00 /usr/libexec/xdg-desktop-por
            user1       2188    1684  0 09:48 ?        00:00:01 gjs /usr/share/gnome-shell/e
            user1       2194    1511  0 09:48 ?        00:00:00 /usr/libexec/gsd-xsettings
            user1       2232    1511  0 09:48 ?        00:00:00 /usr/libexec/ibus-x11
            root        2276       2  0 09:48 ?        00:00:00 [kworker/1:2H]
            user1       2294    1511  1 09:48 ?        00:00:04 /usr/libexec/gnome-terminal-
            user1       2320    2294  0 09:48 pts/0    00:00:00 bash
            user1       2341    1649  0 09:49 ?        00:00:00 update-notifier
            user1       2424    2320  0 09:53 pts/0    00:00:00 ps -ef
            ```
            
            ```bash
            user1@myubuntu:~$ ps -ef | grep bash
            user1       2320    2294  0 09:48 pts/0    00:00:00 bash
            user1       2531    2320  0 10:07 pts/0    00:00:00 grep --color=auto bash
            ```
            
        - 특정 사용자 프로세스 정보 출력(-u 옵션)
            
            ```bash
            # 특정 사용자 프로세스 정보 출력 -> ps와는 다르게 시스템에서 실행하는 프로세스
            user1@myubuntu:~$ ps -u user1
                PID TTY          TIME CMD
               1511 ?        00:00:02 systemd
               1512 ?        00:00:00 (sd-pam)
               1518 ?        00:00:00 pipewire
               1520 ?        00:00:00 pipewire-media-
               1521 ?        00:00:02 pulseaudio
               1525 ?        00:00:00 gnome-keyring-d
               1533 ?        00:00:01 dbus-daemon
               1535 ?        00:00:00 gvfsd
               1546 ?        00:00:00 gvfsd-fuse
               1547 tty2     00:00:00 gdm-wayland-ses
               1557 tty2     00:00:00 gnome-session-b
               1572 ?        00:00:00 xdg-document-po
               1582 ?        00:00:00 xdg-permission-
               1613 ?        00:00:02 tracker-miner-f
               1635 ?        00:00:00 gnome-session-c
               1649 ?        00:00:00 gnome-session-b
               1656 ?        00:00:00 gvfs-udisks2-vo
               1663 ?        00:00:00 gvfs-afc-volume
               1674 ?        00:00:00 gvfs-goa-volume
               1675 ?        00:00:00 at-spi-bus-laun
               1683 ?        00:00:00 goa-daemon
               1684 ?        00:00:45 gnome-shell
               1699 ?        00:00:00 dbus-daemon
               1710 ?        00:00:00 goa-identity-se
               1716 ?        00:00:00 gvfs-gphoto2-vo
               1727 ?        00:00:00 gvfs-mtp-volume
               1778 ?        00:00:00 gnome-shell-cal
               1785 ?        00:00:00 evolution-sourc
               1793 ?        00:00:00 dconf-service
               1798 ?        00:00:00 evolution-calen
               1801 ?        00:00:00 snapd-desktop-i
               1820 ?        00:00:00 evolution-addre
               1887 ?        00:00:00 gvfsd-trash
               1894 ?        00:00:00 snapd-desktop-i
               1901 ?        00:00:00 xdg-desktop-por
               1903 ?        00:00:00 at-spi2-registr
               1905 ?        00:00:00 gjs
               1914 ?        00:00:01 xdg-desktop-por
               1924 ?        00:00:02 ibus-daemon
               1927 ?        00:00:00 gsd-a11y-settin
               1930 ?        00:00:00 gsd-color
               1937 ?        00:00:00 gsd-datetime
               1942 ?        00:00:00 gsd-housekeepin
               1944 ?        00:00:00 gsd-keyboard
               1951 ?        00:00:00 gsd-media-keys
               1953 ?        00:00:00 gsd-power
               1954 ?        00:00:00 gsd-print-notif
               1956 ?        00:00:00 gsd-disk-utilit
               1957 ?        00:00:00 gsd-rfkill
               1960 ?        00:00:00 gsd-screensaver
               1971 ?        00:00:00 gsd-sharing
               1980 ?        00:00:00 gsd-smartcard
               1982 ?        00:00:01 evolution-alarm
               1986 ?        00:00:00 gsd-sound
               1991 ?        00:00:00 gsd-wacom
               1995 ?        00:00:00 ibus-memconf
               2003 ?        00:00:04 ibus-extension-
               2014 ?        00:00:00 ibus-portal
               2049 ?        00:00:04 vmtoolsd
               2051 ?        00:00:00 gsd-printer
               2087 ?        00:00:00 gvfsd-metadata
               2108 ?        00:00:00 ibus-engine-han
               2109 ?        00:00:01 Xwayland
               2138 ?        00:00:00 gjs
               2141 ?        00:00:00 xdg-desktop-por
               2194 ?        00:00:00 gsd-xsettings
               2232 ?        00:00:00 ibus-x11
               2294 ?        00:00:07 gnome-terminal-
               2320 pts/0    00:00:00 bash
               2341 ?        00:00:00 update-notifier
               2452 ?        00:00:00 ibus-engine-sim
               2487 ?        00:00:01 gjs
               2558 pts/0    00:00:00 ps
            ```
            
        - PID로 지정한 프로세스 정보 출력(-p 옵션)
            
            ```bash
            # PID로 지정한 프로세스 정보 출력
            user1@myubuntu:~$ ps -p 1
                PID TTY          TIME CMD
                  1 ?        00:00:08 systemd
            
            user1@myubuntu:~$ ps -p 928
                PID TTY          TIME CMD
            ```
            
    - 지정한 패턴과 일치하는 프로세스 ID 출력(pgrep)
        
        <aside>
        💡 pgrep [옵션] 패턴
        
        </aside>
        
        - -l 옵션 : 패턴을 포함하는 모든 프로세스 PID와 명령어 출력
        - -x 옵션 : 패턴이 정확하게 일치하는 프로세스 PID 출력
        - -u 옵션 : 특정 사용자에 대하여  패턴을 포함하는 프로세스 PID, 명령어 출력
        
        ```bash
        # ba 패턴을 포함하는 모든 프로세스 PID 출력
        user1@myubuntu:~$ pgrep ba
        34
        664
        2320
        
        # ba 패턴을 포함하는 모든 프로세스 PID와 명령어 출력
        user1@myubuntu:~$ pgrep -l ba
        34 writeback
        664 irqbalance
        2320 bash
        
        # bash와 패턴이 정확하게 일치하는 프로세스 PID 출력
        user1@myubuntu:~$ pgrep -x bash
        2320
        
        # 특정 사용자(user1)에 대하여 ba 패턴을 포함하는 프로세스 PID, 명령어 출력
        user1@myubuntu:~$ pgrep -u user1 -l ba
        2320 bash
        ```
        
    - 프로세스 종료(kill)
        - kill
            
            <aside>
            💡 시그널 : 프로세스에 간단한 메시지를 알리는 것
            
            kill [-시그널] PID
            
            </aside>
            
            ![signal.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/signal.png)
            
            ```bash
            # 2, 9, 15 중요
            user1@myubuntu:~$ kill -l
             1) SIGHUP	 **2) SIGINT**	 3) SIGQUIT	 4) SIGILL	 5) SIGTRAP
             6) SIGABRT	 7) SIGBUS	 8) SIGFPE	 **9) SIGKILL**	10) SIGUSR1
            11) SIGSEGV	12) SIGUSR2	13) SIGPIPE	14) SIGALRM	**15) SIGTERM**
            16) SIGSTKFLT	17) SIGCHLD	18) SIGCONT	19) SIGSTOP	20) SIGTSTP
            21) SIGTTIN	22) SIGTTOU	23) SIGURG	24) SIGXCPU	25) SIGXFSZ
            26) SIGVTALRM	27) SIGPROF	28) SIGWINCH	29) SIGIO	30) SIGPWR
            31) SIGSYS	34) SIGRTMIN	35) SIGRTMIN+1	36) SIGRTMIN+2	37) SIGRTMIN+3
            38) SIGRTMIN+4	39) SIGRTMIN+5	40) SIGRTMIN+6	41) SIGRTMIN+7	42) SIGRTMIN+8
            43) SIGRTMIN+9	44) SIGRTMIN+10	45) SIGRTMIN+11	46) SIGRTMIN+12	47) SIGRTMIN+13
            48) SIGRTMIN+14	49) SIGRTMIN+15	50) SIGRTMAX-14	51) SIGRTMAX-13	52) SIGRTMAX-12
            53) SIGRTMAX-11	54) SIGRTMAX-10	55) SIGRTMAX-9	56) SIGRTMAX-8	57) SIGRTMAX-7
            58) SIGRTMAX-6	59) SIGRTMAX-5	60) SIGRTMAX-4	61) SIGRTMAX-3	62) SIGRTMAX-2
            63) SIGRTMAX-1	64) SIGRTMAX
            ```
            
            ```bash
            # 시그널 2 : SIGINT(Interrupt, 멈춤) / Ctrl + C
            # 0 터미널
            user1@myubuntu:~$ ps -ef | grep sleep # 2
            user1       2754    2672  0 10:38 pts/1    00:00:00 sleep 30
            user1       2756    2320  0 10:38 pts/0    00:00:00 grep --color=auto sleep
            user1@myubuntu:~$ kill -2 2754 # 3
            
            # 1 터미널
            user1@myubuntu:~$ sleep 30 # 1
            													 # 4
            ---------------------------------------------------------------------------------
            user1@myubuntu:~$ sleep 30
            ^C
            ```
            
            ```bash
            # 시그널 9 : SIGKILL(Kill, 강제 종료) / kill -9 PID
            user1@myubuntu:~$ sh
            $ ps -fu user1 | grep sh
            user1       1780    1578  0 12월17 ?      00:00:08 /usr/bin/gnome-shell
            user1       1790    1782  0 12월17 ?      00:00:00 /usr/bin/dbus-daemon --config-file=/usr/share/defaults/at-spi2/accessibility.conf --nofork --print-address 11 --address=unix:path=/run/user/1000/at-spi/bus
            user1       1837    1578  0 12월17 ?      00:00:00 /usr/libexec/gnome-shell-calendar-server
            user1       1862    1602  0 12월17 ?      00:00:00 /usr/libexec/gvfsd-trash --spawner :1.2 /org/gtk/gvfs/exec_spaw/0
            user1       1887    1578  0 12월17 ?      00:00:00 /usr/bin/gjs /usr/share/gnome-shell/org.gnome.Shell.Notifications
            user1       1896    1578  0 12월17 ?      00:00:00 sh -c /usr/bin/ibus-daemon --panel disable $([ "$XDG_SESSION_TYPE" = "x11" ] && echo "--xim")
            user1       1950    1578  0 12월17 ?      00:00:00 /usr/libexec/gsd-sharing
            user1       2117    1578  0 12월17 ?      00:00:00 /usr/bin/gjs /usr/share/gnome-shell/org.gnome.ScreenSaver
            user1       2366    2340  0 12월17 pts/0  00:00:00 bash
            user1       2965    1780  0 12월17 ?      00:00:00 gjs /usr/share/gnome-shell/extensions/ding@rastersoft.com/ding.js -E -P /usr/share/gnome-shell/extensions/ding@rastersoft.com -M 0 -D 0:0:1280:800:1:27:0:0:0:0
            user1       3160    2366  0 00:13 pts/0    00:00:00 sh
            user1       3163    3160  0 00:13 pts/0    00:00:00 grep sh
            $ kill -9 3160
            죽었음
            ```
            
            ```bash
            # 시그널 15 : SIGTERM(Terminate, 종료) / kill [-15] PID / 생략 가능 / 특정 요소들은 -9로 해야 종료됨
            user1@myubuntu:~$ sh
            $ ps -fu user1 | grep sh
            user1       1780    1578  0 12월17 ?      00:00:08 /usr/bin/gnome-shell
            user1       1790    1782  0 12월17 ?      00:00:00 /usr/bin/dbus-daemon --config-file=/usr/share/defaults/at-spi2/accessibility.conf --nofork --print-address 11 --address=unix:path=/run/user/1000/at-spi/bus
            user1       1837    1578  0 12월17 ?      00:00:00 /usr/libexec/gnome-shell-calendar-server
            user1       1862    1602  0 12월17 ?      00:00:00 /usr/libexec/gvfsd-trash --spawner :1.2 /org/gtk/gvfs/exec_spaw/0
            user1       1887    1578  0 12월17 ?      00:00:00 /usr/bin/gjs /usr/share/gnome-shell/org.gnome.Shell.Notifications
            user1       1896    1578  0 12월17 ?      00:00:00 sh -c /usr/bin/ibus-daemon --panel disable $([ "$XDG_SESSION_TYPE" = "x11" ] && echo "--xim")
            user1       1950    1578  0 12월17 ?      00:00:00 /usr/libexec/gsd-sharing
            user1       2117    1578  0 12월17 ?      00:00:00 /usr/bin/gjs /usr/share/gnome-shell/org.gnome.ScreenSaver
            user1       2366    2340  0 12월17 pts/0  00:00:00 bash
            user1       2965    1780  0 12월17 ?      00:00:00 gjs /usr/share/gnome-shell/extensions/ding@rastersoft.com/ding.js -E -P /usr/share/gnome-shell/extensions/ding@rastersoft.com -M 0 -D 0:0:1280:800:1:27:0:0:0:0
            user1       3166    2366  0 00:16 pts/0    00:00:00 sh
            user1       3168    3166  0 00:16 pts/0    00:00:00 grep sh
            $ kill -15 3166
            $
            ```
            
        - pkill
            
            <aside>
            💡 pkill [패턴]
            
            </aside>
            
            ```bash
            # PID가 아니라 프로세스의 명령 이름으로 프로세스를 찾아 종료함
            # 같은 명령 이름이 여러 개일 경우 모두 종료(이름 패턴이 포함될 경우)
            user1@myubuntu:$ pkill man
            ```
            
        - killall
            
            <aside>
            💡 killall 이름
            
            </aside>
            
            ```bash
            # 명확한 프로세스 이름 입력(이름이 완전히 일치해야만)
            user1@myubuntu:$ killall  man
            ```
            
    - 프로세스 관리 도구(top)
        
        <aside>
        💡 top
        
        </aside>
        
        ![top.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/top.png)
        
        ![top 명령.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/top_%25EB%25AA%2585%25EB%25A0%25B9.png)
        
        ```bash
        # 현재 실행 중인 프로세스에 대한 정보를 주기적으로 출력
        user1@myubuntu:$ top
        
        top - 10:46:47 up  1:00,  1 user,  load average: 0.00, 0.02, 0.05
        작  업: 278 총계,   2 실행, 276 대기,   0 멈춤,   0 좀비
        %Cpu:  3.0 us,  2.2 sy,  0.0 ni, 94.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
        MiB 메모리 :   1923.3 total,     97.6 free,    918.3 used,    907.5 buff/cache
        MiB 스  왑:   2140.0 total,   2140.0 free,      0.0 used.    808.4 avail 메모리 
        
            PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND  
           1684 user1     20   0 4409272 274824 135256 S   8.3  14.0   1:42.99 gnome-s+ 
           2294 user1     20   0  647308  66236  50048 S   2.3   3.4   0:25.28 gnome-t+ 
           2786 user1     20   0   14628   4224   3328 R   1.3   0.2   0:00.44 top      
           1924 user1     20   0  390912  12556   7168 S   0.7   0.6   0:10.41 ibus-da+ 
            538 systemd+  20   0   14824   6784   6016 S   0.3   0.3   0:10.99 systemd+ 
            633 root      20   0    2812   1920   1792 S   0.3   0.1   0:00.32 acpid    
              1 root      20   0  166724  11800   8216 S   0.0   0.6   0:08.93 systemd  
              2 root      20   0       0      0      0 S   0.0   0.0   0:00.03 kthreadd 
              3 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_gp   
              4 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_par+ 
              5 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 slub_fl+ 
              6 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 netns    
              8 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 kworker+ 
             10 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 mm_perc+ 
             11 root      20   0       0      0      0 I   0.0   0.0   0:00.00 rcu_tas+ 
             12 root      20   0       0      0      0 I   0.0   0.0   0:00.00 rcu_tas+ 
             13 root      20   0       0      0      0 I   0.0   0.0   0:00.00 rcu_tas+
        ```
        
- 포그라운드, 백그라운드, 작업 제어
    - 포그라운드 작업(Foreground job, 포그라운드 프로세스)
        - 사용자가 입력한 명령이 실행되어 결과가 출력될 때까지 기다려야 하는 방식으로 처리되는 프로세스
        - 이전 작업이 종료되기 전까지 프롬프트가 출력되지 않아 다른 명령 입력 못함
        
        ```bash
        user1@myubuntu:~$ sleep 10
        ```
        
    - 백그라운드 작업(Background job, 백그라운드 프로세스)
        - 명령을 실행하면 명령의 처리가 끝나는 것과 관계없이 곧바로 프롬프트가 출력되어 사용자가 다른 명령(작업)을 계속할 수 있음
        
        ```bash
        user1@myubuntu:~$ sleep 100 &
        [1] 2354
        ```
        
    - 작업 제어
        
        
        | 작업 전환 | 포그라운드 작업 → 백그라운드 작업 
백그라운드 작업 → 포그라운드 작업 |
        | --- | --- |
        | 작업 일시 중지 | 작업 잠시 중단 |
        | 작업 종료 | 프로세스 종료처럼 작업 종료 |
        - jobs
            
            <aside>
            💡 jobs [%작업번호]
            
            </aside>
            
            ![jobs.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/jobs.png)
            
            ```bash
            user1@myubuntu:~/linux_ex/ch6$ sleep 100 &
            [1] 2501
            user1@myubuntu:~/linux_ex/ch6$ sleep 200 &
            [2] 2502
            user1@myubuntu:~/linux_ex/ch6$ sleep 300 &
            [3] 2503
            user1@myubuntu:~/linux_ex/ch6$ jobs
            [1]   실행중               sleep 100 &
            [2]-  실행중               sleep 200 &
            [3]+  실행중               sleep 300 &
            
            user1@myubuntu:~/linux_ex/ch6$ jobs %3
            [3]+  실행중               sleep 300 &
            ```
            
        - 작업 전환
            1. 포그라운드 → 백그라운드 : **Ctrl+z  → bg [%작업번호]**
                
                ```bash
                user1@myubuntu:~/linux_ex/ch6$ sleep 400
                ^Z
                [1]+  멈춤                  sleep 400
                
                # bg 명령에서 작업번호를 지시하지 않는 경우, 작업순서가 +인 작업이 백그라운드 작업으로 전환됨
                user1@myubuntu:~/linux_ex/ch6$ bg %1
                [1]+ sleep 400 &
                
                user1@myubuntu:~/linux_ex/ch6$ jobs
                [1]+  실행중               sleep 400 &
                ```
                
            2. 백그라운드 → 포그라운드 : **fg [%작업번호]**
                
                ```bash
                user1@myubuntu:~/linux_ex/ch6$ fg %1
                sleep 400
                ```
                
        - 작업 종료
            1. 포그라운드 종료 : **Ctrl + c**
                
                ```bash
                # 포그라운드 작업은 ctrl+c를 입력하면 대부분 종료
                user1@myubuntu:~/linux_ex/ch6$ fg %1
                sleep 400
                ^C
                ```
                
            2. 백그라운드 종료 : **kill [-시그널(2, 9, 15)] [%작업번호 or PID]**
                
                ```bash
                user1@myubuntu:~/linux_ex/ch6$ sleep 100 &
                [1] 2572
                user1@myubuntu:~/linux_ex/ch6$ kill 2572
                user1@myubuntu:~/linux_ex/ch6$ jobs
                [1]+  종료됨               sleep 100
                
                user1@myubuntu:~/linux_ex/ch6$ sleep 100 &
                [1] 2575
                user1@myubuntu:~/linux_ex/ch6$ kill %1
                user1@myubuntu:~/linux_ex/ch6$ jobs
                [1]+  종료됨               sleep 100
                ```
                
        - 로그아웃 후에도 백그라운드 작업 계속 실행하기
            
            ```bash
            # 리다이렉션이 없어도 기본적으로 nohup.out 파일에 위의 수행 결과가 저장
            user1@myubuntu:~/linux_ex/ch6$ nohup find / -name passwd &
            [1] 2680
            user1@myubuntu:~/linux_ex/ch6$ nohup: 입력을 무시하고 'nohup.out'(으)로 출력을 추가합니다
            
            # nohup.out 파일이 아니라, 사용자가 지정한 out 파일에 위의 수행 결과가 저장
            user1@myubuntu:~/linux_ex/ch6$ nohup find / -name passwd >> out 2> out &
            [1] 2774
            ```
            
- 작업 예약
    - 정해진 시간에 한 번만 수행하기 (at)
        1. at 명령
            
            ```bash
            user1@myubuntu:~/linux_ex/ch6$ **at 07:00 pm**
            warning: commands will be executed using /bin/sh
            at Mon Nov  6 19:00:00 2023
            at> /bin/ls -l ~user > ~user/at.out # 전체 경로를 다 적어야 함.
            at> <EOT>
            job 1 at Mon Nov  6 19:00:00 2023
            # at로 실행할 실제 명령은 표준 입력으로 지정하며, 명령의 입력을 마치려면 ctrl+d 입력
            
            # 시간 설정 방법
            at 4pm + 3 days : 지금부터 3일 후 오후 4시에 작업 수행
            at 10am Jul 31 : 7월 31일 오전 10시에 작업 수행
            at 1am tomorrow : 내일 오전 1시에 작업 수행
            at 10:00am today : 오늘 오전 10시에 작업 수행
            ```
            
        2. at 작업 목록 확인 : **at -l 또는 atq**
            
            ```bash
            # at 작업 목록 확인
            user1@myubuntu:~/linux_ex/ch6$ at -l
            1	Mon Nov  6 19:00:00 2023 a user1
            
            # 슈퍼유저(root)일 경우, atq 명령으로 모든 사용자의 at 작업 목록을 확인할 수 있음
            user1@myubuntu:~/linux_ex/ch6$ atq
            1	Mon Nov  6 19:00:00 2023 a user1
            ```
            
        3. at 작업 목록 삭제 : **at -d [목록번호]** **또는 atrm [목록번호]**
            
            ```bash
            user1@myubuntu:~/linux_ex/ch6$ at 1 am tomorrow
            warning: commands will be executed using /bin/sh
            at Tue Nov  7 01:00:00 2023
            at> /bin/ls -l ~user1 > ~user1/at1.out
            at> <EOT>
            job 2 at Tue Nov  7 01:00:00 2023
            user1@myubuntu:~/linux_ex/ch6$ at 2 pm tomorrow
            warning: commands will be executed using /bin/sh
            at Tue Nov  7 14:00:00 2023
            at> /bin/ls -l /tmp > ~user1/at2.out
            at> <EOT>
            job 3 at Tue Nov  7 14:00:00 2023
            
            user1@myubuntu:~/linux_ex/ch6$ atq
            3	Tue Nov  7 14:00:00 2023 a user1
            2	Tue Nov  7 01:00:00 2023 a user1
            1	Mon Nov  6 19:00:00 2023 a user1
            
            # at 작업 목록 제거
            user1@myubuntu:~/linux_ex/ch6$ at -d 1
            user1@myubuntu:~/linux_ex/ch6$ atrm 2
            
            user1@myubuntu:~/linux_ex/ch6$ atq
            3	Tue Nov  7 14:00:00 2023 a user1
            
            user1@myubuntu:~/linux_ex/ch6$ at -l
            3	Tue Nov  7 14:00:00 2023 a user1
            ```
            
        4. at 명령으로 생성한 작업 파일 확인
            
            ```bash
            # /var/spool/cron/atjobs 디렉터리에 저장됨 (일반 사용자는 접근권한 없음)
            user1@myubuntu:~$ sudo ls -l **/var/spool/cron/atjobs**
            합계 24
            -rwx------ 1 user1 daemon 4196 11월  7 02:21 a0000201b02ad8
            -rwx------ 1 user1 daemon 4196 11월  7 02:31 a0000401b02bc8
            -rwx------ 1 user1 daemon 4128 11월  7 02:39 a0000501b02bc8
            
            user1@myubuntu:~$ sudo ls -ld /var/spool/cron/atjobs
            drwxrwx--T 2 daemon daemon 4096 11월  7 02:39 /var/spool/cron/atjobs
            
            ```
            
        5. at 명령 사용 제한
            
            ```bash
            관련 파일: /etc/at.allow와 /etc/at.deny
            /etc/at.allow와 /etc/at.deny 파일에 한 줄에 사용자 이름을 하나씩 기록
            
            두 파일의 적용 기준
            /etc/at.allow 파일이 있으면 이 파일 안에 있는 사용자만 at 명령 사용 가능
            /etc/at.deny 파일만 있으면 이 파일에 사용자가 없어야 at 명령 가능
            /etc/at.deny를 빈 파일로 두면 모든 사용자가 at 명령 사용 가능 (초기 상태)
            ```
            
    - 정해진 시간에 반복 수행하기 (crontab)
        
        ![crontab.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/crontab.png)
        
        1. 사용자의 crontab 파일 생성, 편집 : crontab -e
            
            ```bash
            # crontab 명령의 편집기는 선택할 수 있으며, 미리 설정도 가능
            user1@myubuntu:~/linux_ex/ch6$ EDITOR=vi; export EDITOR
            or
            user1@myubuntu:~/linux_ex/ch6$ export EDITOR=vi
            # 환경 변수 EDITOR를 vi, nano 등으로 설정 가능
            
            user1@myubuntu:~/linux_ex/ch6$ crontab -e
            ```
            
        2. crontab 편집 내용 확인 : crontab -l
            
            ```bash
            user1@myubuntu:~/linux_ex/ch6$ crontab -l
            # Edit this file to introduce tasks to be run by cron.
            # 
            # Each task to run has to be defined through a single line
            # indicating with different fields when the task will be run
            # and what command to run for the task
            # 
            # To define the time you can provide concrete values for
            # minute (m), hour (h), day of month (dom), month (mon),
            # and day of week (dow) or use '*' in these fields (for 'any').
            # 
            # Notice that tasks will be started based on the cron's system
            # daemon's notion of time and timezones.
            # 
            # Output of the crontab jobs (including errors) is sent through
            # email to the user the crontab file belongs to (unless redirected).
            # 
            # For example, you can run a backup of all your user accounts
            # at 5 a.m every week with:
            # 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/
            # 
            # For more information see the manual pages of crontab(5) and cron(8)
            # 
            # m h  dom mon dow   command
            30 23 1 * * /bin/ls -l ~user1 > ~user1/cron.out
            ```
            
        3. crontab -e 명령으로 편집한 파일 생성 확인
            
            ```bash
            user1@myubuntu:~/linux_ex/ch6$ sudo ls -l /var/spool/cron/crontabs
            [sudo] user1 암호: 
            합계 4
            -rw------- 1 user1 crontab 1138 11월  7 09:18 user1
            
            user1@myubuntu:~/linux_ex/ch6$ sudo ls -ld /var/spool/cron/crontabs
            drwx-wx--T 2 root crontab 4096 11월  7 09:27 /var/spool/cron/crontabs
            ```
            
        4. crontab 파일 삭제
            
            ```bash
            user1@myubuntu:~/linux_ex/ch6$ crontab -r
            user1@myubuntu:~/linux_ex/ch6$ crontab -l
            no crontab for user1
            ```
            
        5. crontab 명령 사용 제한
            
            ```bash
            관련 파일: /etc/cron.allow, /etc/cron.deny
            cron.deny 파일은 기본적으로 있지만 cron.allow 파일은 관리자가 만들어야 함
            
            두 파일의 적용 기준
            /etc/cron.allow 파일이 있으면 이 파일 안에 있는 사용자만 crontab 명령 사용 가능
            /etc/cron.deny 파일만 있으면 이 파일에 사용자가 없어야 crontab 명령 가능
            ```
            

---

## ch. 7 파일 시스템과 디스크 관리

- 파일 시스템의 종류와 구조
    - 파일 시스템 : 파일과 디렉터리 집합을 구조적으로 관리하는 체계
        - 다양한 형식의 파일 시스템 존재(**FAT(4 GB), NTFS, EXT** 등)
    - 파일 시스템 종류
        1. **ext1(Extended File System 1, 1992.4)**
            - 파일 시스템의 최대 크기는 2GB, 파일 이름의 길이는 255바이트까지 지원
        2. **ext2(Extended File System 2, 1993.1)**
            - 파일 시스템의 최대 크기는 이론적으로 32TB까지 가능 (초기 2TB까지 지원)
            - ext3 파일 시스템 도입 전까지 사실상 리눅스의 표준 파일 시스템으로 사용됨
        3. **ext3(Extended File System 3, 2001.11)**
            - 파일 시스템의 최대 크기는 블록의 크기에 따라 2~32TB까지 지원
            - **저널링(journaling) 기능**을 도입하여 파일 시스템 복구 기능 강화
            - ext2와 호환
        4. **ext4(Extended File System 4, 2008.12)**
            - 1EB(엑사바이트, 1EB=1,024×1,024TB) 이상의 볼륨과 16TB 이상의 파일을 지원함
            - ext2, 3과 호환
        5. XFS(eXtended File System)
            - 64bit 파일 시스템으로 최대 16EB까지 지원
    - 리눅스 파일 시스템
        - 종류
            - ext, ext2, ext3, ext4 등 여러 파일 시스템 지원
            - **(Microsoft 파일 시스템)** msdos, **vfat, ntfs**
            (Apple 파일 시스템) hfs
            **(CD-ROM, DVD 파일 시스템) iso9660**
            
            ![리눅스 지원 파일 시스템.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EB%25A6%25AC%25EB%2588%2585%25EC%258A%25A4_%25EC%25A7%2580%25EC%259B%2590_%25ED%258C%258C%25EC%259D%25BC_%25EC%258B%259C%25EC%258A%25A4%25ED%2585%259C.png)
            
            - /proc/filesystems 에서 현재 커널이 지원하는 파일 시스템 종류를 알려줌
                - nodev : 가상 파일 시스템
            
            ![지원 파일.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%25A7%2580%25EC%259B%2590_%25ED%258C%258C%25EC%259D%25BC.png)
            
        - 구조
            - 리눅스 파일 시스템 특징
                - inode 테이블로 파일을 관리
                - 디렉터리 : 단순히 파일의 목록을 가지고 있는 파일
                - 특수 파일을 통해 장치에 접근 가능
            - 우분투 리눅스 파일 시스템(ext4)
                
                <aside>
                💡 디스크를 사용하기 위해 저장 장치를 **논리적인 블록의 집합(블록그룹)으로 구분하여 관리**(하나의 블록그룹은 최대 32,768개의 블록으로 구성)
                
                일반적으로 한 블럭 크기는 4KB이며, 시스템 설정에 따라 변경 가능
                
                </aside>
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled.png)
                
                | 그룹 0 패딩
                (1,024B, 1K) | 부트 섹터와 부가 정보 저장
                 |
                | --- | --- |
                | 슈퍼 블록
                (1블록, 4K) | 전체 파일 시스템의 구성과 관련 정보 저장
                ex) 파일시스템 크기, 전체 블록 개수, 전체 inode 개수, 각 블록 크기, 
                그룹 당 블록 개수, 마운트 시간 등
                
                해당 디스크가 마운트될 때, 운영체제가 가장 먼저 읽음
                
                만약 문제가 생길 시 전체 파일 시스템을 사용할 수 없음
                → 다른 블록그룹에 복사하고, 
                슈퍼블록을 읽을 수 없을 경우 복사본을 사용하여 복구함 (블록그룹 a를 이용함) |
                | 그룹 디스크립터
                GDT 예약 블록
                (N 블록) | 각 블록 그룹의 정보를 저장하는 부분 
                ex) 데이터 블록 비트맵 주소, inode 비트맵 주소, inode 테이블 주소,
                할당되지 않은 블록의 개수, 할당되지 않은 inode의 개수, 디렉터리의 개수
                
                GDT 예약 블록은 미래의 파일 시스템 확장을 위해 예약되어 있는 공간 |
                | 데이터 블록 비트맵
                inode 비트맵
                (1 블록) | 블록 그룹에 포함된 데이터 블록의 사용 여부 표시
                블록 그룹에 포함된 inode 테이블 항목의 사용 여부 표시
                1 : 사용 중, 0 : 사용 X |
                | 데이터 블록
                inode 테이블
                (N 블록) | 데이터 블록에는 실제 데이터들이 저장됨
                inode 테이블에는 실제 파일/디렉터리에 관한 정보들이 저장됨 |
                - inode 구조
                    
                    ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%201.png)
                    
                    <aside>
                    💡 데이터 블럭 주소 : inode는 일반적으로 데이터 블럭 주소에 직접 블록 포인터를 여러 개 가지고 있음.
                    
                    직접 블록 
                    : 파일 데이터의 실제 블록 위치를 직접 가리켜서 포인터을 통해 파일 데이터에 바로 접근할 수 있게 함.
                    
                    간접 블록 
                    : 파일이 크면 직접 블록 포인터 만으로 모든 데이터 블록을 가르킬 수 없기 때문에, 또 다른 블록을 가리키는 포인터를 저장하고 있는 간접 블록을 통해 저장.
                    
                    이중 간접 블록 : 간접 블록 만으로도 파일을 모두 저장할 수 없는 경우, 간접 블록을 가리키는 포인터를 저장하고 있는 이중 간접 블록을 통해 접근할 수 있게 함.
                    
                    ex) 슈퍼 블럭 크기가 4KB이고, inode의 데이터 블럭 주소의 칸이 7개인 경우
                    직접 블록 : 7 * 4KB = 28KB | 7개
                    간접 블록 : 4KB * 4KB / 4byte = 4MB | 4KB / 4byte = 1024개
                    이중 간접 블록 : 4KB * 4MB / 4byte = 4GB | 4KB / 4byte * 1024 = 1,048,576개
                    전체 데이터 블록의 개수 : 7(직접 블록) + 1024(간접 블록) + 1,048,576(이중 간접 블록) = 1,049,607개
                    
                    </aside>
                    
                - 파일 시스템을 디렉터리 계층 구조에 연결(= 마운트)
                    
                    <aside>
                    💡 **실제 파일이 저장되는 파일 시스템은 디렉터리 계층 구조와 연결되어야 사용자가 사용 가능함 (=마운트가 되어야 사용 가능함)**
                    
                    </aside>
                    
                    1. 한 개의 파일 시스템으로 구성
                        
                        ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%202.png)
                        
                        <aside>
                        💡 루트에 파일 시스템을 마운트하여 **디렉터리 구조에서 보이는 모든 디렉터리와 파일을 하나의 파일 시스템으로 구성**
                        
                        </aside>
                        
                    2. 여러 개의 파일 시스템으로 구성
                        
                        ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%203.png)
                        
                        <aside>
                        💡 **디렉터리 계층 구조를 여러 개의 파일 시스템으로 구분하여 구성**
                        
                        루트에 연결된 파일 시스템 1이 고장나지 않는 이상 파일 시스템 2, 3을 사용할 수 있음
                        
                        **Windows에서 C 드라이브, D 드라이브를 구분하는 것과 유사한 개념**
                        
                        </aside>
                        
- 파일 시스템 마운트
    
    <aside>
    💡 마운트란?
    파일 시스템을 디렉터리 계층 구조의 특정 디렉터리와 연결하는 것
    
    마운트 포인트란?
    파일 시스템과 연결되는 디렉터리
    
    </aside>
    
    - 오토 마운트
        
        ```bash
        # 리눅스 시스템 부팅 시 자동으로 파일 시스템을 마운트하기 위해 /etc/fstab 파일에 설정
        user1@myubuntu:~$ cat /etc/fstab
        # /etc/fstab: static file system information.
        #
        # Use 'blkid' to print the universally unique identifier for a
        # device; this may be used with UUID= as a more robust way to name devices
        # that works even if disks are added and removed. See fstab(5).
        #
        # <file system> <mount point>   <type>  <options>       <dump>  <pass>
        # / was on /dev/sda3 during installation
        UUID=357e93f3-e1c3-4364-827a-10f1d8735f42 /               ext4    errors=remount-ro 0       1
        # /boot/efi was on /dev/sda2 during installation
        UUID=58B8-4033  /boot/efi       vfat    umask=0077      0       1
        /swapfile                                 none            swap    sw              0       0
        ```
        
        - /etc/fstab 파일 구조
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%204.png)
            
            | 장치명 | 파일 시스템 장치명
            ex) /dev/hd1, /dev/sd1
            
            UUID(universally unique identifier)는 파일 시스템을 유일하게 구분해주는 128비트의 숫자로, 시스템의 하드웨어 정보와 시간 정보를 조합하여 랜덤으로 생성됨
            UUID로 지정된 실제 디스크 장치명은 /dev/disk/by-uuid 디렉터리에서 확인 가능함
            user1@myubuntu:$ ls –l /dev/disk/by-uuid |
            | --- | --- |
            | 마운트 포인트 | 파일 시스템이 연결되는 디렉터리 이름 |
            | 파일 시스템 종류 | 파일 시스템의 종류 설정, ext2, ext3, ext4 등 |
            | 옵션 | 파일 시스템의 속성을 지정 |
            | 덤프 관련 설정 | 0(dump 불가)
            1(dump 가능) |
            | 파일 점검 옵션 | 0(부팅 시, 파일시스템 점검 안함)
            1(루트 파일시스템 점검)
            2(루트 파일 시스템 이외의 파일시스템 점검) |
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%205.png)
            
            ```bash
            # /dev/disk/by-uuid에서 UUID를 확인
            user1@myubuntu:~$ ls -l /dev/disk/by-uuid
            합계 0
            lrwxrwxrwx 1 root root  9 11월 14 20:33 2023-08-08-01-19-05-00 -> ../../sr0
            lrwxrwxrwx 1 root root 10 11월 14 20:33 357e93f3-e1c3-4364-827a-10f1d8735f42 -> ../../sda3
            lrwxrwxrwx 1 root root 10 11월 14 20:41 4166c5fc-edc4-4d2a-abf6-b0ab42538084 -> ../../sdb1
            lrwxrwxrwx 1 root root 10 11월 14 20:33 4517fb21-cf2d-4aed-a131-51bfb45bcff7 -> ../../sdb2
            lrwxrwxrwx 1 root root 10 11월 14 20:33 58B8-4033 -> ../../sda2
            ```
            
            <aside>
            💡 UUID=357e93f3-e1c3-4364-827a-10f1d8735f42 /  ext4  errors=remount-ro 0    1
            
            **장치명** : UUID=357e93f3-e1c3-4364-827a-10f1d8735f42 (UUID로 장치명 표시)
            
            **마운트** **포인트** : / (루트 디렉터리를 파일시스템과 연결)
            
            **파일 시스템의 종류** : ext4 (ext4 파일 시스템 설정)
            
            **옵션** : errors=remount-ro (에러가 발생하면 읽기 전용으로 다시 마운트)
            
            **덤프 관련 설정** : 0 (백업 등을 위해 파일 덤프 사용 안함)
            
            **파일 점검 옵션** : 1 (부팅 시, 루트 파일 시스템 점검 수행)
            
            </aside>
            
    - 마운트
        1. **mount [옵션] [장치명] [마운트 포인트]**
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%206.png)
            
            ```bash
            # 옵션, 인자 없이 사용하면 현재 mount 되어 있는 정보 출력
            user1@myubuntu:~$ mount
            user1@myubuntu:~$ mount | grep sd
            
            # 해당 정보는 /etc/mtab 파일 내용
            /dev/sda3 on / type ext4 (rw,relatime,errors=remount-ro)
            ```
            
            ```bash
            # 장치를 디렉터리에 연결
            user1@myubuntu:~$ mount -t ext2 /dev/sdb1 /mnt
            user1@myubuntu:~$ mount -t ext3 /dev/sdb1 /mnt
            user1@myubuntu:~$ mount -t ext4 /dev/sdb1 /mnt # 기본 ext4
            
            # 읽기 전용
            user1@myubuntu:~$ mount –r  /dev/sdb1 /mnt
            
            # CD - ROM
            user1@myubuntu:~$ mount –t iso9660  /dev/cdrom /mnt/cdrom
            
            # MS Windows
            user1@myubuntu:~$ mount –t vfat /dev/hdc /mnt
            ```
            
        2. **umount [옵션] [장치명** **또는 마운트포인트]**
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%207.png)
            
        - Window 형 디스크도 사용이 가능하다.
        
        ---
        
- 디스크 추가 설치
    - **디스크 추가 단계 ( 중요 )**
    
    ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%208.png)
    
    1. 새 디스크 장착
        - IDE, SCSI - 재부팅 해야 인식
        SATA - 바로 인식
        
        ---
        
    2. 디스크 파티션 나누기
        - 파티션 : 하나의 디스크를 여러 개의 독립적 영역으로 구분하여 사용
        - 디스크 이름
            - IDE 컨트롤러 연결 디스크 : /dev/hd
            - SCSI, SATA 컨트롤러 연결 디스크 : /dev/sd
            - 최근 : /dev/sd
            
            ex) **/dev/sda** : 첫 번째 디스크
                 **/dev/sdb** : 두 번째 디스크
                 **/dev/sdc** : 세 번째 디스크
            
        - 파티션
            - **디스크 파티션을 하나만 쓴다고 하더라도 디스크 파티션을 나누어야 함**
            - 하나의 디스크를 여러 개 파티션 구분 시 뒤에 숫자를 붙여 표시
            
            ex) **/dev/sda** : 디스크 전체를 의미하는 디스크명
                 **/dev/sda1** : 디스크의 첫 번째 파티션명(파일시스템명)
                 **/dev/sda2** : 디스크의 두 번째 파티션명(파일시스템명)
            
        - 디스크 파티션 생성, 삭제, 보기 명령(fdisk)
            
            **fdisk [옵션 → d, n, p, w, q] [디스크명]**
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%209.png)
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2010.png)
            
            1. 파티션 정보 확인
                
                ```bash
                # 파티션 정보 확인
                user1@myubuntu:~$ sudo fdisk -l | grep sd
                Disk /dev/sda: 20 GiB, 21474836480 bytes, 41943040 sectors
                /dev/sda1     2048     4095     2048    1M BIOS boot # 요즘 사용 X
                /dev/sda2     4096  1054719  1050624  513M EFI System
                /dev/sda3  1054720 41940991 40886272 19.5G Linux filesystem
                Disk /dev/sdb: 1 GiB, 1073741824 bytes, 2097152 sectors
                # 디스크 2개 : sda, sdb
                ```
                
            2. 파티션 나누기
                
                ```bash
                # 파티션 나누기
                user1@myubuntu:~$ sudo fdisk /dev/sdb
                
                Welcome to fdisk (util-linux 2.37.2).
                Changes will remain in memory only, until you decide to write them.
                Be careful before using the write command.
                
                Device does not contain a recognized partition table.
                Created a new DOS disklabel with disk identifier 0xb3ef240d.
                
                # 파티션 1 생성
                Command (m for help): n # 파티션 추가
                Partition type
                   p   primary (0 primary, 0 extended, 4 free)
                   e   extended (container for logical partitions)
                Select (default p):  # 기본 파티션 
                
                Using default response p.
                Partition number (1-4, default 1): # 파티션 번호
                # 파티션 크기 설정
                First sector (2048-2097151, default 2048): 
                Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-2097151, default 2097151): +500M
                
                Created a new partition 1 of type 'Linux' and of size 500 MiB.
                
                Command (m for help): p # 설정 여부 확인
                Disk /dev/sdb: 1 GiB, 1073741824 bytes, 2097152 sectors
                Disk model: VMware Virtual S
                Units: sectors of 1 * 512 = 512 bytes
                Sector size (logical/physical): 512 bytes / 512 bytes
                I/O size (minimum/optimal): 512 bytes / 512 bytes
                Disklabel type: dos
                Disk identifier: 0xb3ef240d
                
                Device     Boot Start     End Sectors  Size Id Type
                /dev/sdb1        2048 1026047 1024000  500M 83 Linux
                
                # 파티션 2 생성
                Command (m for help): n
                Partition type
                   p   primary (1 primary, 0 extended, 3 free)
                   e   extended (container for logical partitions)
                Select (default p): 
                
                Using default response p.
                Partition number (2-4, default 2): # 파티션 번호
                # 파티션 크기 설정
                First sector (1026048-2097151, default 1026048): 
                Last sector, +/-sectors or +/-size{K,M,G,T,P} (1026048-2097151, default 2097151): +500M
                
                Created a new partition 2 of type 'Linux' and of size 500 MiB.
                
                Command (m for help): p
                Disk /dev/sdb: 1 GiB, 1073741824 bytes, 2097152 sectors
                Disk model: VMware Virtual S
                Units: sectors of 1 * 512 = 512 bytes
                Sector size (logical/physical): 512 bytes / 512 bytes
                I/O size (minimum/optimal): 512 bytes / 512 bytes
                Disklabel type: dos
                Disk identifier: 0xb3ef240d
                
                Device     Boot   Start     End Sectors  Size Id Type
                /dev/sdb1          2048 1026047 1024000  500M 83 Linux
                /dev/sdb2       1026048 2050047 1024000  500M 83 Linux
                ```
                
                ```bash
                user1@myubuntu:~$ sudo fdisk -l | grep sd
                Disk /dev/sda: 20 GiB, 21474836480 bytes, 41943040 sectors
                /dev/sda1     2048     4095     2048    1M BIOS boot
                /dev/sda2     4096  1054719  1050624  513M EFI System
                /dev/sda3  1054720 41940991 40886272 19.5G Linux filesystem
                Disk /dev/sdb: 1 GiB, 1073741824 bytes, 2097152 sectors
                /dev/sdb1          2048 1026047 1024000  500M 83 Linux
                /dev/sdb2       1026048 2050047 1024000  500M 83 Linux
                ```
                
        
        ---
        
    3. 포맷(**해당 디스크에 파일 시스템 새로 생성.** / **삭제가 목적이 아님)**
        - 파티션마다 각각 포맷해야 함
        - 파일 시스템 생성(mkfs, mke2fs)
            
            <aside>
            💡 mkfs [옵션] 장치명 
            mke2fs [옵션] 장치명
            
            </aside>
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2011.png)
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2012.png)
            
            ```bash
            user1@myubuntu:~$ sudo mkfs /dev/sdb1
            mke2fs 1.46.5 (30-Dec-2021)
            Creating filesystem with 128000 4k blocks and 128000 inodes
            Filesystem UUID: 4166c5fc-edc4-4d2a-abf6-b0ab42538084
            Superblock backups stored on blocks: 
            	32768, 98304 # 슈퍼 블록 백업 위치
            
            Allocating group tables: done                            
            Writing inode tables: done                            
            Writing superblocks and filesystem accounting information: done
            ```
            
            ```bash
            user1@myubuntu:~$ sudo mkfs -t ext3 /dev/sdb2
            mke2fs 1.46.5 (30-Dec-2021)
            Creating filesystem with 128000 4k blocks and 128000 inodes
            Filesystem UUID: 4517fb21-cf2d-4aed-a131-51bfb45bcff7
            Superblock backups stored on blocks: 
            	32768, 98304 # 슈퍼 블록 백업 위치
            
            Allocating group tables: done                            
            Writing inode tables: done                            
            Creating journal (4096 blocks): done
            Writing superblocks and filesystem accounting information: done
            ```
            
        
        ---
        
    4. 디스크 마운트
        - 마운트
            
            ```bash
            # 디스크 마운트
            user1@myubuntu:~$ mkdir /home/user1/linux_ex/ch7/hd1
            user1@myubuntu:~$ mkdir /home/user1/linux_ex/ch7/hd2
            user1@myubuntu:~$ sudo mount /dev/sdb1 /home/user1/linux_ex/ch7/hd1
            user1@myubuntu:~$ sudo mount /dev/sdb2 /home/user1/linux_ex/ch7/hd2
            
            user1@myubuntu:~$ mount | grep sd
            /dev/sda3 on / type ext4 (rw,relatime,errors=remount-ro)
            cgroup2 on /sys/fs/cgroup type cgroup2 (rw,nosuid,nodev,noexec,relatime,nsdelegate,memory_recursiveprot)
            /dev/sda3 on /var/snap/firefox/common/host-hunspell type ext4 (ro,noexec,noatime,errors=remount-ro)
            /dev/sda2 on /boot/efi type vfat (rw,relatime,fmask=0077,dmask=0077,codepage=437,iocharset=iso8859-1,shortname=mixed,errors=remount-ro)
            gvfsd-fuse on /run/user/1000/gvfs type fuse.gvfsd-fuse (rw,nosuid,nodev,relatime,user_id=1000,group_id=1000)
            **/dev/sdb1 on /home/user1/linux_ex/ch7/hd1 type ext2 (rw,relatime)
            /dev/sdb2 on /home/user1/linux_ex/ch7/hd2 type ext3 (rw,relatime)**
            ```
            
            ```bash
            # umount 후 mount
            user1@myubuntu:~/linux_ex/ch7$ ls -l
            합계 8
            drwxr-xr-x 3 root root 4096 11월 14 09:54 hd1
            drwxr-xr-x 3 root root 4096 11월 14 09:57 hd2
            user1@myubuntu:~/linux_ex/ch7$ sudo cp /etc/hosts hd1/.
            user1@myubuntu:~/linux_ex/ch7$ ls -l hd1
            합계 20
            -rw-r--r-- 1 root root   223 11월 14 10:22 hosts
            drwx------ 2 root root 16384 11월 14 09:54 lost+found
            user1@myubuntu:~/linux_ex/ch7$ sudo umount /dev/sdb1
            user1@myubuntu:~/linux_ex/ch7$ sudo umount /dev/sdb2
            user1@myubuntu:~/linux_ex/ch7$ ls -l hd1
            합계 0
            # umount로 인해 hosts 파일을 볼 수 없지만 다시 연결하면 볼 수 있음
            
            user1@myubuntu:~/linux_ex/ch7$ sudo mount /dev/sdb1 hd1
            user1@myubuntu:~/linux_ex/ch7$ ls -l hd1
            합계 20
            -rw-r--r-- 1 root root   223 11월 14 10:22 hosts
            drwx------ 2 root root 16384 11월 14 09:54 lost+found
            ```
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2013.png)
            
        - USB 마운트(포맷 없이 마운트)
            
            <aside>
            💡 exFAT 파일 시스템 (exfat → exfat)
            sudo mount -t **exfat** /dev/sdc1 /home/user1/linux_ex/ch7/mttest
            
            FAT 파일 시스템 (fat → vfat)
            sudo mount -t **vfat** /dev/sdc1 /home/user1/linux_ex/ch7/mttest
            
            NTFS 파일 시스템 (ntfs → ntfs)
            sudo mount -t **ntfs** /dev/sdc1 /home/user1/linux_ex/ch7/mttest
            
            </aside>
            
            1. USB 메모리를 USB 슬롯에 꽂고 리눅스 시스템에 인식시키기
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2014.png)
                
                - Connect to the host : 윈도우 시스템에 인식
                - Connect to a virtual machine : 리눅스 시스템에 인식
            2. root 권한으로 새로 연결된 USB 메모리의 장치명(파일 시스템명)을 확인함
                
                ```bash
                user1@myubuntu:~$ sudo fdisk -l | grep sd
                Disk /dev/sda: 20 GiB, 21474836480 bytes, 41943040 sectors
                /dev/sda1     2048     4095     2048    1M BIOS boot
                /dev/sda2     4096  1054719  1050624  513M EFI System
                /dev/sda3  1054720 41940991 40886272 19.5G Linux filesystem
                Disk /dev/sdb: 1 GiB, 1073741824 bytes, 2097152 sectors
                /dev/sdb1          2048 1026047 1024000  500M 83 Linux
                /dev/sdb2       1026048 2050047 1024000  500M 83 Linux
                # USB 인식
                Disk /dev/sdc: 3.73 GiB, 4004511744 bytes, 7821312 sectors
                /dev/sdc1  *     2048 7821311 7819264  3.7G  c W95 FAT32 (LBA)
                ```
                
            3. USB 메모리를 /home/user1/linux_ex/ch7/mttest 디렉터리에 마운트하고 확인
                
                ```bash
                user1@myubuntu:~$ sudo mount –t vfat /dev/sdb1 /home/user1/linux_ex/ch7/mttest
                user1@myubuntu:~$ ls -l mttest
                ```
                
            4. USB 메모리를 사용 완료 후, umount 명령으로 마운트 해제
                
                ```bash
                user1@myubuntu:~$ sudo umount /dev/sdc1
                ```
                
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2015.png)
            
        - USB 마운트(포맷하고 마운트)
            1. USB 메모리를 USB 슬롯에 연결하고 리눅스 시스템에 인식시키기
                
                ```bash
                # 리눅스 Gnome UI가 자동으로 USB를 마운트하기 때문에 파티션, 포맷 전 마운트 해제 필요
                user1@myubuntu:~$ sudo mount | grep sd
                
                # 디스크가 아닌 파일 시스템을 umount함.
                user1@myubuntu:~$ sudo umount  /dev/sdb1
                ```
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2016.png)
                
            2. 새로 연결된 USB 메모리의 디스크명을 확인함 (fdisk –l)
                
                ```bash
                user1@myubuntu:~$ sudo fdisk –l | grep sd   #(/dev/sdb 확인)
                ```
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2017.png)
                
            3. USB 메모리에 파티션 생성 (fdisk)
                
                ```bash
                # 디스크 명을 통해 fdisk 실행
                user1@myubuntu:~$ sudo fdisk /dev/sdb
                
                n을 누르면 이미 Window 파일 시스템을 가진 USB이기 때문에 생성 불가.
                d를 눌려 파티션을 삭제하고 n을 눌러야 가능.
                ```
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2018.png)
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2019.png)
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2020.png)
                
            4. 생성된 UBS 메모리 파티션을 포맷하여 리눅스 파일시스템(ext4) 생성 (mke2fs)
                
                ```bash
                # 리눅스 파일 시스템(ext4)로 포맷
                user1@myubuntu:~$ sudo mke2fs –t ext4 /dev/sdb1
                
                # 디스크 용량이 클수록 슈퍼 블록 백업 수가 많아짐.
                ```
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2021.png)
                
            5. USB 메모리를 마운트(디렉터리에 연결)하고 확인 mount
                
                ```bash
                # USB를 마운트
                user1@myubuntu:~$ sudo mount /dev/sdb1 /home/user1/linux_ex/ch7/mttest
                ```
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2022.png)
                
            6. 테스트를 위하여 USB 메모리에 새로운 파일 복사해보기 (cp)
                
                ```bash
                # 테스트를 위한 USB에 파일 복사
                user1@myubuntu:~$ sudo cp /etc/hosts /home/user1/linux_ex/ch7/mttest
                ```
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2023.png)
                
            7. 장치 연결을 해제하고 USB 제거 (umount)
                
                ```bash
                # 장치 연결 해제 후 제거
                user1@myubuntu:~$ sudo umount /dev/sdb1
                ```
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2024.png)
                
        
        ---
        
- 디스크 관리
    - 파일 시스템 별 디스크의 남은 공간 확인하기(df / disk free)
        
        <aside>
        💡 df [옵션] [파일 시스템]
        
        df 명령 시 출력되는 항목
        - 파일 시스템 명
        - 파일 시스템의 전체 용량
        - 파일 시스템의 사용량
        - 파일 시스템의 사용 가능한 용량
        - 퍼센트로 나타낸 사용량
        - 마운트 포인트 (디렉터리)
        
        </aside>
        
        ![df.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/df.png)
        
        1. 기본적인 디스크 공간 확인
            
            ```bash
            user1@myubuntu:~$ df 
            파일 시스템     1K-블록     사용    가용 사용% 마운트위치
            tmpfs            196952     1724  195228    1% /run
            /dev/sda3      19946096 13192900 5714656   70% /
            tmpfs            984760        0  984760    0% /dev/shm
            tmpfs              5120        4    5116    1% /run/lock
            /dev/sda2        524252     6220  518032    2% /boot/efi
            tmpfs            196952      100  196852    1% /run/user/1000
            /dev/sr0        4919592  4919592       0  100% /media/user1/Ubuntu 22.04.3 LTS amd64
            
            # 현재 마운트 되어 있는 파일 시스템만 표시
            user1@myubuntu:~$ df | grep sd
            /dev/sda3      19946096 13192904 5714652   70% /
            /dev/sda2        524252     6220  518032    2% /boot/efi
            
            # BIOS는 부팅 시에만 사용하므로 리눅스가 켜지만 EFI만 사용.
            /dev/sda1     2048     4095     2048    1M BIOS boot
            /dev/sda2     4096  1054719  1050624  513M EFI System
            ```
            
        2. 파일 시스템 별로 이해하기 쉬운 단위로 사용량 출력(-h 옵션)
            
            ```bash
            user1@myubuntu:~$ df -h | grep sd
            /dev/sda3        20G   13G  5.5G   70% /
            /dev/sda2       512M  6.1M  506M    2% /boot/efi
            ```
            
        3. 파일 시스템 종류(ext2, ext3, ext4 …)도 출력(-T 옵션)
            
            ```bash
            user1@myubuntu:~$ df -Th | grep sd
            /dev/sda3      ext4      20G   13G  5.5G   70% /
            /dev/sda2      vfat     512M  6.1M  506M    2% /boot/efi
            ```
            
    
    ---
    
    - 디렉터리나 사용자 별 디스크 사용량 확인하기(du / disk usage)
        
        du [옵션] [디렉터리]
        
        ![du.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/du.png)
        
        - 현재 디렉터리의 디스크 사용량 출력(du)
            
            ```bash
            user1@myubuntu:~$ du
            4	./tmp1
            4	./문서
            4	./사진
            4	./다운로드
            4	./linux_ex/ch2/twe
            4	./linux_ex/ch2/three
            28	./linux_ex/ch2/temp/temp3/temp3/temp
            56	./linux_ex/ch2/temp/temp3/temp3
            96	./linux_ex/ch2/temp/temp3
            128	./linux_ex/ch2/temp
            180	./linux_ex/ch2
            4	./linux_ex/ch3
            4	./linux_ex/ch5/temp2
            8	./linux_ex/ch5
            52	./linux_ex/ch4
            176	./linux_ex/ch6
            4	./linux_ex/ch7/hd2
            4	./linux_ex/ch7/hd1
            4	./linux_ex/ch7/mttest
            16	./linux_ex/ch7
            460	./linux_ex
            192	./.cache/ibus/bus
            196	./.cache/ibus
            4	./.cache/evolution/memos/trash
            8	./.cache/evolution/memos
            4	./.cache/evolution/calendar/trash
            8	./.cache/evolution/calendar
            4	./.cache/evolution/tasks/trash
            8	./.cache/evolution/tasks
            4	./.cache/evolution/sources/trash
            8	./.cache/evolution/sources
            4	./.cache/evolution/mail/trash
            8	./.cache/evolution/mail
            4	./.cache/evolution/addressbook/trash
            8	./.cache/evolution/addressbook
            52	./.cache/evolution
            392	./.cache/gstreamer-1.0
            4	./.cache/ibus-table
            4	./.cache/tracker3/files/errors
            11364	./.cache/tracker3/files
            11368	./.cache/tracker3
            12	./.cache/update-manager-core
            8	./.cache/ubuntu-report
            12048	./.cache
            4	./비디오
            4	./공개
            4	./tmp2
            4	./.local/share/applications
            4	./.local/share/icc
            76	./.local/share/gvfs-metadata
            12	./.local/share/gnome-shell
            4	./.local/share/evolution/memos/trash
            8	./.local/share/evolution/memos
            4	./.local/share/evolution/calendar/trash
            8	./.local/share/evolution/calendar/system
            16	./.local/share/evolution/calendar
            4	./.local/share/evolution/tasks/trash
            8	./.local/share/evolution/tasks/system
            16	./.local/share/evolution/tasks
            4	./.local/share/evolution/mail/trash
            8	./.local/share/evolution/mail
            4	./.local/share/evolution/addressbook/trash
            4	./.local/share/evolution/addressbook/system/photos
            92	./.local/share/evolution/addressbook/system
            100	./.local/share/evolution/addressbook
            152	./.local/share/evolution
            100	./.local/share/Trash/info
            4	./.local/share/Trash/files/twe
            4	./.local/share/Trash/files/ch5
            28	./.local/share/Trash/files/temp3/temp
            56	./.local/share/Trash/files/temp3
            28	./.local/share/Trash/files/temp2/temp3/temp
            56	./.local/share/Trash/files/temp2/temp3
            92	./.local/share/Trash/files/temp2
            28	./.local/share/Trash/files/temp2.2/temp3/temp
            56	./.local/share/Trash/files/temp2.2/temp3
            92	./.local/share/Trash/files/temp2.2
            4	./.local/share/Trash/files/three
            28	./.local/share/Trash/files/temp/temp3/temp
            56	./.local/share/Trash/files/temp/temp3
            92	./.local/share/Trash/files/temp
            396	./.local/share/Trash/files
            500	./.local/share/Trash
            4	./.local/share/sounds
            12	./.local/share/keyrings
            4	./.local/share/gnome-settings-daemon
            4	./.local/share/flatpak/db
            8	./.local/share/flatpak
            4	./.local/share/nautilus/scripts
            324	./.local/share/nautilus/tags
            332	./.local/share/nautilus
            4	./.local/share/ibus-table
            1128	./.local/share
            1132	./.local
            4	./.config/update-notifier
            8	./.config/gedit
            8	./.config/gtk-3.0
            12	./.config/ibus/bus
            16	./.config/ibus
            8	./.config/evolution/sources
            12	./.config/evolution
            4	./.config/enchant
            4	./.config/goa-1.0
            8	./.config/nautilus
            4	./.config/procps
            4	./.config/gnome-session/saved-session
            8	./.config/gnome-session
            12	./.config/dconf
            64	./.config/pulse
            4	./.config/gtk-4.0
            172	./.config
            4	./snap/firefox/3290/.local/share/glib-2.0/schemas
            8	./snap/firefox/3290/.local/share/glib-2.0
            4	./snap/firefox/3290/.local/share/icons
            16	./snap/firefox/3290/.local/share
            20	./snap/firefox/3290/.local
            4	./snap/firefox/3290/.config/gtk-3.0
            4	./snap/firefox/3290/.config/ibus
            8	./snap/firefox/3290/.config/fontconfig
            4	./snap/firefox/3290/.config/gtk-2.0
            4	./snap/firefox/3290/.config/dconf
            8	./snap/firefox/3290/.config/pulse
            52	./snap/firefox/3290/.config
            80	./snap/firefox/3290
            4	./snap/firefox/3358/.local/share/glib-2.0/schemas
            8	./snap/firefox/3358/.local/share/glib-2.0
            4	./snap/firefox/3358/.local/share/icons
            16	./snap/firefox/3358/.local/share
            20	./snap/firefox/3358/.local
            4	./snap/firefox/3358/.config/gtk-3.0
            4	./snap/firefox/3358/.config/ibus
            8	./snap/firefox/3358/.config/fontconfig
            4	./snap/firefox/3358/.config/gtk-2.0
            4	./snap/firefox/3358/.config/dconf
            8	./snap/firefox/3358/.config/pulse
            52	./snap/firefox/3358/.config
            80	./snap/firefox/3358
            15104	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/safebrowsing/google4
            17144	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/safebrowsing
            4	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/thumbnails
            18192	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/startupCache
            16	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/settings/main/ms-language-packs/browser/newtab
            20	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/settings/main/ms-language-packs/browser
            24	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/settings/main/ms-language-packs
            28	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/settings/main
            32	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/settings
            36	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/cache2/doomed
            23028	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/cache2/entries
            23144	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default/cache2
            58520	./snap/firefox/common/.cache/mozilla/firefox/2q5u2n0h.default
            58524	./snap/firefox/common/.cache/mozilla/firefox
            58528	./snap/firefox/common/.cache/mozilla
            40	./snap/firefox/common/.cache/fontconfig
            72	./snap/firefox/common/.cache/immodules
            24	./snap/firefox/common/.cache/gio-modules
            58684	./snap/firefox/common/.cache
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/minidumps
            1564	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/gmp-gmpopenh264/2.3.2
            1568	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/gmp-gmpopenh264
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/bookmarkbackups
            96	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/saved-telemetry-pings
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/crashes/events
            12	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/crashes
            8	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/settings
            592	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/extensions
            12	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/datareporting/glean/pending_pings
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/datareporting/glean/tmp
            32	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/datareporting/glean/db
            12	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/datareporting/glean/events
            64	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/datareporting/glean
            72	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/datareporting/archived/2023-09
            76	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/datareporting/archived
            152	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/datareporting
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/sessionstore-backups
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/to-be-removed
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/default
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/temporary
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/permanent/chrome/idb/1657114595AmcateirvtiSty.files
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/permanent/chrome/idb/3561288849sdhlie.files
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/permanent/chrome/idb/1451318868ntouromlalnodry--epcr.files
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/permanent/chrome/idb/2918063365piupsah.files
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/permanent/chrome/idb/3870112724rsegmnoittet-es.files
            4	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/permanent/chrome/idb/2823318777ntouromlalnodry--naod.files
            10464	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/permanent/chrome/idb
            10472	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/permanent/chrome
            10476	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage/permanent
            10620	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/storage
            2840	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default/security_state
            27652	./snap/firefox/common/.mozilla/firefox/2q5u2n0h.default
            4	./snap/firefox/common/.mozilla/firefox/Pending Pings
            4	./snap/firefox/common/.mozilla/firefox/Crash Reports/events
            12	./snap/firefox/common/.mozilla/firefox/Crash Reports
            27676	./snap/firefox/common/.mozilla/firefox
            4	./snap/firefox/common/.mozilla/extensions
            27684	./snap/firefox/common/.mozilla
            86372	./snap/firefox/common
            86536	./snap/firefox
            4	./snap/snapd-desktop-integration/83/문서
            4	./snap/snapd-desktop-integration/83/사진
            4	./snap/snapd-desktop-integration/83/다운로드
            4	./snap/snapd-desktop-integration/83/비디오
            4	./snap/snapd-desktop-integration/83/공개
            4	./snap/snapd-desktop-integration/83/.local/share/glib-2.0/schemas
            8	./snap/snapd-desktop-integration/83/.local/share/glib-2.0
            4	./snap/snapd-desktop-integration/83/.local/share/icons
            16	./snap/snapd-desktop-integration/83/.local/share
            20	./snap/snapd-desktop-integration/83/.local
            4	./snap/snapd-desktop-integration/83/.config/gtk-3.0
            4	./snap/snapd-desktop-integration/83/.config/ibus
            8	./snap/snapd-desktop-integration/83/.config/fontconfig
            4	./snap/snapd-desktop-integration/83/.config/gtk-2.0
            4	./snap/snapd-desktop-integration/83/.config/dconf
            44	./snap/snapd-desktop-integration/83/.config
            4	./snap/snapd-desktop-integration/83/바탕화면
            4	./snap/snapd-desktop-integration/83/템플릿
            4	./snap/snapd-desktop-integration/83/음악
            104	./snap/snapd-desktop-integration/83
            72	./snap/snapd-desktop-integration/common/.cache/immodules
            28	./snap/snapd-desktop-integration/common/.cache/gio-modules
            108	./snap/snapd-desktop-integration/common/.cache
            112	./snap/snapd-desktop-integration/common
            220	./snap/snapd-desktop-integration
            86760	./snap
            4	./바탕화면
            4	./템플릿
            4	./mttest
            4	./음악
            4	./temp/test/kill
            8	./temp/test
            4	./temp/mid/han
            8	./temp/mid
            20	./temp
            100672	.
            ```
            
        - 지정한 디렉터리의 전체 디스크 사용량만 출력(-s 옵션 / 서브 디렉터리, 파일 표시 x)
            
            ```bash
            user1@myubuntu:~$ du -s
            100672	.
            
            user1@myubuntu:~$ du -s ~user1
            100672	/home/user1
            
            user1@myubuntu:~$ sudo du -s /etc
            15684	/etc
            ```
            
        - 디스크 사용량을 알기 쉽게 출력 (–h 옵션)
            
            ```bash
            user1@myubuntu:~$ du -sh
            99M	.
            
            user1@myubuntu:~$ du -sh ~user1
            99M	/home/user1
            ```
            
    
    ---
    
    - Inode, 블록, 디렉터리, 파일 링크 등을 검사하고 필요시 복구 작업 수행(fsck / e2fsck)
        
        <aside>
        💡 fsck [옵션] [파일 시스템] 
        e2fsck [옵션] [파일 시스템]
        
        파일 시스템 검사 후 복구
        
        - 파일 시스템은 부적절한 시스템 종료, 전원 불안정, 소프트웨어 오류, 하드웨어 오작동 등 다양한 이유로 손상될 수 있음
        - 손상된 파일 시스템의 용량을 확인할 뿐만 아니라 파일 시스템의 상태를 점검하고 문제가 있을 때 복구해야 함
        - **마운트를 해제하고 검사**
        
        /etc/fstab에 지정된 파일 시스템을 대상으로 검사 및 복구
        **복구 작업은 /lost+found의 임시** **디렉터리에서 수행됨**
        
        </aside>
        
        ![fsck.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/fsck.png)
        
        1. 일반적인 파일 시스템 검사
            
            ```bash
            user1@myubuntu:~$ sudo umount /dev/sdb1
            user1@myubuntu:~$ sudo fsck /dev/sdb1
            fsck from util-linux 2.37.2
            e2fsck 1.46.5 (30-Dec-2021)
            /dev/sdb1: clean, 12/128000 files, 8114/128000 blocks
            ```
            
        2. 파일 시스템 강제 검사
            
            ```bash
            user1@myubuntu:~$ sudo umount /dev/sdb2
            user1@myubuntu:~$ sudo fsck -f /dev/sdb2
            fsck from util-linux 2.37.2
            e2fsck 1.46.5 (30-Dec-2021)
            Pass 1: Checking inodes, blocks, and sizes
            Pass 2: Checking directory structure
            Pass 3: Checking directory connectivity
            Pass 4: Checking reference counts
            Pass 5: Checking group summary information
            /dev/sdb2: 11/128000 files (0.0% non-contiguous), 12214/128000 blocks
            ```
            
    
    ---
    
    - 배드 블록 검사하기(badblocks)
        
        <aside>
        💡 badblocks [옵션] 장치명
        
        </aside>
        
        ![badblocks.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/badblocks.png)
        
        1. 배드 블록 검색 자세하게 출력(-v 옵션)
            
            ```bash
            user1@myubuntu:~$ sudo badblocks -v /dev/sdb1
            Checking blocks 0 to 511999
            Checking for bad blocks (read-only test): done                                                 
            Pass completed, 0 bad blocks found. (0/0/0 errors)
            ```
            
        2. 검색된 배드 블록을 파일로 출력(-o 옵션)
            
            ```bash
            user1@myubuntu:~$ sudo badblocks -v -o bad.out /dev/sdb1
            Checking blocks 0 to 511999
            Checking for bad blocks (read-only test): done                                                 
            Pass completed, 0 bad blocks found. (0/0/0 errors)
            user1@myubuntu:~$ cat bad.out
            ```
            
    
    ---
    
    - 백업 슈퍼 블록을 이용한 파일 시스템 복구하기(dumpe2fs)
        
        <aside>
        💡 dumpe2fs 장치명
        
        **파일 시스템의 기본 슈퍼 블록에 문제가 있으면 해당 파일 시스템을 사용할 수 없음.
        → 백업 슈퍼 블록 중의 하나를 사용하여 파일 시스템을 복구**
        
        </aside>
        
        ![dumpe2fs.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/dumpe2fs.png)
        
        1. 백업 슈퍼 블록의 위치 파악하기 (dumpe2fs /dev/sdb1)
            
            ```bash
            user1@myubuntu:~$ sudo dumpe2fs /dev/sdb1 | grep superblock
            dumpe2fs 1.46.5 (30-Dec-2021)
            Primary superblock at 0, Group descriptors at 1-1
            Backup superblock at 32768, Group descriptors at 32769-32769
            Backup superblock at 98304, Group descriptors at 98305-98305
            ```
            
            ```bash
            user1@myubuntu:~$ sudo dumpe2fs /dev/sdb1 | grep superblock
            dumpe2fs 1.46.5 (30-Dec-2021)
              Primary superblock at 0, Group descriptors at 1-1
              Backup superblock at 32768, Group descriptors at 32769-32769
              Backup superblock at 98304, Group descriptors at 98305-98305
            
            user1@myubuntu:~$ sudo dumpe2fs /dev/sdb1
            dumpe2fs 1.46.5 (30-Dec-2021)
            Filesystem volume name:   <none>
            Last mounted on:          <not available>
            Filesystem UUID:          4166c5fc-edc4-4d2a-abf6-b0ab42538084
            Filesystem magic number:  0xEF53
            Filesystem revision #:    1 (dynamic)
            Filesystem features:      ext_attr resize_inode dir_index filetype sparse_super large_file
            Filesystem flags:         signed_directory_hash 
            Default mount options:    user_xattr acl
            Filesystem state:         not clean
            Errors behavior:          Continue
            Filesystem OS type:       Linux
            Inode count:              128000
            Block count:              128000
            Reserved block count:     6400
            Overhead clusters:        8107
            Free blocks:              119887
            Free inodes:              127989
            First block:              0
            Block size:               4096
            Fragment size:            4096
            Reserved GDT blocks:      31
            Blocks per group:         32768
            Fragments per group:      32768
            Inodes per group:         32000
            Inode blocks per group:   2000
            Filesystem created:       Tue Nov 14 09:54:43 2023
            Last mount time:          n/a
            Last write time:          Mon Nov 20 17:41:37 2023
            Mount count:              0
            Maximum mount count:      -1
            Last checked:             Mon Nov 20 17:41:37 2023
            Check interval:           0 (<none>)
            Reserved blocks uid:      0 (user root)
            Reserved blocks gid:      0 (group root)
            First inode:              11
            Inode size:	          256
            Required extra isize:     32
            Desired extra isize:      32
            Default directory hash:   half_md4
            Directory Hash Seed:      907fec93-51bd-47b9-9c2b-38bbd20702f4
            
            # 그룹 0
            Group 0: (Blocks 0-32767)
              Primary superblock at 0, Group descriptors at 1-1
              Reserved GDT blocks at 2-32
              Block bitmap at 33 (+33)
              Inode bitmap at 34 (+34)
              Inode table at 35-2034 (+35)
              30727 free blocks, 31989 free inodes, 2 directories
              Free blocks: 2041-2047, 2049-32767
              Free inodes: 13-32000
            # 그룹 a
            Group 1: (Blocks 32768-65535)
              **Backup superblock at 32768, Group descriptors at 32769-32769**
              Reserved GDT blocks at 32770-32800
              Block bitmap at 32801 (+33)
              Inode bitmap at 32802 (+34)
              Inode table at 32803-34802 (+35)
              30733 free blocks, 32000 free inodes, 0 directories
              Free blocks: 34803-65535
              Free inodes: 32001-64000
            # 그룹 b (데이터 블록)
            Group 2: (Blocks 65536-98303)
              Block bitmap at 65536 (+0)
              Inode bitmap at 65537 (+1)
              Inode table at 65538-67537 (+2)
              30766 free blocks, 32000 free inodes, 0 directories
              Free blocks: 67538-98303
              Free inodes: 64001-96000
            # 그룹 a
            Group 3: (Blocks 98304-127999)
              **Backup superblock at 98304, Group descriptors at 98305-98305**
              Reserved GDT blocks at 98306-98336
              Block bitmap at 98337 (+33)
              Inode bitmap at 98338 (+34)
              Inode table at 98339-100338 (+35)
              27661 free blocks, 32000 free inodes, 0 directories
              Free blocks: 100339-127999
              Free inodes: 96001-128000
            ```
            
        2. 파일 시스템 복구하기 (fsck -b)
            
            ```bash
            # -y : fsck가 문제를 자동으로 해결하도록 하는 옵션.
            user1@myubuntu:~$ sudo fsck -b 32768 (-y) /dev/sdb1
            fsck from util-linux 2.37.2
            e2fsck 1.46.5 (30-Dec-2021)
            /dev/sdb1 was not cleanly unmounted, check forced.
            Pass 1: Checking inodes, blocks, and sizes
            Pass 2: Checking directory structure
            Pass 3: Checking directory connectivity
            Pass 4: Checking reference counts
            Pass 5: Checking group summary information
            Free blocks count wrong for group #0 (26626, counted=26625).
            Fix<y>? yes
            Free blocks count wrong (115786, counted=115785).
            Fix<y>? yes
            Free inodes count wrong for group #0 (31989, counted=31988).
            Fix<y>? yes
            Free inodes count wrong (127989, counted=127988).
            Fix<y>? yes
            
            /dev/sdb1: ***** FILE SYSTEM WAS MODIFIED *****
            /dev/sdb1: 12/128000 files (0.0% non-contiguous), 12215/128000 blocks
            ```
            

---

## ch. 8 소프트웨어 관리

- 우분투 패키지
    - 우분투 패키지 구성
        1. 리눅스 주요 사용 SW 패키지
            - deb : 데비안, 우분투 계열 사용 패키지(apt)
            - RPM(Redhat Package Manager) : 레드햇 계열 리눅스(yum)
            
            ---
            
        2. 우분투 deb 패키지 특징
            - **바이너리 파일로 구성 → 컴파일 X**
            - 패키지의 파일들이 관련 디렉터리에 바로 설치됨
            - 패키지를 삭제할 때 관련된 파일을 일괄적으로 삭제 가능
            - 기존에 설치한 패키지를 삭제하지 않고 바로 업그레이드 가능
            - 패키지의 설치 상태를 검증할 수 있으며, 패키지에 대한 정보를 제공함
            - **해당 패키지와 의존성을 가지고 있는 패키지가 무엇인지 알려줌**
            
            ---
            
        3. 우분투 S/W 패키지의 카테고리
            - 공식적으로 데비안 배포판에 포함된 **모든 패키지**는 데비안 자유 소프트웨어 지침에 따라 **자유롭게 사용하고 배포할 수 있음**
            - 우분투는 **네 개의 카테고리로 나누어 소프트웨어를 제공**하고 있음
            
            | main | 우분투에 의해 공식적으로 지원되며 자유롭게 배포 가능 |
            | --- | --- |
            | restricted | 우분투에 의해 지원. 
            But 완전한 자유 라이선스 소프트웨어 X |
            | universe | 리눅스에서 사용할 수 있는 거의 대부분의 소프트웨어. 
            자유 소프트웨어일 수도 아닐 수도 있음. 기술적 지원 보장 X |
            | multiverse | 자유 소프트웨어가 아닌 소프트웨어 포함.
            개인이 직접 라이선스 확인해야 함 |
            
            ---
            
    - 패키지 저장소
        1. **우분투 S/W 패키지의 이름 구성**
            
            ![우분투.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EC%259A%25B0%25EB%25B6%2584%25ED%2588%25AC.png)
            
            - ex) **gnome-shell_3.26.1-0ubuntu5_amd64.deb**
            
            | 파일명 | gnome-shell |
            | --- | --- |
            | 패키지 버전 | 3.26.1 |
            | 패키지 리비전 | Oubuntu5
            리비전은 소스의 버전이 업그레이드하지 않았지만, 
            패키지의 보안 문제나 의존성 변화, 스크립트의 변화 등이 있음 |
            | 아키텍처 | amd64
            사용하는 시스템 아키텍처로, 인텔은 i386, AMD는 amd64, all은 시스템 상관 없는 문서나 스크립트 |
            | 확장자 | .deb |
            
            ---
            
        2. 우분투 S/W 패키지 저장소
            - **사용자(SW 캐시)**는 **패키지 저장소에 접속하여 최신 패키지를 다운로드**해서 **패키지 목록(패키지 DB)에 설치** 가능함.
            - 패키지 저장소에서는 패키지 기능 추가, 보안 패치 등 지속적 업그레이드 집중 관리
            - /etc/apt/sources.list 파일에 패키지 저장소 정보가 저장되어 있음.
                
                ```bash
                user1@myubuntu:~$ cat /etc/apt/sources.list
                #deb cdrom:[Ubuntu 22.04.3 LTS _Jammy Jellyfish_ - Release amd64 (20230807.2)]/ jammy main restricted
                
                # See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to
                # newer versions of the distribution.
                **deb http://kr.archive.ubuntu.com/ubuntu/ jammy main restricted**
                # deb-src http://kr.archive.ubuntu.com/ubuntu/ jammy **main restricted**
                
                패키지 유형 : deb = 바이너리 패키지 저장소, deb-src = 패키지 소스 저장소
                패키지 저장소 주소 : (http://kr.archive.ubuntu.com/ubuntu/)
                우분투 버전 : Jammy Jellyfish -> 22.04.3 LTS(코드명 -> 버전 번호)
                카테고리 : **main restricted** (저장소가 가지고 있는 소프트웨어 카테고리)
                ```
                

---

- 설치
    - **APT(Advanced Package Tool) 명령**
        - apt-cache
            
            <aside>
            💡 apt-cache [옵션] 서브 명령
            
            **APT 캐시(패키지 목록)에서 정보 검색하여 출력**
            
            </aside>
            
            ![apt.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/apt.png)
            
            1. APT 캐시(패키지 데이터베이스, 목록)의 통계 정보 보기 (stats)
                
                ```bash
                user1@myubuntu:~$ **apt-cache stats**
                전체 패키지 이름 : 123341 (3,454 k)
                전체 패키지 구조: 118583 (5,218 k)
                  일반 패키지: 78453
                  순수 가상 패키지: 2752
                  단일 가상 패키지: 22958
                  혼합 가상 패키지: 2701
                  빠짐: 11719
                개별 버전 전체: 91960 (8,092 k)
                개별 설명 전체: 178576 (4,286 k)
                전체 의존성: 587604/157335 (14.3 M)
                전체 버전/파일 관계: 18113 (435 k)
                전체 설명/파일 관계: 47504 (1,140 k)
                전체 제공 매핑: 47814 (1,148 k)
                전체 패턴 문자열: 232119 (5,632 k)
                전체 빈 용량: 90.2 k
                차지하는 전체 용량: 45.3 M
                Total buckets in PkgHashTable: 196613
                  Unused: 111929
                  Used: 84684
                  Utilization: 43.0714%
                  Average entries: 1.4003
                  Longest: 17
                  Shortest: 1
                Total buckets in GrpHashTable: 196613
                  Unused: 104981
                  Used: 91632
                  Utilization: 46.6053%
                  Average entries: 1.34605
                  Longest: 7
                  Shortest: 1
                
                전체 패키지 이름 : 패키지 이름의 전체 개수
                일반 패키지 : 일반적으로 사용하는 패키지의 개수
                개별 버전 전체(total distinct version) : 캐시에 있는 패키지 버전의 개수를 의미
                ```
                
                ---
                
            2. 사용 가능한 전체 패키지 이름 보기 (pkgnames)
                
                ```bash
                user1@myubuntu:~$ **apt-cache pkgnames**
                linux-modules-5.19.0-1025-gcp
                liblimesuite-doc
                ruby-bson
                php-symfony-filesystem
                libzulucrypt-exe1.2.0
                node-check-error
                golang-github-nu7hatch-gouuid-dev
                libosmosccp0
                linux-buildinfo-5.15.0-1032-nvidia
                linux-modules-nvidia-510-5.17.0-1033-oem
                telepathy-logger
                linux-objects-nvidia-510-server-5.15.0-1003-gcp
                ruby-parslet
                gcc-sh4-linux-gnu
                .
                .
                .
                ```
                
                ---
                
            3. 패키지 설치 전에 패키지 검색하기(이름과 간단한 설명 출력) (search)
                
                ```bash
                user1@myubuntu:~$ **apt-cache search vsftpd**
                vsftpd - lightweight, efficient FTP server written for security
                vsftpd-dbg - lightweight, efficient FTP server written for security (debug)
                ccze - robust, modular log coloriser
                ftpd - File Transfer Protocol (FTP) server
                resource-agents-extra - Cluster Resource Agents
                yasat - simple stupid audit tool
                ```
                
                ---
                
            4. 패키지 의존성 검색하기 (showpkg)
                
                ```bash
                user1@myubuntu:~$ **apt-cache showpkg vsftpd**
                Package: vsftpd
                Versions: 
                3.0.5-0ubuntu1 (/var/lib/apt/lists/kr.archive.ubuntu.com_ubuntu_dists_jammy_main_binary-amd64_Packages)
                 Description Language: 
                                 File: /var/lib/apt/lists/kr.archive.ubuntu.com_ubuntu_dists_jammy_main_binary-amd64_Packages
                                  MD5: 81386f72ac91a5ea48f8db0b023f3f9b
                 Description Language: en
                                 File: /var/lib/apt/lists/kr.archive.ubuntu.com_ubuntu_dists_jammy_main_i18n_Translation-en
                                  MD5: 81386f72ac91a5ea48f8db0b023f3f9b
                
                Reverse Depends: 
                  vsftpd-dbg,vsftpd 3.0.5-0ubuntu1
                  ubumirror,vsftpd
                Dependencies: 
                3.0.5-0ubuntu1 - debconf (18 0.5) debconf-2.0 (0 (null)) libc6 (2 2.34) libcap2 (2 1:2.10) libpam0g (2 0.99.7.1) libssl3 (2 3.0.0~~alpha1) libwrap0 (2 7.6-4~) adduser (0 (null)) libpam-modules (0 (null)) lsb-base (2 3.0-6) netbase (0 (null)) procps (0 (null)) sysvinit-utils (2 2.96) ftp-server (0 (null)) logrotate (0 (null)) ssl-cert (0 (null)) ftp-server (0 (null)) ftp-server:i386 (0 (null)) ftp-server:i386 (0 (null)) 
                Provides: 
                3.0.5-0ubuntu1 - ftp-server (= ) 
                Reverse Provides:
                ```
                
                ---
                
        - apt-get
            
            <aside>
            💡 apt-get [옵션] 서브 명령
            
            **패키지 갱신 관리 및 설치 (root 권한으로 수행)**
            
            </aside>
            
            ![apt-get.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/apt-get.png)
            
            1. 패키지 저장소에서 패키지 정보를 읽어 자신의 APT 캐시(패키지 목록)를 update함 (update)
                
                ```bash
                user1@myubuntu:~$ **sudo apt-get update**
                받기:1 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]     
                기존:2 http://kr.archive.ubuntu.com/ubuntu jammy InRelease                     
                받기:3 http://kr.archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]
                받기:4 http://security.ubuntu.com/ubuntu jammy-security/main i386 Packages [364 kB]
                기존:5 http://kr.archive.ubuntu.com/ubuntu jammy-backports InRelease    
                받기:6 http://kr.archive.ubuntu.com/ubuntu jammy-updates/main i386 Packages [534 kB]
                받기:7 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [954 kB]
                받기:8 http://kr.archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [1,194 kB]
                받기:9 http://security.ubuntu.com/ubuntu jammy-security/main Translation-en [188 kB]
                받기:10 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [1,093 kB]
                받기:11 http://kr.archive.ubuntu.com/ubuntu jammy-updates/main Translation-en [251 kB]
                받기:12 http://kr.archive.ubuntu.com/ubuntu jammy-updates/restricted i386 Packages [32.8 kB]
                받기:13 http://kr.archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [1,159 kB]
                받기:14 http://kr.archive.ubuntu.com/ubuntu jammy-updates/restricted Translation-en [188 kB]
                받기:15 http://kr.archive.ubuntu.com/ubuntu jammy-updates/universe i386 Packages [664 kB]
                받기:16 http://kr.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [998 kB]
                받기:17 http://security.ubuntu.com/ubuntu jammy-security/restricted Translation-en [178 kB]
                받기:18 http://security.ubuntu.com/ubuntu jammy-security/universe i386 Packages [565 kB]
                받기:19 http://kr.archive.ubuntu.com/ubuntu jammy-updates/universe Translation-en [219 kB]
                받기:20 http://kr.archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [41.6 kB]
                받기:21 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [795 kB]
                받기:22 http://security.ubuntu.com/ubuntu jammy-security/universe Translation-en [147 kB]
                받기:23 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [36.5 kB]
                내려받기 9,832 k바이트, 소요시간 7초 (1,451 k바이트/초)                        
                패키지 목록을 읽는 중입니다... 완료
                ```
                
            2. 현재 설치되어 있는 모든 패키지 중에서 새로운 버전이 있는 패키지를 모두 업그레이드함 (upgrade)
                
                ```bash
                user1@myubuntu:$ sudo apt-get upgrade
                ```
                
            3. 특정 패키지 설치 또는 업그레이드 하기 (install)
                
                ```bash
                # sudo apt-get install -f [절대 경로]
                user1@myubuntu:~$ **sudo apt-get install netcat**
                패키지 목록을 읽는 중입니다... 완료
                의존성 트리를 만드는 중입니다... 완료
                상태 정보를 읽는 중입니다... 완료        
                다음 새 패키지를 설치할 것입니다:
                  netcat
                0개 업그레이드, 1개 새로 설치, 0개 제거 및 53개 업그레이드 안 함.
                2,044 바이트 아카이브를 받아야 합니다.
                이 작업 후 17.4 k바이트의 디스크 공간을 더 사용하게 됩니다.
                받기:1 http://kr.archive.ubuntu.com/ubuntu jammy/universe amd64 netcat all 1.218-4ubuntu1 [2,044 B]
                내려받기 2,044 바이트, 소요시간 0초 (4,239 바이트/초)
                Selecting previously unselected package netcat.
                (데이터베이스 읽는중 ...현재 203190개의 파일과 디렉터리가 설치되어 있습니다.)
                Preparing to unpack .../netcat_1.218-4ubuntu1_all.deb ...
                Unpacking netcat (1.218-4ubuntu1) ...
                netcat (1.218-4ubuntu1) 설정하는 중입니다 ...
                
                user1@myubuntu:~$ **sudo apt-get install netcat goaccess**
                패키지 목록을 읽는 중입니다... 완료
                의존성 트리를 만드는 중입니다... 완료
                상태 정보를 읽는 중입니다... 완료        
                패키지 netcat는 이미 최신 버전입니다 (1.218-4ubuntu1).
                다음 새 패키지를 설치할 것입니다:
                  goaccess
                0개 업그레이드, 1개 새로 설치, 0개 제거 및 53개 업그레이드 안 함.
                340 k바이트 아카이브를 받아야 합니다.
                이 작업 후 1,139 k바이트의 디스크 공간을 더 사용하게 됩니다.
                계속 하시겠습니까? [Y/n] y
                받기:1 http://kr.archive.ubuntu.com/ubuntu jammy/universe amd64 goaccess amd64 1:1.5.5-1 [340 kB]
                내려받기 340 k바이트, 소요시간 4초 (88.3 k바이트/초)
                Selecting previously unselected package goaccess.
                (데이터베이스 읽는중 ...현재 203193개의 파일과 디렉터리가 설치되어 있습니다.)
                Preparing to unpack .../goaccess_1%3a1.5.5-1_amd64.deb ...
                Unpacking goaccess (1:1.5.5-1) ...
                goaccess (1:1.5.5-1) 설정하는 중입니다 ...
                Processing triggers for man-db (2.10.2-1) ...
                ```
                
            4. 패키지 삭제하기(remove)
                
                ```bash
                # 패키지는 지우나 목록은 남아있음
                user1@myubuntu:~$ **sudo apt-get remove netcat**
                패키지 목록을 읽는 중입니다... 완료
                의존성 트리를 만드는 중입니다... 완료
                상태 정보를 읽는 중입니다... 완료        
                다음 패키지를 지울 것입니다:
                  netcat
                0개 업그레이드, 0개 새로 설치, 1개 제거 및 53개 업그레이드 안 함.
                이 작업 후 17.4 k바이트의 디스크 공간이 비워집니다.
                계속 하시겠습니까? [Y/n] y
                (데이터베이스 읽는중 ...현재 203217개의 파일과 디렉터리가 설치되어 있습니다.)
                netcat (1.218-4ubuntu1)를 제거합니다...
                ```
                
            5. 자동으로 설치되었으나 필요 없는 패키지 정리하기 (autoremove)
                
                ```bash
                user1@myubuntu:~$ **sudo apt-get autoremove**
                패키지 목록을 읽는 중입니다... 완료
                의존성 트리를 만드는 중입니다... 완료
                상태 정보를 읽는 중입니다... 완료        
                0개 업그레이드, 0개 새로 설치, 0개 제거 및 53개 업그레이드 안 함.
                ```
                
            6. 패키지를 설치하지 않고 내려 받기만 하기 (download)
                
                ```bash
                user1@myubuntu:~$ **sudo apt-get download netcat**
                받기:1 http://kr.archive.ubuntu.com/ubuntu jammy/universe amd64 netcat all 1.218-4ubuntu1 [2,044 B]
                내려받기 2,044 바이트, 소요시간 1초 (2,446 바이트/초)                  
                W: Download is performed unsandboxed as root as file '/home/user1/netcat_1.218-4ubuntu1_all.deb' couldn't be accessed by user '_apt'. - pkgAcquire::Run (13: 허가 거부)
                ```
                
        
        | 기존 명령 | 줄임 명령 (apt) | 설명 |
        | --- | --- | --- |
        | apt-cache search | apt search | APT 캐시에서 패키지 검색 |
        | apt-cache show | apt show | 특정 패키지에 대한 자세한 정보 출력 |
        | apt-get install | apt install | 특정 패키지 설치 |
        | apt-get remove | apt remove | 특정 패키지 삭제 |
        | apt-get update | apt update | APT 캐시의 패키지 목록 갱신 |
        | apt-get upgrade | apt upgrade | 설치된 패키지들의 업그레이드 |
        | apt-get autoremove | apt autoremove | 불필요한 패키지 삭제 |
    - ~~dpkg 명령~~
    - ~~aptitude 명령~~
    - ~~스냅 패키지 설치~~
    - ~~그놈 소프트웨어 센터~~

---

- 소스 코드 설치
    - 아카이브 생성(tar)
        
        <aside>
        💡 **tar 기능[옵션] [아카이브 파일] 파일명**
        
        </aside>
        
        ![tar.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/tar.png)
        
        1. 파일을 묶어서 아카이브 파일 생성**(tar cvf 아카이브파일 디렉터리)**
            
            ```bash
            user1@myubuntu:~/linux_ex$ **tar cvf ch2.tar ch2**
            ch2/
            ch2/data1.hl2
            ch2/datb
            ch2/twe/
            ch2/test.sl
            ch2/data1.sl
            ch2/test.org
            ch2/data1.hl
            ch2/test.hl
            ch2/tmp
            ch2/test.hl2
            ch2/data
            ch2/three/
            ch2/data1
            ch2/temp/
            ch2/temp/text2
            ch2/temp/temp3/
            ch2/temp/temp3/text2
            ch2/temp/temp3/temp3/
            ch2/temp/temp3/temp3/services
            ch2/temp/temp3/temp3/text1
            ch2/temp/temp3/temp3/hosts
            ch2/temp/temp3/temp3/temp/
            ch2/temp/temp3/temp3/temp/services
            ch2/temp/temp3/temp3/temp/text1
            ch2/temp/temp3/temp3/temp/hosts
            ch2/temp/temp3/services
            ch2/temp/temp3/text1
            ch2/temp/temp3/hosts
            ch2/temp/temp3/data1
            ch2/temp/temp3/temp
            ch2/temp/temp3/data2
            ch2/temp/services
            ch2/temp/text1
            ch2/temp/hosts
            ch2/temp/temp
            ```
            
        2. 아카이브 파일 내용 확인하기(**tar tvf 아카이브파일**)
            
            ```bash
            user1@myubuntu:~/linux_ex$ **tar tvf ch2.tar**
            drwxrwxr-x user1/user1       0 2023-10-18 21:20 ch2/
            -rw-rw-r-- user1/user1       0 2023-09-19 09:28 ch2/data1.hl2
            -rw-r--r-- user1/user1   12813 2023-09-19 10:19 ch2/datb
            drwxrwxr-x user1/user1       0 2023-09-12 10:47 ch2/twe/
            lrwxrwxrwx user1/user1       0 2023-09-19 09:46 ch2/test.sl -> test.org
            lrwxrwxrwx user1/user1       0 2023-10-18 21:20 ch2/data1.sl -> data1
            -rw-rw-r-- user1/user1     223 2023-09-19 09:43 ch2/test.org
            -rw-r--r-- user1/user1     223 2023-10-18 19:44 ch2/data1.hl
            hrw-rw-r-- user1/user1       0 2023-09-19 09:43 ch2/test.hl ch2/test.org(으)로 링크
            lrwxrwxrwx user1/user1       0 2023-09-19 10:06 ch2/tmp -> temp
            hrw-rw-r-- user1/user1       0 2023-09-19 09:43 ch2/test.hl2 ch2/test.org(으)로 링크
            -rw-r--r-- user1/user1   12813 2023-10-18 20:01 ch2/data
            drwxrwxr-x user1/user1       0 2023-09-12 10:47 ch2/three/
            hrw-r--r-- user1/user1       0 2023-10-18 19:44 ch2/data1 ch2/data1.hl(으)로 링크
            drwxrwxr-x user1/user1       0 2023-10-18 19:49 ch2/temp/
            -rw-r--r-- user1/user1     223 2023-10-18 19:14 ch2/temp/text2
            drwxrwxr-x user1/user1       0 2023-10-18 19:25 ch2/temp/temp3/
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/text2
            drwxrwxr-x user1/user1       0 2023-10-18 19:25 ch2/temp/temp3/temp3/
            -rw-r--r-- user1/user1   12813 2023-10-18 19:25 ch2/temp/temp3/temp3/services
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/temp3/text1
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/temp3/hosts
            drwxrwxr-x user1/user1       0 2023-10-18 19:25 ch2/temp/temp3/temp3/temp/
            -rw-r--r-- user1/user1   12813 2023-10-18 19:25 ch2/temp/temp3/temp3/temp/services
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/temp3/temp/text1
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/temp3/temp/hosts
            -rw-r--r-- user1/user1   12813 2023-10-18 19:25 ch2/temp/temp3/services
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/text1
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/hosts
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/data1
            lrwxrwxrwx user1/user1       0 2023-10-18 19:25 ch2/temp/temp3/temp -> temp
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/data2
            -rw-r--r-- user1/user1   12813 2023-10-18 19:18 ch2/temp/services
            -rw-r--r-- user1/user1     223 2023-10-18 16:38 ch2/temp/text1
            -rw-r--r-- user1/user1     223 2023-10-18 19:18 ch2/temp/hosts
            lrwxrwxrwx user1/user1       0 2023-09-19 09:46 ch2/temp/temp -> temp
            ```
            
        3. 아카이프 파일 풀기**(tar** **xvf 아카이브파일)**
            
            ```bash
            ser1@myubuntu:~/linux_ex$ mv ch2.tar ch9
            user1@myubuntu:~/linux_ex$ cd ch9
            
            user1@myubuntu:~/linux_ex/ch9$ **tar xvf ch2.tar**
            ch2/
            ch2/data1.hl2
            ch2/datb
            ch2/twe/
            ch2/test.sl
            ch2/data1.sl
            ch2/test.org
            ch2/data1.hl
            ch2/test.hl
            ch2/tmp
            ch2/test.hl2
            ch2/data
            ch2/three/
            ch2/data1
            ch2/temp/
            ch2/temp/text2
            ch2/temp/temp3/
            ch2/temp/temp3/text2
            ch2/temp/temp3/temp3/
            ch2/temp/temp3/temp3/services
            ch2/temp/temp3/temp3/text1
            ch2/temp/temp3/temp3/hosts
            ch2/temp/temp3/temp3/temp/
            ch2/temp/temp3/temp3/temp/services
            ch2/temp/temp3/temp3/temp/text1
            ch2/temp/temp3/temp3/temp/hosts
            ch2/temp/temp3/services
            ch2/temp/temp3/text1
            ch2/temp/temp3/hosts
            ch2/temp/temp3/data1
            ch2/temp/temp3/temp
            ch2/temp/temp3/data2
            ch2/temp/services
            ch2/temp/text1
            ch2/temp/hosts
            ch2/temp/temp
            
            user1@myubuntu:~/linux_ex/ch9$ ls -l
            합계 116
            drwxrwxr-x 5 user1 user1   4096 10월 18 21:20 ch2
            -rw-rw-r-- 1 user1 user1 112640 11월 27 16:17 ch2.tar
            ```
            
        4. 아카이브 파일 추가**(tar rvf 아카이브파일 추가파일)**
            
            ```bash
            user1@myubuntu:~/linux_ex/ch9$ cp /etc/hosts .
            user1@myubuntu:~/linux_ex/ch9$ ls -l
            합계 120
            drwxrwxr-x 5 user1 user1   4096 10월 18 21:20 ch2
            -rw-rw-r-- 1 user1 user1 112640 11월 27 16:17 ch2.tar
            -rw-r--r-- 1 user1 user1    223 11월 27 16:26 hosts
            user1@myubuntu:~/linux_ex/ch9$ tar rvf ch2.tar hosts
            hosts
            ```
            
        5. 아카이브 파일 업데이트**(tar uvf 아카이브파일 디렉터리)**
            
            ```bash
            user1@myubuntu:~/linux_ex/ch9$ vi ch2/data
            # 업데이트 시 같은 파일은 덮어쓰기가 됨.
            user1@myubuntu:~/linux_ex/ch9$ tar uvf ch2.tar ch2
            user1@myubuntu:~/linux_ex/ch9$ tar tvf ch2.tar ch2
            drwxrwxr-x user1/user1       0 2023-10-18 21:20 ch2/
            -rw-rw-r-- user1/user1       0 2023-09-19 09:28 ch2/data1.hl2
            -rw-r--r-- user1/user1   12813 2023-09-19 10:19 ch2/datb
            drwxrwxr-x user1/user1       0 2023-09-12 10:47 ch2/twe/
            lrwxrwxrwx user1/user1       0 2023-09-19 09:46 ch2/test.sl -> test.org
            lrwxrwxrwx user1/user1       0 2023-10-18 21:20 ch2/data1.sl -> data1
            -rw-rw-r-- user1/user1     223 2023-09-19 09:43 ch2/test.org
            -rw-r--r-- user1/user1     223 2023-10-18 19:44 ch2/data1.hl
            hrw-rw-r-- user1/user1       0 2023-09-19 09:43 ch2/test.hl ch2/test.org(으)로 링크
            lrwxrwxrwx user1/user1       0 2023-09-19 10:06 ch2/tmp -> temp
            hrw-rw-r-- user1/user1       0 2023-09-19 09:43 ch2/test.hl2 ch2/test.org(으)로 링크
            -rw-r--r-- user1/user1   12813 2023-10-18 20:01 ch2/data
            drwxrwxr-x user1/user1       0 2023-09-12 10:47 ch2/three/
            hrw-r--r-- user1/user1       0 2023-10-18 19:44 ch2/data1 ch2/data1.hl(으)로 링크
            drwxrwxr-x user1/user1       0 2023-10-18 19:49 ch2/temp/
            -rw-r--r-- user1/user1     223 2023-10-18 19:14 ch2/temp/text2
            drwxrwxr-x user1/user1       0 2023-10-18 19:25 ch2/temp/temp3/
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/text2
            drwxrwxr-x user1/user1       0 2023-10-18 19:25 ch2/temp/temp3/temp3/
            -rw-r--r-- user1/user1   12813 2023-10-18 19:25 ch2/temp/temp3/temp3/services
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/temp3/text1
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/temp3/hosts
            drwxrwxr-x user1/user1       0 2023-10-18 19:25 ch2/temp/temp3/temp3/temp/
            -rw-r--r-- user1/user1   12813 2023-10-18 19:25 ch2/temp/temp3/temp3/temp/services
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/temp3/temp/text1
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/temp3/temp/hosts
            -rw-r--r-- user1/user1   12813 2023-10-18 19:25 ch2/temp/temp3/services
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/text1
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/hosts
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/data1
            lrwxrwxrwx user1/user1       0 2023-10-18 19:25 ch2/temp/temp3/temp -> temp
            -rw-r--r-- user1/user1     223 2023-10-18 19:25 ch2/temp/temp3/data2
            -rw-r--r-- user1/user1   12813 2023-10-18 19:18 ch2/temp/services
            -rw-r--r-- user1/user1     223 2023-10-18 16:38 ch2/temp/text1
            -rw-r--r-- user1/user1     223 2023-10-18 19:18 ch2/temp/hosts
            lrwxrwxrwx user1/user1       0 2023-09-19 09:46 ch2/temp/temp -> temp
            ```
            
        6. 아카이브 생성 및 gzip 압축**(tar cvzf 아카이브파일 디렉터리)**
            
            ```bash
            user1@myubuntu:~/linux_ex/ch9$ **tar cvzf ch2.tar.gz ch2**
            ch2/
            ch2/data1.hl2
            ch2/datb
            ch2/twe/
            ch2/test.sl
            ch2/data1.sl
            ch2/test.org
            ch2/data1.hl
            ch2/test.hl
            ch2/tmp
            ch2/test.hl2
            ch2/data
            ch2/three/
            ch2/data1
            ch2/temp/
            ch2/temp/text2
            ch2/temp/temp3/
            ch2/temp/temp3/text2
            ch2/temp/temp3/temp3/
            ch2/temp/temp3/temp3/services
            ch2/temp/temp3/temp3/text1
            ch2/temp/temp3/temp3/hosts
            ch2/temp/temp3/temp3/temp/
            ch2/temp/temp3/temp3/temp/services
            ch2/temp/temp3/temp3/temp/text1
            ch2/temp/temp3/temp3/temp/hosts
            ch2/temp/temp3/services
            ch2/temp/temp3/text1
            ch2/temp/temp3/hosts
            ch2/temp/temp3/data1
            ch2/temp/temp3/temp
            ch2/temp/temp3/data2
            ch2/temp/services
            ch2/temp/text1
            ch2/temp/hosts
            ch2/temp/temp
            
            user1@myubuntu:~/linux_ex/ch9$ ls -l
            합계 128
            drwxrwxr-x 5 user1 user1   4096 10월 18 21:20 ch2
            -rw-rw-r-- 1 user1 user1 112640 11월 27 16:27 ch2.tar
            -rw-rw-r-- 1 user1 user1   7001 11월 27 16:29 ch2.tar.gz
            -rw-r--r-- 1 user1 user1    223 11월 27 16:26 hosts
            
            아카이브 압축 해제는 tar xvf로 동일
            ```
            
        7. 아카이브 생성 및 bzip 압축**(tar cvjf 아카이브파일 디렉터리)**
            
            ```bash
            user1@myubuntu:~/linux_ex/ch9$ **tar cvjf ch2.tar.bz2 ch2**
            ch2/
            ch2/data1.hl2
            ch2/datb
            ch2/twe/
            ch2/test.sl
            ch2/data1.sl
            ch2/test.org
            ch2/data1.hl
            ch2/test.hl
            ch2/tmp
            ch2/test.hl2
            ch2/data
            ch2/three/
            ch2/data1
            ch2/temp/
            ch2/temp/text2
            ch2/temp/temp3/
            ch2/temp/temp3/text2
            ch2/temp/temp3/temp3/
            ch2/temp/temp3/temp3/services
            ch2/temp/temp3/temp3/text1
            ch2/temp/temp3/temp3/hosts
            ch2/temp/temp3/temp3/temp/
            ch2/temp/temp3/temp3/temp/services
            ch2/temp/temp3/temp3/temp/text1
            ch2/temp/temp3/temp3/temp/hosts
            ch2/temp/temp3/services
            ch2/temp/temp3/text1
            ch2/temp/temp3/hosts
            ch2/temp/temp3/data1
            ch2/temp/temp3/temp
            ch2/temp/temp3/data2
            ch2/temp/services
            ch2/temp/text1
            ch2/temp/hosts
            ch2/temp/temp
            
            user1@myubuntu:~/linux_ex/ch9$ ls -l
            합계 140
            drwxrwxr-x 5 user1 user1   4096 10월 18 21:20 ch2
            -rw-rw-r-- 1 user1 user1 112640 11월 27 16:27 ch2.tar
            -rw-rw-r-- 1 user1 user1   9345 11월 27 16:30 ch2.tar.bz2
            -rw-rw-r-- 1 user1 user1   7001 11월 27 16:29 ch2.tar.gz
            -rw-r--r-- 1 user1 user1    223 11월 27 16:26 host
            
            아카이브 압축 해제는 tar xvf로 동일
            ```
            
    - 파일 압축
        - 설치 필요
        sudo apt-get install bzip2
        - gzip, bzip2 형식으로 파일 압축하기
            
            ```bash
            # gzip 형식 (.gz 파일 생성) / 디렉터리는 불가 / 생성 시 기존 ch2.tar는 사라짐
            user1@myubuntu:~/linux_ex/ch9$ gzip ch2.tar
            user1@myubuntu:~/linux_ex/ch9$ ls -l
            합계 28
            drwxrwxr-x 5 user1 user1 4096 11월 27 16:31 ch2
            -rw-rw-r-- 1 user1 user1 7030 11월 27 16:31 **ch2.tar.gz**
            -rw-r--r-- 1 user1 user1  223 11월 27 16:26 hosts
            
            # bzip2 형식 (.bz2 파일 생성)
            user1@myubuntu:~/linux_ex/ch9$ bzip2 ch2.tar
            user1@myubuntu:~/linux_ex/ch9$ ls -l
            합계 20
            drwxrwxr-x 5 user1 user1 4096 11월 27 16:31 ch2
            -rw-rw-r-- 1 user1 user1 9421 11월 27 16:31 **ch2.tar.bz2**
            -rw-r--r-- 1 user1 user1  223 11월 27 16:26 hosts
            ```
            
        - gzipm bzip2 형식으로 압축된 파일 내용 보기
            
            ```bash
            # gzip 형식
            user1@myubuntu:~/linux_ex/ch9$ zcat ch2.tar.gz
            # bzip2 형식
            user1@myubuntu:~/linux_ex/ch9$ bzcat ch2.tar.bz2
            ```
            
        - gzip, bunzip2 형식으로 파일 압축풀기
            
            ```bash
            user1@myubuntu:~/linux_ex/ch9$ gunzip ch2.tar.gz
            user1@myubuntu:~/linux_ex/ch9$ ls -l
            합계 132
            drwxrwxr-x 5 user1 user1   4096 11월 27 16:31 ch2
            -rw-rw-r-- 1 user1 user1 112640 11월 27 16:31 ch2.tar
            -rw-r--r-- 1 user1 user1    223 11월 27 16:26 hosts
            
            # bunzip2 형식
            user1@myubuntu:~/linux_ex/ch9$ bunzip2 ch2.tar.bz2
            user1@myubuntu:~/linux_ex/ch9$ ls -l
            합계 120
            drwxrwxr-x 5 user1 user1   4096 11월 27 16:31 ch2
            -rw-rw-r-- 1 user1 user1 112640 11월 27 16:31 ch2.tar
            -rw-r--r-- 1 user1 user1    223 11월 27 16:26 hosts
            ```
            
    - gcc 컴파일
        - C 언어로 작성한 프로그램을 컴파일 하기 위한 컴파일러
        설치 : sudo apt-get install gcc
        1. C 프로그램 작성
            
            ```bash
            user1@myubuntu:~/linux_ex/ch9$ vi hello.c
            ```
            
        2. C 프로그램 컴파일
            
            ```bash
            # 이름을 지정하지 않으면 a.out으로 설정됨
            user1@myubuntu:~/linux_ex/ch9$ gcc hello.c
            or
            user1@myubuntu:~/linux_ex/ch9$ gcc -o hello hello.c
            # -o 옵션 : 실행파일명 변경
            ```
            
        3. C 프로그램 실행
            
            ```bash
            user1@myubuntu:~/linux_ex/ch9$ a.out 또는 /hello
            # PATH로 설정되지 않은 실행파일은 실행할 수 없음.
            # 전체 PATH를 적어줘야 실행 가능
            
            #/home/user1/linux_ex/ch9/a.out
            user1@myubuntu:~/linux_ex/ch9$ ./a.out
            or
            #/home/user1/linux_ex/ch9/hello
            user1@myubuntu:~/linux_ex/ch9$ ./hello
            Hello, World.
            ```
            
    - make 명령
        - make
            - makefile 없이 실행파일 생성
                1. vi 파일 one, two 생성
                    
                    ```bash
                    user1@myubuntu:~/linux_ex/ch9$ vi one.c
                    user1@myubuntu:~/linux_ex/ch9$ vi two.c
                    ```
                    
                    ```bash
                    #선언되지 않은 외부함수 two를 사용해서 오류가 나오는 상황
                    
                    user1@myubuntu:~/linux_ex/ch9$ gcc one.c
                    
                    /usr/bin/ld: /tmp/ccbEun8N.o: in function `main':
                    one.c:(.text+0x1d): undefined reference to `two'
                    collect2: error: ld returned 1 exit status
                    ```
                    
                2. gcc를 이용하여 one, two 컴파일
                    
                    ```bash
                    # -c 옵션은 Obj 파일 생성
                    user1@myubuntu:~/linux_ex/ch9$ gcc -c one.c
                    user1@myubuntu:~/linux_ex/ch9$ gcc -c two.c
                    ```
                    
                3. gcc를 이용하여 one, two를 하나로 합친 run 파일 생성, 컴파일
                    
                    ```bash
                    # -o 옵션은 링크 및 실행파일명 변경
                    user1@myubuntu:~/linux_ex/ch9$ gcc -o run one.o two.o
                    ```
                    
                4. 실행파일 run 실행
                    
                    ```bash
                    user1@myubuntu:~/linux_ex/ch9$ ./run
                    
                    Go to module Two.
                    Module Two.
                    End of module Two.
                    End of moduel One.
                    ```
                    
            - makefile 구조
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2025.png)
                
            - makefile 작성하기
                - makefile 작성
                    
                    ```bash
                    user1@myubuntu:~/linux_ex/ch9$ vi makefile
                    # run은 one.o와 two.o로부터 생성됨. 
                    # gcc -o run이라는 명령어를 실행하면 얻을 수 있음
                    run : one.o two.o
                    	gcc –o run one.o two.o
                    # 명령어 부분은 Tab 키(1번)를 눌러야 함.
                    one.o : one.c
                    	gcc –c one.c
                    two.o : two.c
                    	gcc –c two.c
                    ```
                    
                - makefile 실행
                    
                    ```bash
                    # rm으로 삭제하고 make나 -o 옵션을 사용하면 현재 존재하는
                    # OBJ 파일을 제외하고 생성이 됨.
                    user1@myubuntu:~/linux_ex/ch9$ make -o makefile
                    gcc -c one.c
                    gcc -c two.c
                    gcc -o run one.o two.o
                    
                    user1@myubuntu:~/linux_ex/ch9$ make
                    gcc -o run one.o two.o
                    ```
                    
                - 프로그램 run1 실행
                    
                    ```bash
                    user1@myubuntu:~/linux_ex/ch9$ ./run
                    
                    Go to module Two.
                    Module Two.
                    End of module Two.
                    End of moduel One.
                    ```
                    
            - makefile 작성하기(매크로)
                - makefile 작성
                    
                    ```bash
                    user1@myubuntu:~/linux_ex/ch9$ vi makefile
                    TARGET=run
                    OBJECTS=one.o two.o
                    
                    ${TARGET} : ${OBJECTS}
                                  gcc –o ${TARGET} ${OBJECTS}
                    
                    one.o : one.c
                                  gcc –c one.c
                    two.o : two.c
                                  gcc –c two.c
                    ```
                    
                - makefile 실행
                    
                    ```bash
                    user1@myubuntu:~/linux_ex/ch9$ make
                    
                    gcc -o run_target one.o two.o
                    ```
                    
                - 프로그램 run_target 실행
                    
                    ```bash
                    user1@myubuntu:~/linux_ex/ch9$ ./run_target
                    
                    Go to module Two.
                    Module Two.
                    End of module Two.
                    End of moduel One.
                    ```
                    

---

## ch. 9 사용자 관리

- 사용자/그룹
    - 사용자 계정 관련 파일
        1. 사용자 관리
            
            <aside>
            💡 리눅스는 다중 사용자 시스템 → 사용자를 구별하고 자원 할당하는 방법 필요
            
            사용자 계정은 시스템에 접근할 수 있는 유일한 방법
            
            </aside>
            
            - /etc/passwd
                
                <aside>
                💡 **/etc/passwd 파일**
                
                : **사용자 계정 정보**가 저장된 기본 파일
                
                ![etc_passwd.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/etc_passwd.png)
                
                ```bash
                user1@myubuntu:~$ sudo cat /etc/passwd | grep user1
                user1:x:1000:1000:user1,,,:/home/user1:/bin/bash
                ```
                
                1. **로그인 ID**
                : 사용자 계정 이름, 32자를 넘을 수 없으며 8자로 제한하는 것이 좋음
                2. **x** 
                : 초기 유닉스에서 사용자 암호 저장, 최근 **/etc/shadow** 에 별도로 암호 저장
                3. **UID**
                :  사용자 ID (시스템이 사용자를 구별하기 위해 사용하는 번호임)
                    
                    0~999번, 65534번은 시스템 사용자를 위한 UID로 예약되어 있음
                    
                    (예) 0: root, 1: daemon, 2: bin, 7: lp 등
                    
                    **사용자들은 일반적으로 UID 1000번부터 할당됨**
                    
                    **로그인 ID가 다르더라도 UID가 같으면 리눅스 시스템은 같은 사용자로 판단함**
                    
                4. **GID** 
                : 그룹 ID, 시스템에 등록된 그룹에 대한 정보는 **/etc/group** 파일에 저장됨
                5. **설명** 
                : 사용자 실명, 부서명, 연락처 등 사용자에 대한 일반적인 정보 기록
                6. **홈 디렉터리** 
                : 사용자 계정에 할당된 홈 디렉터리의 절대 경로 기록
                7. **로그인 셸** 
                : 사용자의 로그인 셸 지정, 우분투는 배시 셸을 기본 셸로 이용함
                </aside>
                
            - /etc/shadow
                
                <aside>
                💡 **/etc/shadow 파일**
                
                : **사용자 암호에 관한 정보**를 별도로 관리하는 파일
                
                ![etc_shadow.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/etc_shadow.png)
                
                ```bash
                user1@myubuntu:~$ sudo cat /etc/shadow | grep user1
                user1:$y$j9T$q2uf6O9EyzzTb6QxyD/Nl/$8CIMQdl2B5DVcOs0RBGVhiNmqGc7ihAxAVwdbMCw1Q3:19641:0:99999:7:::
                ```
                
                1. **로그인 ID**
                : 사용자 계정 이름
                2. **암호(패스워드)** 
                : 실제 비밀번호가 암호화되어 저장됨
                3. **최종 변경일** 
                : 암호의 마지막 변경된 날짜 저장, 1970.01.01일 기준으로 날수 기록 (**18834일(51년 219일) → 2021년 8월 00일**)
                4. **MIN** :  MIN은 암호 변경 후, 사용해야 하는 최소 기간 저장 (**0**)
                5. **MAX** : 암호를 사용할 수 있는 최대 기간 저장 (**99999**)
                6. **WARNING** : 암호가 만료되기 전에 경고를 시작하는 날수 저장 (**7**)
                7. **INACTIVE** : 암호 만료 이후에도 이 항목에 지정한 날수 동안은 로그인 가능
                8. **EXPIRE** : 사용자 계정이 만료되는 날 저장
                9. **Flag** : 향후 사용 목적으로 비워둔 항목
                </aside>
                
            - /etc/login.defs
                
                <aside>
                💡 **/etc/login.defs 파일**
                
                : **사용자 계정 설정 관련 기본 값**을 정의한 파일
                
                ![UMASK 022(오타) → 002](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/defs.png)
                
                UMASK 022(오타) → 002
                
                ```bash
                user1@myubuntu:~$ sudo cat /etc/login.defs | grep PASS
                #	PASS_MAX_DAYS	Maximum number of days a password may be used.
                #	PASS_MIN_DAYS	Minimum number of days allowed between password changes.
                #	PASS_WARN_AGE	Number of days warning given before a password expires.
                PASS_MAX_DAYS	99999
                PASS_MIN_DAYS	0
                PASS_WARN_AGE	7
                #PASS_CHANGE_TRIES
                #PASS_ALWAYS_WARN
                #PASS_MIN_LEN
                #PASS_MAX_LEN
                # NO_PASSWORD_CONSOLE
                ```
                
                </aside>
                
            - /etc/group
                
                <aside>
                💡 **/etc/group 파일**
                
                : **그룹에 대한 정보** 저장
                **/etc/passwd** 파일의 **GID 에 지정된 그룹이 기본 그룹(1차 그룹)이며**, **사용자가 속하는 2차 그룹은 /etc/group 파일에 지정**
                
                ![group.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/group.png)
                
                ```bash
                user1@myubuntu:~$ cat /etc/group | grep user1
                adm:x:4:syslog,user1
                cdrom:x:24:user1
                sudo:x:27:user1
                dip:x:30:user1
                plugdev:x:46:user1
                lpadmin:x:122:user1
                lxd:x:135:user1
                user1:x:1000: # 자동 생성
                sambashare:x:136:user1
                ```
                
                1. **그룹 이름** : 그룹 이름
                2. **x** : 그룹 암호 저장, 실제 **/etc/gshadow** 파일(리눅스에서 추가)에 그룹 암호 저장
                3. **GID** : 그룹을 식별하는 번호
                4. **그룹 멤버** : 그룹에 속한 멤버들의 사용자 계정 이름 쉼표(,)로 사용자 구별
                </aside>
                
            - /etc/gshadow
                
                <aside>
                💡 **/etc/gshadow 파일**
                
                : **그룹의 암호** 저장
                원래 유닉스에는 없는 파일로 **리눅스에서 별도로 만든 파일임**
                
                ![gshadow.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/gshadow.png)
                
                ```bash
                user1@myubuntu:~$ sudo cat /etc/gshadow | grep user1
                adm:*::syslog,user1
                cdrom:*::user1
                sudo:*::user1
                dip:*::user1
                plugdev:*::user1
                lpadmin:!::user1
                lxd:!::user1
                user1:!::
                sambashare:!::user1
                ```
                
                1. **그룹 이름** : 그룹 이름
                2. **그룹 암호** : 암호화된 그룹 암호
                3. **관리자** : 그룹 암호나 멤버를 바꿀 수 있는 계정으로 여러 개일 경우 쉼표(,)로 구분
                4. **그룹 멤버** : 그룹에 속한 멤버들의 사용자 계정 이름. 쉼표(,)로 여러 사용자를 구별함.
                </aside>
                
    - 사용자 계정 생성/수정/삭제
        - 사용자 계정 생성
            - useradd [옵션] [로그인 ID]
                
                ![useradd.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/useradd.png)
                
                ```bash
                user1@myubuntu:~$ sudo useradd user22
                
                user1@myubuntu:~$ sudo useradd user22
                
                user1@myubuntu:~$ cat /etc/passwd | grep user
                cups-pk-helper:x:115:122:user for cups-pk-helper service,,,:/home/cups-pk-helper:/usr/sbin/nologin
                sssd:x:118:125:SSSD system user,,,:/var/lib/sss:/usr/sbin/nologin
                fwupd-refresh:x:120:126:fwupd-refresh user,,,:/run/systemd:/usr/sbin/nologin
                hplip:x:127:7:HPLIP system user,,,:/run/hplip:/bin/false
                user1:x:1000:1000:user1,,,:/home/user1:/bin/bash
                **user22:x:1001:1001::/home/user22:/bin/sh** # 기본 셸을 본 셸로 함.
                
                user1@myubuntu:/home$ ls -l
                합계 4
                drwxr-x--- 19 user1 user1 4096 11월 21 10:21 user1 # user22의 home 디렉터리가 생성되지 않음
                
                user1@myubuntu:/home$ sudo cat /etc/shadow | grep user
                user1:$y$j9T$q2uf6O9EyzzTb6QxyD/Nl/$8CIMQdl2B5DVcOs0RBGVhiNmqGc7ihAxAVwdbMCw1Q3:19641:0:99999:7:::
                **user22:!:19689:0:99999:7:::** # ! : Passwd가 잠겨있음
                
                user1@myubuntu:/home$ su user22
                암호: 
                su: 인증 실패 # 로그인 불가능 / 따로 Passwd 설정해야 함.
                ```
                
                ```bash
                user1@myubuntu:/home$ **sudo useradd -s /bin/bash -m -d /home/user33 user33** # 옵션 사용
                user1@myubuntu:/home$ cat /etc/passwd | grep user
                cups-pk-helper:x:115:122:user for cups-pk-helper service,,,:/home/cups-pk-helper:/usr/sbin/nologin
                sssd:x:118:125:SSSD system user,,,:/var/lib/sss:/usr/sbin/nologin
                fwupd-refresh:x:120:126:fwupd-refresh user,,,:/run/systemd:/usr/sbin/nologin
                hplip:x:127:7:HPLIP system user,,,:/run/hplip:/bin/false
                user1:x:1000:1000:user1,,,:/home/user1:/bin/bash
                user22:x:1001:1001::/home/user22:/bin/sh
                **user33:x:1002:1002::/home/user33:/bin/bash # 배시 셸로 설정됨.**
                
                user1@myubuntu:/home$ ls -l
                합계 8
                drwxr-x--- 19 user1  user1  4096 11월 21 10:21 user1
                **drwxr-x---  2 user33 user33 4096 11월 28 10:37 user33** # 홈 디렉터리 생성
                
                user1@myubuntu:/home$ sudo cat /etc/shadow | grep user
                user1:$y$j9T$q2uf6O9EyzzTb6QxyD/Nl/$8CIMQdl2B5DVcOs0RBGVhiNmqGc7ihAxAVwdbMCw1Q3:19641:0:99999:7:::
                user22:!:19689:0:99999:7:::
                **user33:!:19689:0:99999:7:::** # 여전히 잠겨있음
                
                user1@myubuntu:/home$ sudo passwd user33
                새 암호: 
                새 암호 다시 입력: 
                passwd: 암호를 성공적으로 업데이트했습니다
                
                passwd: 암호를 성공적으로 업데이트했습니다
                user1@myubuntu:/home$ sudo cat /etc/shadow | grep user
                user1:$y$j9T$q2uf6O9EyzzTb6QxyD/Nl/$8CIMQdl2B5DVcOs0RBGVhiNmqGc7ihAxAVwdbMCw1Q3:19641:0:99999:7:::
                user22:!:19689:0:99999:7:::
                **user33:$y$j9T$DIfdYzqGYi1wtLpcDjvWC0$gzFGV3Q5A4PqbS4Mi8nojY03ULf5ADdW5.5fYPSBI8D:19689:0:99999:7:::** # PassWd가 생성됨.
                
                user1@myubuntu:/home$ su user33
                암호: 
                user33@myubuntu:/home$ exit
                exit
                user1@myubuntu:/home$
                ```
                
                <aside>
                💡 장점 : 단순하다
                
                ---
                
                단점
                
                1. 기본 셸이 **본 셸**이다.
                2. **홈 디렉터리**가 생성이 안 된다.
                3. **passwd**가 생성이 안 된다.
                
                </aside>
                
            - adduser [옵션] 로그인 ID ( 옵션 x )
                
                ![adduser.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/adduser.png)
                
                ```bash
                user1@myubuntu:/home$ sudo adduser user44
                'user44' 사용자를 추가 중...
                새 그룹 'user44' (1003) 추가 ...
                새 사용자 'user44' (1003) 을(를) 그룹 'user44' (으)로 추가 ...
                '/home/user44' 홈 디렉터리를 생성하는 중...
                '/etc/skel'에서 파일들을 복사하는 중...
                새 암호: 
                새 암호 다시 입력: 
                passwd: 암호를 성공적으로 업데이트했습니다
                user44의 사용자의 정보를 바꿉니다
                새로운 값을 넣거나, 기본값을 원하시면 엔터를 치세요
                	이름 []: doguri
                	방 번호 []: 301
                	직장 전화번호 []: 
                	집 전화번호 []: 
                	기타 []: 
                정보가 올바릅니까? [Y/n] y
                
                user1@myubuntu:/home$ cat /etc/passwd | grep user
                cups-pk-helper:x:115:122:user for cups-pk-helper service,,,:/home/cups-pk-helper:/usr/sbin/nologin
                sssd:x:118:125:SSSD system user,,,:/var/lib/sss:/usr/sbin/nologin
                fwupd-refresh:x:120:126:fwupd-refresh user,,,:/run/systemd:/usr/sbin/nologin
                hplip:x:127:7:HPLIP system user,,,:/run/hplip:/bin/false
                user1:x:1000:1000:user1,,,:/home/user1:/bin/bash
                user22:x:1001:1001::/home/user22:/bin/sh
                user33:x:1002:1002::/home/user33:/bin/bash
                **user44:x:1003:1003:doguri,301,,:/home/user44:/bin/bash** # 자동으로 설정됨
                
                user1@myubuntu:/home$ sudo cat /etc/shadow | grep user
                user1:$y$j9T$q2uf6O9EyzzTb6QxyD/Nl/$8CIMQdl2B5DVcOs0RBGVhiNmqGc7ihAxAVwdbMCw1Q3:19641:0:99999:7:::
                user22:!:19689:0:99999:7:::
                user33:$y$j9T$DIfdYzqGYi1wtLpcDjvWC0$gzFGV3Q5A4PqbS4Mi8nojY03ULf5ADdW5.5fYPSBI8D:19689:0:99999:7:::
                **user44:$y$j9T$I8ErpVc5uGjY1b6/VGoBh1$88ygEmjNLQEKzsXEqVXs.toZuSEBH9uwNbMilcaSVvA:19689:0:99999:7:::** # PassWd도 설정되어 있음.
                ```
                
            - /etc/skel
                - 공통으로 배포해야 할 파일을 /etc/skel 파일에 넣어두면 사용자 계정 생성 시 해당 디렉터리 내의 파일을 자동으로 복사
                - useradd, adduser 둘 다 해당됨
                
                ```bash
                user1@myubuntu:~/linux_ex/ch9$ ls -al /etc/skel
                합계 28
                drwxr-xr-x   2 root root  4096  8월  8 07:52 .
                drwxr-xr-x 133 root root 12288 11월 28 10:28 ..
                -rw-r--r--   1 root root   220  1월  7  2022 .bash_logout
                -rw-r--r--   1 root root  3771  1월  7  2022 .bashrc
                -rw-r--r--   1 root root   807  1월  7  2022 .profile
                # .profile == .bash_login
                ```
                
        - 사용자 계정 정보 수정
            
            <aside>
            💡 usermod [옵션] 로그인 ID
            
            </aside>
            
            ![usermod.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/usermod.png)
            
            ```bash
            # User33의 UID 변경
            user1@myubuntu:~$ cat /etc/passwd | grep user
            user33:x:1002:1002::/home/user33:/bin/bash
            
            user1@myubuntu:~$ sudo usermod -u 2102 user33
            
            user1@myubuntu:~$ cat /etc/passwd | grep user
            user33:x:2102:1002::/home/user33:/bin/bash
            ```
            
            ```bash
            # User33의 기본 셸 변경
            user1@myubuntu:~$ sudo usermod -s /bin/sh user33
            
            user1@myubuntu:~$ cat /etc/passwd | grep user
            user33:x:2102:1002::/home/user33:/bin/sh
            ```
            
            ```bash
            # User44의 홈 디렉터리 변경
            user1@myubuntu:~$ cat /etc/passwd | grep user44
            user44:x:1003:1003:doguri,301,,:/home/user44:/bin/bash
            
            user1@myubuntu:~$ sudo usermod -d /home/user441 user44
            
            user1@myubuntu:~$ cat /etc/passwd | grep user44
            user44:x:1003:1003:doguri,301,,:**/home/user441**:/bin/bash
            
            # User44의 로그인 이름 변경
            user1@myubuntu:~$ sudo usermod -l user441 user44
            
            user1@myubuntu:~$ cat /etc/passwd | grep user44
            **user441**:x:1003:1003:doguri,301,,:/home/user441:/bin/bash
            
            ```
            
            ```bash
            user1@myubuntu:~$ sudo usermod -d /home/user44 user441
            
            user1@myubuntu:~$ cat /etc/passwd | grep user44
            user441:x:1003:1003:doguri,301,,:**/home/user44**:/bin/bash
            
            user1@myubuntu:~$ sudo usermod -l user44 user441
            
            user1@myubuntu:~$ cat /etc/passwd | grep user44
            **user44**:x:1003:1003:doguri,301,,:/home/user44:/bin/bash
            ```
            
        - 사용자 계정 삭제
            
            <aside>
            💡 userdel [옵션] 로그인 ID
            
            </aside>
            
            ![userdel.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/userdel.png)
            
            ```bash
            user1@myubuntu:~$ **sudo userdel user44**
            user1@myubuntu:~$ cat /etc/passwd | grep user44
            
            user1@myubuntu:/home$ ls -l
            합계 12
            drwxr-x--- 19 user1  user1  4096 11월 21 10:21 user1
            drwxr-x---  2 user33 user33 4096 11월 28 10:41 user33
            drwxr-x---  2   1003   1003 4096 11월 28 10:47 user44
            # -r 옵션을 사용하지 않으면 홈 디렉터리는 남아있음.
            
            user1@myubuntu:/home$ sudo rm -r user44
            user1@myubuntu:/home$ ls -l
            합계 8
            drwxr-x--- 19 user1  user1  4096 11월 21 10:21 user1
            drwxr-x---  2 user33 user33 4096 11월 28 10:41 user33
            ```
            
            ```bash
            user1@myubuntu:/home$ **sudo userdel -r user33**
            userdel: user33 mail spool (/var/mail/user33) not found
            user1@myubuntu:/home$ ls -l
            합계 4
            drwxr-x--- 19 user1 user1 4096 11월 21 10:21 user1
            ```
            
    - 그룹 생성/수정/삭제/암호
        - 그룹 생성
            - groupadd [옵션] 그룹명
                
                ![groupadd.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/groupadd.png)
                
                ```bash
                user1@myubuntu:~$ cat /etc/group | grep gtest
                
                user1@myubuntu:~$ sudo groupadd gtest10
                user1@myubuntu:~$ sudo groupadd -g 4000 gtest20
                
                user1@myubuntu:~$ cat /etc/group | grep gtest
                gtest10:x:1002:
                gtest20:x:4000:
                ```
                
            - addgroup [옵션] 그룹명
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2026.png)
                
                ```bash
                user1@myubuntu:~$ sudo addgroup gest30
                그룹 'gest30' (GID 1003) 추가 ...
                완료.
                
                user1@myubuntu:~$ sudo addgroup --gid 4001 gtest40
                그룹 'gtest40' (GID 4001) 추가 ...
                완료.
                
                user1@myubuntu:~$ cat /etc/group | grep gtest
                gtest10:x:1002:
                gtest20:x:4000:
                gtest40:x:4001:
                ```
                
        - 그룹 수정
            
            <aside>
            💡 groupmod [옵션] 그룹명
            
            </aside>
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2027.png)
            
            ```jsx
            user1@myubuntu:~$ cat /etc/group | grep gtest
            gtest10:x:1002:
            
            user1@myubuntu:~$ sudo groupmod -g 2500 gtest10
            user1@myubuntu:~$ cat /etc/group | grep gtest
            gtest10:x:2500:
            
            user1@myubuntu:~$ sudo groupmod -n gtest101 gtest10
            user1@myubuntu:~$ cat /etc/group | grep gtest
            gtest101:x:2500:
            ```
            
        - 그룹 삭제
            
            <aside>
            💡 groupdel 그룹명
            
            </aside>
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2028.png)
            
            ```bash
            user1@myubuntu:~$ cat /etc/group | grep gtest
            gtest20:x:4000:
            gtest40:x:4001:
            gtest101:x:2500:
            
            user1@myubuntu:~$ sudo groupdel gtest40
            user1@myubuntu:~$ cat /etc/group | grep gtest
            gtest20:x:4000:
            gtest101:x:2500:
            ```
            
        - 그룹 암호
            
            <aside>
            💡 gpasswd [옵션] 그룹명
            
            </aside>
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2029.png)
            
            ```bash
            user1@myubuntu:/home$ sudo gpasswd -a test010 gtest101
            사용자 test010을(를) gtest101 그룹에 등록 중
            
            user1@myubuntu:/home$ sudo gpasswd -a test020 gtest101
            사용자 test020을(를) gtest101 그룹에 등록 중
            
            user1@myubuntu:/home$ cat /etc/group | grep gtest101
            gtest101:x:3500:**test010,test020**
            ```
            
            ```bash
            user1@myubuntu:/home$ sudo gpasswd -d test020 gtest101
            사용자 test020을(를) 그룹 gtest101에서 제거하는 중
            user1@myubuntu:/home$ cat /etc/group | grep gtest101
            gtest101:x:3500:test010
            ```
            
            ```bash
            user1@myubuntu:/home$ sudo gpasswd gtest101
            gtest101 그룹의 암호를 바꾸는 중
            새 암호: 
            새 암호를 다시 입력하십시오: 
            
            user1@myubuntu:/home$ sudo cat /etc/gshadow | grep gtest101
            gtest101:$6$/.gEs//baqu/i$ghKsjFN.vrXYMe96uQkkpBy4ap61LH5gpMGHbOgyYiIEOvALth5m.QV/keKaEX5egspszNv/TI97E5nM6ue/G0::test010
            
            user1@myubuntu:/home$ sudo gpasswd -r gtest101
            user1@myubuntu:/home$ sudo cat /etc/gshadow | grep gtest101
            gtest101:::test010
            ```
            
        - 현재 소속 그룹 확인 명령
            
            <aside>
            💡 id
            
            </aside>
            
            ```bash
            user1@myubuntu:/home$ id
            uid=1000(user1) gid=1000(user1) groups=1000(user1),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),122(lpadmin),135(lxd),136(sambashare)
            # 1차 그룹 : user1(1000), 2차 그룹 : adm, cdrom, sudo 등..
            ```
            
        
- 사용자 정보 관리
    - UID와 EUID
        
        <aside>
        💡 UID : 사용자가 로그인할 때 사용한 계정 ID
        
        EUID(**Effective UID)** : 현재 명령을 수행하는 주체의 ID
        
        </aside>
        
        ![uid.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/uid.png)
        
        - 실행 파일에 setuid가 설정되어 있는 경우 : 해당 실행 파일 소유자의 UID가 EUID가 됨
        - su 명령을 사용하여 다른 사용자로 전환하면 UID와 EUID가 달라짐
    - 현재 시스템을 사용하는 사용자의 정보 출력 (who)
        
        <aside>
        💡 who [옵션]
        
        UID 기준 작동
        
        </aside>
        
        ![who.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/who.png)
        
        ```bash
        user1@myubuntu:~$ who # UID 기준
        user1    tty2         2023-12-05 09:08 (tty2)
        
        user1@myubuntu:~$ who -H # 로그인 한 사용자의 정보를 각 항목의 제목과 함께 출력
        이름   행          시각           설명
        user1    tty2         2023-12-05 09:08 (tty2)
        
        user1@myubuntu:~$ who -q # 로그인 한 사용자 수와 계정 이름 출력
        user1
        사용자 수=1
        
        user1@myubuntu:~$ who -b # 마지막으로 부팅한 날짜와 시간 정보 출력
                 시스템 부팅 2023-12-05 09:08
        ```
        
    - 현재 시스템을 사용하는 사용자의 정보와 작업 정보 출력 (w)
        
        <aside>
        💡 w [사용자 명]
        
        UID 기준 작동
        
        </aside>
        
        ![w.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/w.png)
        
        ```bash
        user1@myubuntu:~$ w
         09:12:24 up 4 min,  1 user,  load average: 0.10, 0.35, 0.18
        USER     TTY      FROM             로그인   대기   JCPU   PCPU 세션
        user1    tty2     tty2             09:08    4:14   0.04s  0.03s /usr/libexec/gn
        
        user1@myubuntu:~$ w user1
         09:12:27 up 4 min,  1 user,  load average: 0.09, 0.35, 0.18
        USER     TTY      FROM             로그인   대기   JCPU   PCPU 세션
        user1    tty2     tty2             09:08    4:17   0.04s  0.03s /usr/libexec/gn
        
        user1@myubuntu:~$ su test010
        test010@myubuntu:/home/user1$ w
         09:14:18 up 6 min,  1 user,  load average: 0.01, 0.24, 0.16
        USER     TTY      FROM             로그인   대기   JCPU   PCPU 세션
        **user1**    tty2     tty2             09:08    6:08   0.04s  0.03s /usr/libexec/gn
        # 사용자를 바꾸어도 UID 기준으로 표시됨
        ```
        
        <aside>
        💡 w 명령은 UID 기준으로 작동한다. 
        따라서 su 명령을 사용하여 사용자를 변경하여도 **로그인 아이디는 기존과 같기 때문에 기존과 같은 결과**가 출력된다.
        
        </aside>
        
    - 사용자 이름, 로그인 시간, 로그아웃 시간, 터미널 번호, IP 주소 출력 (last)
        
        <aside>
        💡 last
        
        UID 기준 작동
        
        </aside>
        
        ![last.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/last.png)
        
        ```bash
        test010@myubuntu:/home/user1$ last # UID 기준
        user1    tty2         tty2             Tue Dec  5 09:08   still logged in
        reboot   system boot  6.2.0-37-generic Tue Dec  5 09:08   still running
        user1    tty2         tty2             Mon Dec  4 15:56 - down   (01:55)
        reboot   system boot  6.2.0-37-generic Mon Dec  4 15:56 - 17:52  (01:55)
        user1    tty2         tty2             Mon Dec  4 15:55 - down   (00:00)
        reboot   system boot  6.2.0-37-generic Mon Dec  4 15:53 - 15:55  (00:02)
        user1    tty2         tty2             Tue Nov 28 09:50 - down   (01:03)
        reboot   system boot  6.2.0-37-generic Tue Nov 28 09:49 - 10:53  (01:04)
        user1    tty2         tty2             Tue Nov 28 09:11 - down   (00:37)
        reboot   system boot  6.2.0-37-generic Tue Nov 28 09:11 - 09:48  (00:37)
        user1    tty2         tty2             Mon Nov 27 16:02 - down   (01:51)
        reboot   system boot  6.2.0-36-generic Mon Nov 27 16:02 - 17:53  (01:51)
        user1    tty2         tty2             Tue Nov 21 09:03 - down   (01:49)
        reboot   system boot  6.2.0-36-generic Tue Nov 21 08:50 - 10:52  (02:01)
        user1    tty2         tty2             Mon Nov 20 15:49 - down   (02:01)
        reboot   system boot  6.2.0-36-generic Mon Nov 20 15:47 - 17:50  (02:03)
        user1    tty2         tty2             Tue Nov 14 20:33 - down   (04:22)
        reboot   system boot  6.2.0-36-generic Tue Nov 14 20:33 - 00:55  (04:22)
        user1    tty2         tty2             Tue Nov 14 09:30 - down   (11:02)
        reboot   system boot  6.2.0-36-generic Tue Nov 14 09:16 - 20:33  (11:16)
        user1    tty2         tty2             Tue Nov 14 08:59 - down   (00:17)
        reboot   system boot  6.2.0-36-generic Tue Nov 14 08:57 - 09:16  (00:19)
        user1    tty2         tty2             Mon Nov 13 17:11 - down   (07:05)
        reboot   system boot  6.2.0-36-generic Mon Nov 13 17:10 - 00:16  (07:06)
        user1    tty2         tty2             Mon Nov 13 15:57 - down   (01:11)
        reboot   system boot  6.2.0-34-generic Mon Nov 13 15:42 - 17:08  (01:25)
        user1    tty2         tty2             Tue Nov  7 09:03 - down   (01:52)
        reboot   system boot  6.2.0-34-generic Tue Nov  7 08:51 - 10:55  (02:03)
        user1    tty2         tty2             Mon Nov  6 16:12 - down   (01:35)
        reboot   system boot  6.2.0-34-generic Mon Nov  6 16:11 - 17:47  (01:36)
        reboot   system boot  6.2.0-34-generic Mon Nov  6 15:58 - 16:08  (00:09)
        user1    tty2         tty2             Tue Oct 31 09:47 - down   (01:06)
        reboot   system boot  6.2.0-34-generic Tue Oct 31 09:46 - 10:54  (01:07)
        user1    tty2         tty2             Tue Oct 31 09:04 - down   (00:41)
        reboot   system boot  6.2.0-32-generic Tue Oct 31 08:57 - 09:46  (00:48)
        user1    tty2         tty2             Wed Oct 18 15:08 - down   (12:43)
        reboot   system boot  6.2.0-32-generic Wed Oct 18 15:07 - 03:52  (12:44)
        user1    tty2         tty2             Tue Oct 17 08:44 - down   (01:54)
        reboot   system boot  6.2.0-32-generic Tue Oct 17 08:41 - 10:38  (01:57)
        user1    tty2         tty2             Mon Oct 16 15:54 - down   (02:01)
        reboot   system boot  6.2.0-32-generic Mon Oct 16 15:51 - 17:56  (02:04)
        user1    tty2         tty2             Wed Oct 11 15:03 - down   (01:55)
        reboot   system boot  6.2.0-32-generic Wed Oct 11 15:02 - 16:58  (01:56)
        user1    tty2         tty2             Wed Oct 11 14:27 - down   (00:32)
        reboot   system boot  6.2.0-32-generic Wed Oct 11 14:26 - 15:00  (00:33)
        user1    tty2         tty2             Tue Oct 10 09:03 - down   (01:45)
        reboot   system boot  6.2.0-32-generic Tue Oct 10 09:03 - 10:49  (01:46)
        user1    tty2         tty2             Tue Sep 26 09:07 - down   (01:26)
        reboot   system boot  6.2.0-32-generic Tue Sep 26 09:06 - 10:33  (01:26)
        user1    tty2         tty2             Mon Sep 25 15:44 - down   (02:07)
        reboot   system boot  6.2.0-32-generic Mon Sep 25 15:42 - 17:51  (02:08)
        user1    tty2         tty2             Sat Sep 23 16:03 - down   (01:47)
        reboot   system boot  6.2.0-32-generic Sat Sep 23 16:02 - 17:51  (01:48)
        user1    tty2         tty2             Tue Sep 19 09:00 - down   (01:51)
        reboot   system boot  6.2.0-32-generic Tue Sep 19 08:59 - 10:52  (01:52)
        user1    tty2         tty2             Mon Sep 18 16:05 - down   (01:45)
        reboot   system boot  6.2.0-32-generic Mon Sep 18 16:04 - 17:51  (01:46)
        user1    tty2         tty2             Tue Sep 12 10:09 - down   (00:40)
        reboot   system boot  6.2.0-32-generic Tue Sep 12 10:09 - 10:50  (00:41)
        user1    tty2         tty2             Tue Sep 12 09:06 - crash  (01:02)
        reboot   system boot  6.2.0-32-generic Tue Sep 12 09:05 - 10:50  (01:45)
        user1    tty2         tty2             Mon Sep 11 16:36 - down   (01:19)
        reboot   system boot  6.2.0-32-generic Mon Sep 11 16:36 - 17:56  (01:20)
        user1    tty2         tty2             Thu Sep  7 21:05 - down  (3+18:56)
        reboot   system boot  6.2.0-32-generic Thu Sep  7 21:04 - 16:02 (3+18:57)
        
        wtmp begins Thu Sep  7 21:04:55 2023
        ```
        
    - UID, EUID 확인(whoami, id)
        
        <aside>
        💡 whoami
        id
        
        EUID 기준 작동
        
        </aside>
        
        ```bash
        test010@myubuntu:/home/user1$ whoami
        test010
        test010@myubuntu:/home/user1$ id
        uid=1002(test010) gid=1002(test010) groups=1002(test010),3500(gtest101)
        
        test010@myubuntu:/home/user1$ exit
        exit
        
        user1@myubuntu:~$ whoami
        user1
        user1@myubuntu:~$ id
        uid=1000(user1) gid=1000(user1) groups=1000(user1),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),122(lpadmin),135(lxd),136(sambashare)
        ```
        
    - 소속 그룹 확인 (groups)
        
        <aside>
        💡 groups [사용자 계정]
        
        EUID 기준 작동
        
        </aside>
        
        ![groups.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/groups.png)
        
        ```bash
        user1@myubuntu:~$ groups
        user1 adm cdrom sudo dip plugdev lpadmin lxd sambashare
        
        user1@myubuntu:~$ groups user1
        user1 : user1 adm cdrom sudo dip plugdev lpadmin lxd sambashare
        
        user1@myubuntu:~$ groups test010
        test010 : test010 gtest101
        
        user1@myubuntu:~$ su test010 
        test010@myubuntu:/home/user1$ groups # EUID 기준
        test010 gtest101
        ```
        
    
    <aside>
    💡 UID 기준 작동 : who, w, last
    EUID 기준 작동 : whoami, id, groups
    
    </aside>
    
    - 사용자 계정 암호 수정 (passwd)
        
        <aside>
        💡 passwd [옵션] [사용자 계정]
        
        </aside>
        
        ![passwd.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/passwd.png)
        
        ```bash
        user1@myubuntu:/home$ sudo passwd test010
        [sudo] user1 암호: 
        새 암호: 
        새 암호 다시 입력: 
        passwd: 암호를 성공적으로 업데이트했습니다
        user1@myubuntu:/home$ sudo passwd -l test010
        passwd: password expiry information changed.
        user1@myubuntu:/home$ sudo cat /etc/shadow | grep test010
        test010:!$y$j9T$1H4MLRj9DwMsWIB8GRJyu/$THSSYjicdYkeGceVkRlAWlbrBotlADxEvpw93vEZYn7:19695:0:99999:7:::
        # !가 있으면 아무리 암호를 입력해도 열리지 않음
        ```
        
        ```bash
        user1@myubuntu:/home$ sudo passwd -u test010
        passwd: password expiry information changed.
        user1@myubuntu:/home$ sudo cat /etc/shadow | grep test010
        test010:$y$j9T$1H4MLRj9DwMsWIB8GRJyu/$THSSYjicdYkeGceVkRlAWlbrBotlADxEvpw93vEZYn7:19695:0:99999:7:::
        ```
        
        ```bash
        user1@myubuntu:/home$ sudo passwd -d test010
        passwd: password expiry information changed.
        user1@myubuntu:/home$ sudo cat /etc/shadow | grep test010
        test010::19695:0:99999:7:::
        ```
        
    - 파일 및 디렉터리의 소유자와 소유 그룹 변경 (chown, chgrp)
        - chown
            
            <aside>
            💡 chown [옵션] 사용자 계정 파일명/디렉터리명
            
            </aside>
            
            ![chown.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/chown.png)
            
            ```bash
            user1@myubuntu:~/linux_ex/ch10$ ls -l
            합계 24
            -rw-r--r-- 1 **user1** user1   223 12월  5 09:35 hosts
            -rw-r--r-- 1 user1 user1 12813 12월  5 09:35 services
            drwxrwxr-x 2 user1 user1  4096 12월  5 09:35 temp
            
            user1@myubuntu:~/linux_ex/ch10$ sudo chown test010 hosts
            user1@myubuntu:~/linux_ex/ch10$ ls -l
            합계 24
            -rw-r--r-- 1 **test010** user1   223 12월  5 09:35 hosts # user1은 hosts 파일을 읽기만 가능
            -rw-r--r-- 1 user1   user1 12813 12월  5 09:35 services
            drwxrwxr-x 2 user1   user1  4096 12월  5 09:35 temp
            
            user1@myubuntu:~/linux_ex/ch10$ sudo chown **user1:test010** hosts
            user1@myubuntu:~/linux_ex/ch10$ ls -l # 사용자 : 그룹
            합계 24
            -rw-r--r-- 1 **user1** test010   223 12월  5 09:35 hosts
            -rw-r--r-- 1 user1 user1   12813 12월  5 09:35 services
            drwxrwxr-x 2 user1 user1    4096 12월  5 09:35 temp
            
            user1@myubuntu:~/linux_ex/ch10$ sudo chown **:user1** hosts
            user1@myubuntu:~/linux_ex/ch10$ ls -l
            합계 24
            -rw-r--r-- 1 user1 **user1**   223 12월  5 09:35 hosts
            -rw-r--r-- 1 user1 user1 12813 12월  5 09:35 services
            drwxrwxr-x 2 user1 user1  4096 12월  5 09:35 temp
            ```
            
            <aside>
            💡 user1:test01과 같이 콜론(:)을 사용하여 사용자와 그룹을 동시에 바꿀 수 있다.
            
            </aside>
            
            <aside>
            💡 옵션
            -R : 디렉터리와 해당 디렉터리 내의 파일까지 한 번에 소유자 변경
            
            </aside>
            
        - chgrp
            
            <aside>
            💡 chgrp [옵션] 그룹명 파일명/디렉터리명
            
            </aside>
            
            ![chgrp.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/chgrp.png)
            
            ```bash
            user1@myubuntu:~/linux_ex/ch10$ sudo chgrp -R test010 temp
            user1@myubuntu:~/linux_ex/ch10$ ls -l
            합계 24
            -rw-r--r-- 1 user1 user1     223 12월  5 09:35 hosts
            -rw-r--r-- 1 user1 user1   12813 12월  5 09:35 services
            drwxrwxr-x 2 user1 test010  4096 12월  5 09:35 temp
            user1@myubuntu:~/linux_ex/ch10$ sudo chgrp -R user1 temp
            user1@myubuntu:~/linux_ex/ch10$ ls -l
            합계 24
            -rw-r--r-- 1 user1 user1   223 12월  5 09:35 hosts
            -rw-r--r-- 1 user1 user1 12813 12월  5 09:35 services
            drwxrwxr-x 2 user1 user1  4096 12월  5 09:35 temp
            ```
            

---

## ch. 10 네트워크 설정

- 네트워크 기초
    - TCP/IP 프로토콜
        
        <aside>
        💡 프로토콜
        : 컴퓨터 간 데이터를 주고 받기 위해 정의된 통신 규약
        
        현재는 TCP/IP 프로토콜에 따라 데이터를 주고 받음.
        
        </aside>
        
        ![TCP/IP 프로토콜](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2030.png)
        
        TCP/IP 프로토콜
        
        - MAC 주소 - 2계층
        
        ---
        
    - 주소
        
        <aside>
        💡 **컴퓨터 주소** : MAC 주소, IP 주소, 호스트 이름
        
        </aside>
        
        - MAC(media Access Control) 주소
            - 하드웨어 주소(물리 주소)
            - 네트워크 인터페이스(LAN) 카드에 저장된 구조
            - 여섯 개의 16진수로 구성(6개 x 8 bit = 48 bit)
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2031.png)
                
        
        ---
        
        - IP(Internet Protocol) 주소
            - 일반적으로 **인터넷 주소**라고 부르는 것
            - 인터넷에서 각 컴퓨터를 구분하기 위해 사용
            - 총 4바이트로 구성됨 ex) 192.168.000.0
            
            <aside>
            💡 IP 주소 구성
            
            - 네트워크 주소 : 네트워크를 구분함
            - 호스트 주소 : 해당 네트워크 안에서 특정 컴퓨터 식별
            
            ※ 네트워크 주소, 호스트 주소를 나누는 기준에 따라 A, B, C 클래스로 구분하여 사용
            
            </aside>
            
            ![ip.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/ip.png)
            
            - C 클래스 IP 주소
                - 앞 3바이트가 네트워크 주소, 뒤 1바이트가 호스트 주소
                - 호스트 부분으로 사용 가능한 숫자 : 1~254 / 0, 255는 다른 용도
        
        ---
        
        - 넷마스크와 브로드캐스트 주소
            
            <aside>
            💡 넷 마스크(서브넷 마스크)란?
            IP 주소에서 네트워크 주소 부분을 알려주는 역할
            
            넷마스크와 IP 주소를 AND 연산을 하면 네트워크 주소만 남음.
            
            </aside>
            
            ![넷마스크.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/%25EB%2584%25B7%25EB%25A7%2588%25EC%258A%25A4%25ED%2581%25AC.png)
            
            ---
            
            <aside>
            💡 **브로드 캐스트 주소**란?
            **같은 네트워크 주소에 있는 모든 컴퓨터에 메시지를 보낼 때** 사용됨
            호스트 주소 부분 1바이트(8비트)를 모두 1로 설정
            ex) 192.168.100.**255**
            
            </aside>
            
        
        ---
        
        - 호스트 이름과 포트 번호
            
            <aside>
            💡 호스트 이름
            
            - 외우기 힘든 숫자 주소를 외우기 쉽도록 **주소를 이름으로** 만든 것.
            - 호스트 이름도 네트워크 주소와 호스트 주소 두 부분으로 구성됨.
            - ex) daum.net이 네트워크 주소, www가 호스트 주소 부분
            </aside>
            
            <aside>
            💡 포트 번호
            
            - 호스트 이름(IP 주소)를 이용하여 서버를 찾은 데이터가 
            그 서버의 **어떤 네트워크 응용 서비스에 제공되어야 하는지 구분**해야 할 때 사용된다.
            
            ```bash
            # /etc/sevices에 저장되어 있는 포트 번호 출력
            user1@myubuntu:~$ more /etc/services
            
            http		80/tcp		www		# WorldWideWeb HTTP
            ```
            
            </aside>
            
- 네트워크 설정
    - **IP 주소, 넷마스크**, ~~브로드캐스트 주소~~, **게이트웨이(라우터) 주소, DNS 주소**
    - 네트워크 관리자 프로세스
        
        <aside>
        💡 네트워크의 제어와 설정을 관리하는 데몬 프로세서(**NetworkManager.service)**
        
        네트워크 관리자 프로세스를 통하여 IP 주소, 라우터 주소, DNS 주소 등을 설정.
        
        nmcli 명령, ip 명령, ifconfig 명령, route 명령, 그놈 UI의 [설정]-[네트워크](GUI)를 이용하여 네트워크 관리를 수행한다.
        
        </aside>
        
        - systemctl 명령어 : 데몬(백그라운드 프로그램) 서비스 관리 명령어
            
            ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2032.png)
            
            <aside>
            💡 systemctl [옵션] [서비스이름]
            
            </aside>
            
            - 상태 확인(status)
                
                ```bash
                # 네트워크 관리자 상태 확인
                user1@myubuntu:~$ systemctl **status** NetworkManager.service
                ● NetworkManager.service - Network Manager
                     Loaded: loaded (/lib/systemd/system/NetworkManager.service; enabled; vendor preset: enabled)
                     Active: **active (running)** since Sat 2023-12-09 16:00:52 KST; 1h 14min ago
                       Docs: man:NetworkManager(8)
                   Main PID: 709 (NetworkManager)
                      Tasks: 3 (limit: 2218)
                     Memory: 9.0M
                        CPU: 655ms
                     CGroup: /system.slice/NetworkManager.service
                             └─709 /usr/sbin/NetworkManager --no-daemon
                
                12월 09 16:00:52 myubuntu NetworkManager[709]: <info>  [1702105252.9564] manager: startup complete
                12월 09 16:00:53 myubuntu NetworkManager[709]: <info>  [1702105253.4981] manager: NetworkManager state is now CONNECT>
                12월 09 16:00:58 myubuntu NetworkManager[709]: <info>  [1702105258.0618] agent-manager: agent[a1feadef634301a1,:1.40/>
                12월 09 16:01:12 myubuntu NetworkManager[709]: <info>  [1702105272.0524] agent-manager: agent[0b8ede5221d66005,:1.81/>
                12월 09 16:12:55 myubuntu NetworkManager[709]: <info>  [1702105975.5252] agent-manager: agent[867dd40ddb695fec,:1.81/>
                12월 09 16:15:52 myubuntu NetworkManager[709]: <info>  [1702106152.9117] dhcp4 (ens33): state changed new lease, addr>
                12월 09 16:30:52 myubuntu NetworkManager[709]: <info>  [1702107052.9037] dhcp4 (ens33): state changed new lease, addr>
                12월 09 16:45:52 myubuntu NetworkManager[709]: <info>  [1702107952.9000] dhcp4 (ens33): state changed new lease, addr>
                12월 09 17:00:52 myubuntu NetworkManager[709]: <info>  [1702108852.9009] dhcp4 (ens33): state changed new lease, addr>
                12월 09 17:11:46 myubuntu NetworkManager[709]: <info>  [1702109506.7077] agent-manager: agent[f2948672440d42b0,:1.81/>
                lines 1-21/21 (END)
                ```
                
            - 시작(start)
                
                ```bash
                user1@myubuntu:~$ systemctl start NetworkManager.service
                ```
                
            - 중지(stop)
                
                ```bash
                user1@myubuntu:~$ systemctl stop NetworkManager.service
                ```
                
            - 재시작(restart)
                
                ```bash
                user1@myubuntu:~$ systemctl restart NetworkManager.service
                ```
                
            - 부팅 시 자동 실행하기(enable)
                
                ```bash
                user1@myubuntu:~$ sudo systemctl enable NetworkManager.service
                
                Created symlink /etc/systemd/system/multi-user.target.wants/NetworkManager.service → /lib/systemd/system/NetworkManager.service.
                Created symlink /etc/systemd/system/dbus-org.freedesktop.nm-dispatcher.service → /lib/systemd/system/NetworkManager-dispatcher.service.
                Created symlink /etc/systemd/system/network-online.target.wants/NetworkManager-wait-online.service → /lib/systemd/system/NetworkManager-wait-online.service.
                ```
                
            - 부팅 시 자동 실행하지 않기(disable)
                
                ```bash
                user1@myubuntu:~$ sudo systemctl disable NetworkManager.service
                
                Removed /etc/systemd/system/multi-user.target.wants/NetworkManager.service.
                Removed /etc/systemd/system/dbus-org.freedesktop.nm-dispatcher.service.
                Removed /etc/systemd/system/network-online.target.wants/NetworkManager-wait-online.service.
                ```
                
        - 그놈
            
            <aside>
            💡 설정 화면에서 네트워크 선택 후
            네트워크 설정 창의 IPv4 설정에서 IP주소, 넷마스크, 게이트웨이, DNS, 라우팅을 설정함.
            
            </aside>
            
        - **nmcli 명령어**
            - 네트워크를 설정하는 명령은 네트워크 관리자와 함께 설치되는 nncli 명령과 ip 명령을 사용할 수 있다.
            - nmcli 명령으로 유선/무선 네트워크, 보안 등 **네트워크 관련 거의 모든 설정을 수행**할 수 있다.
            
            <aside>
            💡 nmcli [옵션] {명령} [서브 명령]
            
            general { status | hostname }
            networking { on | off | connectivity }
            connection { show | up | down | modify | add | delete | reload | load }
            device { status | show }
            
            </aside>
            
            ![nmcli.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/nmcli.png)
            
            ```bash
            ens33: 연결됨 → 유선 연결 1
                    "Intel 82545EM"
                    ethernet (e1000), 00:0C:29:8A:71:CF, hw, mtu 1500
                    IP4 기본값
                    inet4 192.168.112.128/24  # IP 주소/서브넷 마스크(24 Bit가 1로 구성)
                    route4 default via **192.168.112.2** metric 100 # 게이트 웨이
                    route4 169.254.0.0/16 metric 1000
                    route4 192.168.112.0/24 metric 100
                    inet6 fe80::e5ea:be74:f6d1:5d75/64
                    route6 fe80::/64 metric 1024
            
            lo: 관리되지 않음
                    "lo"
                    loopback (unknown), 00:00:00:00:00:00, sw, mtu 65536
            
            DNS configuration:
                    servers: **192.168.112.2 # DNS 주소**
                    domains: localdomain
                    interface: ens33
            
            알려진 장치에 대한 완전한 정보를 얻으려면 "nmcli device show"를 사용하고 활성
            연결 프로파일에 대한 개요를 보려면 "nmcli connection show"를 사용하십시오.
            자세한 사용법은 nmcli (1) 및 nmcli-examples (5) 매뉴얼 페이지를 참조하십시오.
            ```
            
            - general (gen)
                - 네트워크의 전체적인 상태 확인
                
                ```bash
                user1@myubuntu:~$ nmcli general status
                
                STATE   CONNECTIVITY  WIFI-HW  WIFI  WWAN-HW  WWAN 
                연결됨  전체          사용     사용  사용     사용 
                
                # 명령은 다르지만 결과는 같다
                user1@myubuntu:~$ nmcli gen status
                
                STATE   CONNECTIVITY  WIFI-HW  WIFI  WWAN-HW  WWAN 
                연결됨  전체          사용     사용  사용     사용
                ```
                
            - networking (net)
                - 네트워크 활성화(on), 비활성화(off)
                - 네트워크의 연결 상태 확인 (connectivity(con))
                
                ```bash
                user1@myubuntu:~$ nmcli networking on
                user1@myubuntu:~$ nmcli gen status
                STATE   CONNECTIVITY  WIFI-HW  WIFI  WWAN-HW  WWAN 
                연결됨  전체          사용     사용  사용     사용 
                
                # 네트워크 비활성화
                user1@myubuntu:~$ nmcli networking off
                user1@myubuntu:~$ nmcli gen status
                STATE      CONNECTIVITY  WIFI-HW  WIFI  WWAN-HW  WWAN 
                대기 상태  없음          사용     사용  사용     사용
                
                # 네트워크 연결 상태 확인
                user1@myubuntu:~$ nmcli networking con
                full
                ```
                
                <aside>
                💡 connectivity (con) 명령이 출력하는 네트워크 종류
                **- none : 호스트가 네트워크(이더넷)에 연결되지 않음**
                - limited : 호스트가 네트워크에는 연결되었으나 인터넷(외부)과는 연결되지 않음
                **- full : 호스트가 네트워크에도, 인터넷에도 연결됨**
                - unknown : 네트워크 연결 상태를 알 수 없음
                
                이더넷 - MAC 주소
                인터넷 - IP 주소
                
                </aside>
                
            - connetion (con)
                
                ![Untitled](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2033.png)
                
                - show
                    - 모든 네트워크 연결에 대한 프로파일 출력
                    - 네트워크 연결 프로파일 이름, UUID, 네트워크 유형, 연결된 장치명 출력
                    - nmcli connection show
                    
                    ```bash
                    # show
                    user1@myubuntu:~$ nmcli con show
                    
                    NAME         UUID                                  TYPE      DEVICE 
                    유선 연결 1  c85ade30-ca0c-35b7-a962-7a86317055c2  ethernet  ens33
                    ```
                    
                - down
                    - 네트워크 연결 중지
                    - nmcli connection down ‘프로파일 이름’
                    
                    ```bash
                    user1@myubuntu:~$ nmcli con down '유선 연결 1'
                    
                    '유선 연결 1' 연결이 성공적으로 비활성화되었습니다 (D-Bus 활성 경로: /org/freedesktop/NetworkManager/ActiveConnection/2)
                    ```
                    
                - up
                    - 네트워크 연결 시작
                    - nmcli connection up ‘프로파일 이름’
                    
                    ```bash
                    user1@myubuntu:~$ nmcli con up '유선 연결 1'
                    
                    연결이 성공적으로 활성화되었습니다 (D-버스 활성 경로: /org/freedesktop/NetworkManager/ActiveConnection/3)
                    ```
                    
                - add
                    - 네트워크 연결 추가하기
                    
                    <aside>
                    💡 **nmcli connection add type 네트워크 유형 con-name 연결 프로파일 이름  ifname 장치이름 ip4 ip 주소/넷마스크 gw4 게이트웨이 주소**
                    
                    </aside>
                    
                    - 고정 IP 방식
                        
                        ```bash
                        # 고정 IP 방식으로 연결
                        user1@myubuntu:~$ nmcli con add type ethernet con-name testcon1 ifname ens33 ip4 192.168.1.10/24 gw4 192.168.1.1
                        
                        'testcon1' (e1d1186a-9d4b-455d-aa26-b21ef1bc3f47) 연결이 성공적으로 추가되었습니다.
                        
                        # 연결 확인
                        user1@myubuntu:~$ nmcli con show
                        
                        NAME         UUID                                  TYPE      DEVICE 
                        유선 연결 1  c85ade30-ca0c-35b7-a962-7a86317055c2  ethernet  ens33  
                        testcon1     e1d1186a-9d4b-455d-aa26-b21ef1bc3f47  ethernet  --
                        
                        user1@myubuntu:~$ nmcli con up testcon1
                        연결이 성공적으로 활성화되었습니다 (D-버스 활성 경로: /org/freedesktop/NetworkManager/ActiveConnection/5)
                            
                        user1@myubuntu:~$ nmcli net con
                        limited
                        # 고정 연결은 네트워크(이더넷)와는 연결되나, 실제 IP와는 차이가 있어 인터넷과는 연결되지 않기 때문에 limited로 출력됨
                        ```
                        
                    - 동적 IP 방식
                        
                        ```bash
                        # 동정 IP 방식으로 연결
                        user1@myubuntu:~$ nmcli con add type ethernet con-name testcon2 ifname ens33
                        
                        'testcon2' (d321c886-3d8d-498a-89a4-639b7423ad75) 연결이 성공적으로 추가되었습니다.
                        
                        # 연결 확인
                        user1@myubuntu:~$ nmcli con show
                        NAME         UUID                                  TYPE      DEVICE 
                        유선 연결 1  c85ade30-ca0c-35b7-a962-7a86317055c2  ethernet  ens33  
                        testcon1     e1d1186a-9d4b-455d-aa26-b21ef1bc3f47  ethernet  --     
                        testcon2     d321c886-3d8d-498a-89a4-639b7423ad75  ethernet  --
                        
                        user1@myubuntu:~$ nmcli con up testcon2
                        연결이 성공적으로 활성화되었습니다 (D-버스 활성 경로: /org/freedesktop/NetworkManager/ActiveConnection/3)
                        user1@myubuntu:~$ nmcli net con
                        full
                        # 동적 연결이기 때문에 이더넷, 인터넷 모두 사용 가능
                        ```
                        
                - mod
                    
                    <aside>
                    💡 **nmcli connection modify 연결 프로파일 이름 setting.property** **설정값**
                    
                    modify 이후에는 up 명령어로 다시 연결해야 명령이 반영됨
                    add에서도 동일하게 사용 가능
                    
                    </aside>
                    
                    ![addresses → address / 
                    connection - interface-name, type
                    ipv4 - address, dns, gateway
                    외우도록.](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/Untitled%2034.png)
                    
                    addresses → address / 
                    connection - interface-name, type
                    ipv4 - address, dns, gateway
                    외우도록.
                    
                    ```bash
                    user1@myubuntu:~$ nmcli con mod testcon1 ipv4.address 192.168.1.12    
                    user1@myubuntu:~$ nmcli con mod testcon1 ipv4.gateway 192.168.1.254
                    user1@myubuntu:~$ nmcli con mod testcon1 ipv4.dns "8.8.8.8 8.8.4.4"
                    
                    user1@myubuntu:~$ nmcli con up testcon1
                    연결이 성공적으로 활성화되었습니다 (D-버스 활성 경로: /org/freedesktop/NetworkManager/ActiveConnection/6)
                    
                    ens33: 연결됨 → testcon1
                            "Intel 82545EM"
                            ethernet (e1000), 00:0C:29:8A:71:CF, hw, mtu 1500
                            IP4 기본값
                            inet4 **192.168.1.12/32 # ip 주소/서브넷 마스크**
                            route4 **192.168.1.254/32** metric 20100 # 게이트 웨이
                            route4 default via 192.168.1.254 metric 20100
                            route4 169.254.0.0/16 metric 1000
                            inet6 fe80::425a:3e65:3f9e:1eb8/64
                            route6 fe80::/64 metric 1024
                    
                    lo: 관리되지 않음
                            "lo"
                            loopback (unknown), 00:00:00:00:00:00, sw, mtu 65536
                    
                    DNS configuration:
                            servers: **8.8.8.8 8.8.4.4 # DNS**
                            interface: ens33
                    ```
                    
                - del
                    
                    ```bash
                    user1@myubuntu:~$ nmcli con del testcon1
                    'testcon1'(ede8b770-e06f-46b7-b9f3-189ccd955cd2) 연결이 성공적으로 삭제되었습니다.
                    user1@myubuntu:~$ nmcli con del testcon2
                    'testcon2'(ce1b6c1a-a369-408b-8c00-fcac6d81501f) 연결이 성공적으로 삭제되었습니다.
                    
                    user1@myubuntu:~$ nmcli con show
                    NAME         UUID                                  TYPE      DEVICE 
                    유선 연결 1  76222f85-eec2-3420-aec8-6f207c5a447d  ethernet  ens33
                    ```
                    
            - device (dev)
                - status
                    
                    <aside>
                    💡 **모든 네트워크 장치**의 상태 표시
                    
                    </aside>
                    
                    ```bash
                    user1@myubuntu:~$ nmcli dev status
                    
                    DEVICE  TYPE      STATE          CONNECTION  
                    ens33   ethernet  연결됨         유선 연결 1 
                    lo      loopback  관리되지 않음  --
                    ```
                    
                - show
                    
                    <aside>
                    💡 네트워크 장치의 **상세정보** 보기
                    
                    </aside>
                    
                    ```bash
                    user1@myubuntu:~$ nmcli dev show ens33
                    
                    GENERAL.DEVICE:                         ens33
                    GENERAL.TYPE:                           ethernet
                    GENERAL.HWADDR:                         00:0C:29:0B:B2:8D
                    GENERAL.MTU:                            1500
                    GENERAL.STATE:                          100 (연결됨)
                    GENERAL.CONNECTION:                     유선 연결 1
                    GENERAL.CON-PATH:                       /org/freedesktop/NetworkManager/ActiveC>
                    WIRED-PROPERTIES.CARRIER:               켜짐
                    IP4.ADDRESS[1]:                         192.168.150.128/24
                    IP4.GATEWAY:                            192.168.150.2
                    IP4.ROUTE[1]:                           dst = 192.168.150.0/24, nh = 0.0.0.0, m>
                    IP4.ROUTE[2]:                           dst = 169.254.0.0/16, nh = 0.0.0.0, mt >
                    IP4.ROUTE[3]:                           dst = 0.0.0.0/0, nh = 192.168.150.2, mt>
                    IP4.DNS[1]:                             192.168.150.2
                    IP4.DOMAIN[1]:                          localdomain
                    IP6.ADDRESS[1]:                         fe80::4a4a:46d5:6744:292/64
                    IP6.GATEWAY:                            --
                    IP6.ROUTE[1]:                           dst = fe80::/64, nh = ::, mt = 1024
                    lines 1-18/18 (END)
                    ```
                    
        - DNS
            - DNS 설정
                - 호스트명을 IP 주소로 바꾸는 역할
                
                <aside>
                💡 DNS가 설정되어 있지 않다면 **호스트명으로 서버에 접속 불가**.
                직접 **IP 주소를 사용**해서 접속해야 함.
                
                </aside>
                
                - nslookup 명령어
                    
                    ![nslookup.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/nslookup.png)
                    
                    ```bash
                    user1@myubuntu:~$ nslookup www.naver.com
                    Server:		127.0.0.53 # DNS 서버 주소
                    Address:	127.0.0.53#53
                    
                    Non-authoritative answer:
                    www.naver.com	canonical name = www.naver.com.nheos.com.
                    Name:	www.naver.com.nheos.com
                    Address: 223.130.195.200
                    Name:	www.naver.com.nheos.com
                    Address: 223.130.200.107
                    
                    user1@myubuntu:~$ nslookup www.daum.net
                    Server:		127.0.0.53
                    Address:	127.0.0.53#53
                    
                    Non-authoritative answer:
                    www.daum.net	canonical name = daum-4vdtymgd.kgslb.com.
                    Name:	daum-4vdtymgd.kgslb.com
                    Address: 121.53.105.193
                    ```
                    
                
        - 호스트 이름
            
            <aside>
            💡 호스트 이름은 **설정 파일에 저장하고 DNS에 등록해야 서비스 제공이 가능**하다.
            
            </aside>
            
            - 호스트 이름 확인
                
                ```bash
                user1@myubuntu:~$ hostname
                myubuntu
                
                user1@myubuntu:~$ uname -n
                myubuntu
                
                user1@myubuntu:~$ hostnamectl status
                 Static hostname: myubuntu
                       Icon name: computer-vm
                         Chassis: vm
                      Machine ID: 08a0c1d6489c447bb2b597ecba3f222e
                         Boot ID: 80f12413ca2e4c429474d1c9c0362607
                  Virtualization: vmware
                Operating System: Ubuntu 22.04.3 LTS              
                          Kernel: Linux 6.2.0-37-generic
                    Architecture: x86-64
                 Hardware Vendor: VMware, Inc.
                  Hardware Model: VMware Virtual Platform
                ```
                
                ```bash
                user1@myubuntu:~$ uname -m # 하드웨어 종류
                x86_64
                user1@myubuntu:~$ uname -n # 호스트 이름
                myubuntu
                user1@myubuntu:~$ uname -r # 리눅스 커널 릴리스 정보
                6.2.0-37-generic
                user1@myubuntu:~$ uname -s # 운영체제 이름
                Linux
                user1@myubuntu:~$ uname -v # 운영체제 버전
                #38~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Thu Nov  2 18:01:13 UTC 2
                user1@myubuntu:~$ uname -a # 위 정보 출력
                Linux myubuntu 6.2.0-37-generic #38~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Thu Nov  2 18:01:13 UTC 2 x86_64 x86_64 x86_64 GNU/Linux
                ```
                
            - 호스트 이름 설정
                
                <aside>
                💡 **hostname han.server (han.server로 호스트 이름 설정)
                hostnamectl set-hostname myubuntu (myubuntu로 호스트 이름 설정)**
                
                hostname 명령으로 바뀐 호스트 이름은 **시스템이 재시작되면 원래의 이름**으로 돌아감
                → 바뀐 호스트 이름을 유지하려면 **파일 자체를 수정**해야 함
                
                우분투의 호스트 이름을 저장하는 파일: **/etc/hostname**
                
                </aside>
                
- 네트워크 상태 확인
    - 네트워크 연결 여부 확인 (ping)
        
        <aside>
        💡 ping [옵션] 목적지 주소
        → 목적지 주소 : ip 주소 or 도메인 이름
        
        64바이트의 패킷을 해당 주소에 지속적으로 전송하고 받는 것을 테스트 함 
        (56바이트의 크기 + 8바이트의 헤더)
        
        </aside>
        
        ![ping.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/ping.png)
        
        ```bash
        user1@myubuntu:~$ ping 192.168.112.2
        PING 192.168.112.2 (192.168.112.2) 56(84) bytes of data.
        64 bytes from 192.168.112.2: icmp_seq=1 ttl=128 time=0.470 ms
        64 bytes from 192.168.112.2: icmp_seq=2 ttl=128 time=0.347 ms
        64 bytes from 192.168.112.2: icmp_seq=3 ttl=128 time=0.734 ms
        64 bytes from 192.168.112.2: icmp_seq=4 ttl=128 time=0.393 ms
        64 bytes from 192.168.112.2: icmp_seq=5 ttl=128 time=0.782 ms
        64 bytes from 192.168.112.2: icmp_seq=6 ttl=128 time=0.378 ms
        64 bytes from 192.168.112.2: icmp_seq=7 ttl=128 time=0.718 ms
        64 bytes from 192.168.112.2: icmp_seq=8 ttl=128 time=0.937 ms
        64 bytes from 192.168.112.2: icmp_seq=9 ttl=128 time=0.343 ms
        64 bytes from 192.168.112.2: icmp_seq=10 ttl=128 time=1.28 ms
        64 bytes from 192.168.112.2: icmp_seq=11 ttl=128 time=0.767 ms
        ^C
        --- 192.168.112.2 ping statistics ---
        11 packets transmitted, 11 received, 0% packet loss, time 10141ms
        rtt min/avg/max/mdev = 0.343/0.649/1.276/0.282 ms
        ```
        
    - 통신 경로 확인 (traceroute)
        
        <aside>
        💡 정상적으로 경로가 확인되지 않을 경우 → * 출력
        
        </aside>
        
        ![reaceroute.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/reaceroute.png)
        
        ![traceroute2.png](%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%2035ceafba487944758959ee650d052feb/traceroute2.png)
        
        ```bash
        user1@myubuntu:~$ traceroute www.naver.com
        traceroute to www.naver.com (223.130.195.200), 30 hops max, 60 byte packets
         1  _gateway (192.168.112.2)  1.929 ms  1.837 ms  1.731 ms
         2  * * *
         3  * * *
         4  * * *
         5  * * *
         6  * * *
         7  * * *
         8  * * *
         9  * * *
        10  * * *^C
        ```
        
    - 중간 노드(게이트웨이) 확인 (whois)
        
        <aside>
        💡 중간 게이트웨이 보유 기관 확인
        
        </aside>
        
        ```bash
        user1@myubuntu:~$ whois 112.189.128.53
        query : 112.189.128.53
        
        # KOREAN(UTF8)
        
        조회하신 IPv4주소는 한국인터넷진흥원으로부터 아래의 관리대행자에게 할당되었으며, 할당 정보는 다음과 같습니다.
        
        [ 네트워크 할당 정보 ]
        IPv4주소           : 112.160.0.0 - 112.191.255.255 (/11)
        기관명             : 주식회사 케이티
        서비스명           : KORNET
        주소               : 경기도 성남시 분당구 불정로 90
        우편번호           : 13606
        할당일자           : 20090210
        
        이름               : IP주소 담당자
        전화번호           : +82-2-500-6630
        전자우편           : kornet_ip@kt.com
        
        --------------------------------------------------------------------------------
        
        조회하신 IPv4주소에 대한 위 관리대행자의 사용자 할당정보가 존재하지 않습니다.
        
        # ENGLISH
        
        KRNIC is not an ISP but a National Internet Registry similar to APNIC.
        
        [ Network Information ]
        IPv4 Address       : 112.160.0.0 - 112.191.255.255 (/11)
        Organization Name  : Korea Telecom
        Service Name       : KORNET
        Address            : Gyeonggi-do Bundang-gu, Seongnam-si Buljeong-ro 90
        Zip Code           : 13606
        Registration Date  : 20090210
        
        Name               : IP Manager
        Phone              : +82-2-500-6630
        E-Mail             : kornet_ip@kt.com
        
        - KISA/KRNIC WHOIS Service -
        ```
        

---

## ch. 11 원격 접속과 FTP

- telnet과 ssh
    - telnet
        
        <aside>
        💡 텔넷 : 원격에서 리눅스에 접속하는 프로그램
        텔넷 클라이언트와 텔넷 서버가 필요함
        
        </aside>
        
        - 
- 파일 송수신
    
    
- 메일 송수신
    
    

 

---
